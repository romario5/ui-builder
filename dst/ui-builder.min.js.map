{"version":3,"file":"ui-builder.min.js","sources":["../src/utils/strings.js","../src/utils/exceptions.js","../src/utils/logging.js","../src/utils/events-methods.js","../src/utils/object-utils.js","../src/core/extension.js","../src/core/data.js","../src/core/element.js","../src/utils/ui-utils.js","../src/core/instance.js","../src/core/css-generator.js","../src/core/interface.js","../src/core/reset-styles.js","../src/builder.js","../src/core/layout.js","../src/utils/color.js","../src/utils/geometry.js","../src/modules/theme/theme.js","../src/modules/CSRF.js","../src/modules/url.js","../src/utils/url.js","../src/modules/router.js","../src/core/localization.js","../src/core/global-events.js","../src/data-providers/ajax.js","../src/data-providers/ws.js","../src/modules/identity.js","../src/modules/format.js","../src/core/events-channel.js","../src/built-in/extensions/throttle-event.ext.js","../src/built-in/extensions/popover.ext.js","../src/built-in/extensions/number-filter.ext.js","../src/built-in/extensions/drag.ext.js","../src/built-in/extensions/sortable.ext.js","../src/built-in/extensions/tab.ext.js","../src/built-in/extensions/dropdown.ext.js","../src/built-in/extensions/load-more.ext.js","../src/built-in/extensions/active-trigger.ext.js","../src/built-in/interfaces/form-contorls.int.js","../src/built-in/interfaces/components.int.js","../src/built-in/interfaces/helpers.int.js","../src/built-in/ui/overlay/modal.ui.js","../src/built-in/ui/tabs/tabs.ui.js","../src/built-in/themes/default.theme.js","../src/built-in/themes/dark.theme.js","../src/built-in/themes/light.theme.js","../src/core/animation.js","../src/core/settings.js","../src/registries/extendings-registry.js","../src/registries/ui-registry.js","../src/registries/styles-registry.js","../src/core/extending.js","../src/core/namespace.js","../src/core/ui.js","../src/modules/theme/style-getter.js","../src/data-providers/storage.js","../src/index.js"],"sourcesContent":["/**\r\n * Splits string bu upper case.\r\n * @para {string} str\r\n * @return {Array}\r\n */\r\nexport function splitByUpperCase(str) {\r\n    return str.replace(/([A-Z]+)/g, \",$1\")\r\n        .replace(/^,/, '')\r\n        .split(',');\r\n}\r\n\r\n\r\n/**\r\n * Formats string to be useful in the \"id\" or \"class\" attribute.\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nexport function makeClassName(str) {\r\n    return splitByUpperCase(str.replace(/\\//g, '_').replace(' - ', '-'))\r\n        .join('-')\r\n        .replace(/([a-zA-Z_-])\\s+([a-zA-Z_\\-\\d])/g, \"$1-$2\")\r\n        .replace(/\\s*-+\\s*/gi, '-')\r\n        .replace(/-*_-*/gi, '_')\r\n        .toLowerCase();\r\n}","import Settings from '../core/settings';\r\n\r\n/**          Exceptions\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * This section contains exceptions definition.\r\n * Each new exception constructor should use base Exception constructor.\r\n * Use log() function to print exception message in the \"cache\" section.\r\n * Also you can use \"name\" property in your constructor that will be\r\n * printed after prefix and before main message.\r\n *\r\n * Usage example:\r\n *\r\n * try{\r\n *     if( myPlanetForm === 'flat' ) throw new Exception('Earth is flat!');\r\n * }catch(error){ error.log(); }\r\n *\r\n */\r\n\r\n\r\n/**\r\n * Base exception constructor with log() method.\r\n * @param message (string) - Message of the exception.\r\n */\r\nexport function Exception(message) {\r\n    this.message = message;\r\n}\r\n\r\nException.prototype = {\r\n    log: function () {\r\n        if (!Settings.logging) return;\r\n        if (this.message === '') return; // Exit if nothing to log.\r\n\r\n        let message = 'UIBuilder >>>'; // Message to be printed into the log.\r\n\r\n        if (this.hasOwnProperty('name')) message += ' ' + this.name; // Add name if specified.\r\n        message += ' ' + this.message; // Add message text.\r\n\r\n        if (!this.hasOwnProperty('type') || this.type === 'exception') {\r\n            console.error(message);\r\n\r\n        } else if (this.type === 'warning') {\r\n            console.warn(message);\r\n\r\n        } else {\r\n            console.log(message);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport function InvalidParamException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Invalid parameter.';\r\n}\r\nInvalidParamException.prototype = Exception.prototype;\r\n\r\n\r\n// Invalid options on UI registration.\r\nexport function UIRegistrationException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'UI registration.';\r\n}\r\nUIRegistrationException.prototype = Exception.prototype;\r\n\r\n\r\n// Invalid options on UI registration.\r\nexport function ExtensionRegistrationException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Extension registration.';\r\n}\r\nExtensionRegistrationException.prototype = Exception.prototype;\r\n\r\n\r\n// Exception about invalid scheme structure.\r\nexport function InvalidSchemeException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Invalid scheme.';\r\n}\r\nInvalidSchemeException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on building UI.\r\nexport function RenderingException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Rendering error.';\r\n}\r\nRenderingException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on setting parsing rule.\r\nexport function SettingsException(message) {\r\n    Exception.call(this, message);\r\n    this.type = 'warning';\r\n    this.name = 'Settings error.';\r\n}\r\nSettingsException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on loading data to the Instance.\r\nexport function InstanceLoadException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Instance data loading.';\r\n}\r\nInstanceLoadException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on loading data to the Instance.\r\nexport function ElementLoadException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Element data apply.';\r\n}\r\nElementLoadException.prototype = Exception.prototype;\r\n\r\n\r\nexport function UIDataException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'UI Data.';\r\n}\r\nUIDataException.prototype = Exception.prototype;\r\n\r\n\r\nexport function EventException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Events';\r\n}\r\nEventException.prototype = Exception.prototype;","import Settings from '../core/settings';\r\nimport {Exception} from './exceptions';\r\n\r\n\r\n/**\r\n * @var {string} String used as prefix in logging.\r\n */\r\nlet logPrefix = 'UI';\r\n\r\nlet msgFormatter = null;\r\n\r\n\r\n/**\r\n * Logs message using console.log(e) function.\r\n */\r\nexport function log(message) {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    if (Settings.logging) console.log.apply(console, msgFormatter(args));\r\n}\r\n\r\n\r\n/**\r\n * Logs message using console.warn() function.\r\n */\r\nexport function warn(message) {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    if (Settings.logging) console.warn.apply(console, msgFormatter(args));\r\n}\r\n\r\n\r\n/**\r\n * Logs message using console.error() function.\r\n */\r\nexport function error(message) {\r\n    if (!Settings.logging) return;\r\n\r\n    let args = Array.prototype.slice.call(arguments);\r\n\r\n    if (message instanceof Exception) {\r\n        message.log();\r\n    } else {\r\n        console.error.apply(console, msgFormatter(args));\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction defaultFormatter(args) {\r\n    args.unshift(logPrefix + ' >');\r\n    return args;\r\n}\r\n\r\n\r\nfunction chromeFormatter(args) {\r\n    args.unshift('font-weight: 900');\r\n    args.unshift('%c ' + logPrefix + ' >');\r\n    return args;\r\n}\r\n\r\n\r\n\r\n\r\nmsgFormatter = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor) ? chromeFormatter : defaultFormatter;","/**\r\n * Implementation of the events.\r\n * Call this constructor on prototype to add methods.\r\n * Also instance for which prototype events will be added must has 'events' property.\r\n * To fire event use triggerEvent method.\r\n *\r\n * Example: addEventsMethods(UIElement.prototype);\r\n *\r\n *\r\n * Usage of the events:\r\n *\r\n * // Handler added on the port 1.\r\n * instance.on('newMessage -> 1', msg => doSomething(msg));\r\n *\r\n * // Remove all handlers and add new one.\r\n * instance.offAllPorts().on('change -> profile', data => doSomething(data));\r\n */\r\nexport default function addEventsMethods(target)\r\n{\r\n    // Ensure that object-container is exists.\r\n    if(!target.hasOwnProperty('__')){\r\n        target.__ = {};\r\n    }\r\n    target.__.events = {};\r\n    target.__.dispatchers = {};\r\n    target.__.eventsTimeouts = {};\r\n\r\n    /**\r\n     * Adds event listener but returns dispatcher.\r\n     * @param {string|number} eventName\r\n     * @param {function} [handler]\r\n     * @returns {EventsDispatcher}\r\n     */\r\n    target.listen = function (eventName, handler) {\r\n        let port = null;\r\n        let arr = eventName.split('->');\r\n        if(arr.length === 2){\r\n            eventName = arr[0].trim();\r\n            port = arr[1].trim();\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if (!this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName] = new EventsDispatcher(eventName);\r\n        }\r\n        if(port !== null && typeof handler === 'function'){\r\n            this.__.dispatchers[eventName].on(port, handler);\r\n        }\r\n        return this.__.dispatchers[eventName];\r\n    };\r\n\r\n    /**\r\n     * Adds event listener for the event with name [[eventName]].\r\n     * @param {string} eventName\r\n     * @param {function} handler\r\n     * @returns {*}\r\n     * @throw EventException\r\n     */\r\n    target.addEventListener = function (eventName, handler) {\r\n        let portNumber = null;\r\n        let arr = eventName.split('->');\r\n        if(arr.length === 2){\r\n            eventName = arr[0].trim();\r\n            portNumber = arr[1].trim();\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if (typeof handler !== 'function') throw new EventException('Type of handler is not a function');\r\n\r\n        if(portNumber !== null){\r\n            this.listen(eventName).onPort(portNumber, handler);\r\n        }else{\r\n            if (!Array.isArray(this.__.events[eventName])) this.__.events[eventName] = [];\r\n            if (this.__.events[eventName].indexOf(handler) >= 0) return;\r\n            this.__.events[eventName].push(handler);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Add pseudonym.\r\n    target.on = target.addEventListener;\r\n\r\n\r\n    /**\r\n     * Removes specified event listener.\r\n     * @param {string} eventName\r\n     * @param {function} [handler]\r\n     * @throw EventException\r\n     */\r\n    target.removeEventListener = function (eventName, handler) {\r\n        eventName = eventName.toLowerCase();\r\n        if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n        if(handler === undefined){\r\n            delete this.__.events[eventName];\r\n            this.__.events[eventName] = [];\r\n        }else{\r\n            if (typeof handler !== 'function') throw new EventException('Type of handler is not a function');\r\n            let index = this.__.events[eventName].indexOf(handler);\r\n            if (index < 0) return this;\r\n            this.__.events[eventName].splice(index, 1);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Add pseudonym.\r\n    target.off = target.removeEventListener;\r\n\r\n\r\n    /**\r\n     * Triggers event with name [[eventName]].\r\n     * There are few arguments can be passed instead of date.\r\n     * All the arguments (omitting event name) will be passed to the handlers.\r\n     * To trigger event with delay use next syntax:\r\n     *   target.triggerEvent('change ~250');\r\n     *\r\n     * In the example above '~250' means that event will be triggered with delay in 250 milliseconds.\r\n     *\r\n     * @param {string} eventName\r\n     * @param {*} [data]\r\n     */\r\n    target.triggerEvent = function (eventName, data) {\r\n        eventName = eventName.toLowerCase();\r\n\r\n        let delay = 0;\r\n        let arr = eventName.split('~');\r\n        if (arr.length > 1) delay = parseInt(arr[1].trim());\r\n        eventName = arr[0].trim();\r\n\r\n        let args = [];\r\n        for (let i = 1, len = arguments.length; i < len; i++) {\r\n            args.push(arguments[i]);\r\n        }\r\n\r\n        // Interrupt all delayed events.\r\n        if (this.__.eventsTimeouts !== undefined) {\r\n            clearTimeout(this.__.eventsTimeouts[eventName]);\r\n        }\r\n\r\n        if (this.__.dispatchers.hasOwnProperty(eventName)) {\r\n            if (delay > 0) {\r\n                this.__.eventsTimeouts[eventName] = setTimeout(function (_this, eventName, args) {\r\n                    _this.__.dispatchers[eventName].runHandlers(_this, args);\r\n                }, delay, this, eventName, args);\r\n            } else {\r\n                this.__.dispatchers[eventName].runHandlers(this, args);\r\n            }\r\n        }\r\n\r\n        if (!this.__.events.hasOwnProperty(eventName)) return;\r\n\r\n        if (delay > 0) {\r\n            this.__.eventsTimeouts[eventName] = setTimeout(function (_this, eventName, args) {\r\n                for (let i = 0; i < _this.__.events[eventName].length; i++) {\r\n                    _this.__.events[eventName][i].apply(_this, args);\r\n                }\r\n            }, delay, this, eventName, args);\r\n        } else {\r\n            for (let i = 0; i < this.__.events[eventName].length; i++) {\r\n                this.__.events[eventName][i].apply(this, args);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Interrupts all delayed events with given name.\r\n     * @param eventName\r\n     * @return {target}\r\n     */\r\n    target.interruptEvent = function (eventName) {\r\n        clearTimeout(this.__.eventsTimeouts[eventName]);\r\n        return this;\r\n    };\r\n\r\n\r\n    /**\r\n     * Removes handler of the given event from the given port.\r\n     * @param eventName {string}\r\n     * @param port {string}\r\n     */\r\n    target.offPort = function (eventName, port) {\r\n        if(port === undefined){\r\n            let arr = eventName.split('->');\r\n            if(arr.length === 2){\r\n                eventName = arr[0].trim();\r\n                port = arr[1].trim();\r\n            }\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if(this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName].offPort(port);\r\n        }\r\n    };\r\n\r\n    target.offAllPorts = function (eventName) {\r\n        eventName = eventName.toLowerCase();\r\n        if(this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName].offAllPorts();\r\n        }\r\n    };\r\n\r\n    target.trigger = target.triggerEvent;\r\n}\r\n\r\n\r\n/**\r\n * Object that encapsulates events ports.\r\n * Port is like named event handler.\r\n * It's useful when one event handler must be replaced with another one\r\n * when link on the previous handler is absent.\r\n * Also ports can be used with entity ids (to attach handler for some id).\r\n */\r\nclass EventsDispatcher\r\n{\r\n    constructor (eventName) {\r\n        this.eventName = eventName;\r\n        this.ports = {};\r\n    }\r\n\r\n    /**\r\n     * Attaches handler on the given port.\r\n     * @param port {string}\r\n     * @param handler {function}\r\n     */\r\n    onPort(port, handler){\r\n        if(this.ports.hasOwnProperty(port)){\r\n            delete this.ports[port];\r\n        }\r\n        if(typeof handler !== 'function'){\r\n            throw new EventException('Type of handler is not a function');\r\n        }\r\n        this.ports[port] = handler;\r\n    }\r\n\r\n    /**\r\n     * Runs all handlers (all ports).\r\n     * Binds context as [this] and passes arguments to the handlers.\r\n     * @param context {object}\r\n     * @param args {array}\r\n     */\r\n    runHandlers(context, args){\r\n        for(let p in this.ports){\r\n            if(this.ports.hasOwnProperty(p)){\r\n                this.ports[p].apply(context, args);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes event handler from the given port.\r\n     * @param port {string}\r\n     */\r\n    offPort(port){\r\n        if (this.ports.hasOwnProperty(port)) {\r\n            delete this.ports[port];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all event handlers.\r\n     */\r\n    offAllPorts(){\r\n        delete this.ports;\r\n        this.ports = {};\r\n    }\r\n}","/**\r\n * Returns true if object is empty.\r\n * @param {object} obj\r\n * @returns {boolean}\r\n */\r\nexport function isEmpty(obj) {\r\n    if (obj === null) return true;\r\n    if (obj.length > 0)    return false;\r\n    if (obj.length === 0)  return true;\r\n    if (typeof obj !== \"object\") return true;\r\n    for (let key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * Creates copy of the given object.\r\n * Note that only simple objects will be copied recursively.\r\n * Other objects will be copied as links.\r\n * @param {object} obj\r\n * @returns {{}}\r\n */\r\nexport function cloneSimpleObject(obj) {\r\n    let clone = {};\r\n    for(let i in obj) {\r\n        if(obj.hasOwnProperty(i)){\r\n            if(Array.isArray(obj[i])){\r\n                clone[i] = obj[i].slice(0);\r\n            }else if(obj[i] !== null && typeof obj[i] === \"object\" && obj[i].constructor === Object && obj[i] !== null) {\r\n                clone[i] = cloneSimpleObject(obj[i]);\r\n            }else{\r\n                clone[i] = obj[i];\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n}\r\n\r\nexport function cloneObjectTo(src, dst){\r\n    for(let p in src){\r\n        if(src.hasOwnProperty(p)){\r\n            if(Array.isArray(src[p])){\r\n                dst[p] = src[p].slice(0);\r\n            }else if(typeof src[p] === 'object'){\r\n                dst[p] = {};\r\n                cloneObjectTo(src[p], dst[p]);\r\n            }else{\r\n                dst[p] = src[p];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Extends object using another one.\r\n * Note that properties that are not simple objects will be copied as links without recursion.\r\n * It used when copying CSS styles: StyleGetter must be copied as link.\r\n * @param {object} src\r\n * @param {object} dst\r\n * @returns {*}\r\n */\r\nexport function extendObject(src, dst) {\r\n    for(let p in src){\r\n        if(src.hasOwnProperty(p)){\r\n            if(typeof src[p] !== 'object' || src[p].constructor !== Object){\r\n                dst[p] = src[p];\r\n            }else{\r\n                if(typeof dst[p] !== 'object'){\r\n                    dst[p] = {};\r\n                }\r\n                extendObject(src[p], dst[p]);\r\n            }\r\n        }\r\n    }\r\n    return dst;\r\n}","import addEventsMethods from '../utils/events-methods';\r\nimport {cloneSimpleObject} from '../utils/object-utils';\r\nimport {error} from '../utils/logging';\r\n\r\n/**\r\n * Class that represents single extension.\r\n *\r\n * @property name    {string}\r\n * @property options {object}\r\n *\r\n * @method on(eventName, handler)\r\n * @method off(eventName, handler)\r\n * @method triggerEvent(eventName, [args...])\r\n */\r\nclass Extension\r\n{\r\n    constructor(name, options) {\r\n        if (options === undefined) options = {};\r\n\r\n        this.name = name;\r\n        this.params = options.params || {};\r\n\r\n        // Add properties to store events handlers.\r\n        this.__ = {\r\n            events: {},\r\n            eventsTimeouts: {},\r\n            dispatchers: {}\r\n        };\r\n\r\n        // Add events listeners from properties that begins from 'on'.\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && typeof options[p] === 'function' && p.length > 2 && p.slice(0, 2) === 'on') {\r\n                this.on(p.slice(2).toLowerCase(), options[p]);\r\n            }else if (!this.hasOwnProperty(p)) {\r\n                this[p] = options[p];\r\n            }\r\n        }\r\n    }\r\n\r\n    applyTo(target, params) {\r\n        let ext = new ExtensionInstance(target, this);\r\n\r\n        for (let p in params) {\r\n            if (params.hasOwnProperty(p) && ext.params.hasOwnProperty(p)) {\r\n                ext.params[p] = params[p];\r\n            }\r\n        }\r\n\r\n        if (target.hasOwnProperty('__') && target.__.hasOwnProperty('extensions')) {\r\n            target.__.extensions[this.name] = ext;\r\n        }\r\n\r\n        this.triggerEvent('apply', ext, target, ext.params);\r\n        extensionsManager.triggerEvent('apply', ext);\r\n        return ext;\r\n    }\r\n\r\n    removeFrom(target) {\r\n        if (target.hasOwnProperty('__') && target.__.hasOwnProperty('extensions')) {\r\n            let ext = target.__.extensions[this.name];\r\n            if (ext instanceof ExtensionInstance) {\r\n                ext.triggerEvent('remove');\r\n                this.triggerEvent('remove', ext);\r\n            }\r\n        }\r\n    }\r\n}\r\n// Add events support.\r\naddEventsMethods(Extension.prototype);\r\n\r\n/**\r\n * Class that represents instance of the applied extension.\r\n * Holds information about extension, target and parameters.\r\n *\r\n * @property name   {string}\r\n * @property target {Element|Instance}\r\n * @property params {object}\r\n *\r\n * @method on(eventName, handler)\r\n * @method off(eventName, handler)\r\n * @method triggerEvent(eventName, [args...])\r\n */\r\nclass ExtensionInstance\r\n{\r\n    constructor(target, extension) {\r\n        this.name = extension.name;\r\n        this.target = target;\r\n        this.params = cloneSimpleObject(extension.params);\r\n        this.vars = {};\r\n    }\r\n\r\n    update(params) {\r\n        let ext = extensionsManager(this.name);\r\n        if (ext !== null) {\r\n            ext.triggerEvent('update', this, params);\r\n        }\r\n    }\r\n\r\n    remove() {\r\n        let ext = extensionsManager(this.name);\r\n        if (ext !== null) {\r\n            ext.triggerEvent('remove', this);\r\n        }\r\n    }\r\n}\r\naddEventsMethods(ExtensionInstance.prototype);\r\n\r\n/**\r\n * Object that holds all registered extensions.\r\n * @type {{Extension}}\r\n */\r\nlet extensions = {};\r\n\r\n\r\n/**\r\n * Exported function-helper that returns extension by name.\r\n * Also has methods to manage extensions.\r\n * @param name\r\n * @return {*}\r\n */\r\nexport default function extensionsManager(name) {\r\n    if (extensions.hasOwnProperty(name)) {\r\n        return extensions[name];\r\n    }\r\n    return null;\r\n}\r\naddEventsMethods(extensionsManager);\r\n\r\n/**\r\n * Registers new extension with given name.\r\n * @param name {string}\r\n * @param options {object}\r\n */\r\nextensionsManager.register = function(name, options) {\r\n    if (extensions.hasOwnProperty(name)) {\r\n        error('Extension with name \"' + name + '\" is already registered.');\r\n    }\r\n    let ext = new Extension(name, options);\r\n    extensionsManager.triggerEvent('register', ext);\r\n    extensions[name] = ext;\r\n};","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n * Data provider\r\n *\r\n * Data is a kind of data provider that used to retrieve data\r\n * from some storage or resource or generate it itself.\r\n * To get data use fetch() method.\r\n * Also Data provides events support.\r\n *\r\n * The data fetched by the Data can be cached.\r\n * To use cache define \"cacheLifetime\" property when configuring the Data.\r\n * If lifetime is null then cache will not be used.\r\n * If lifetime is Infinity then cached data will be returning until the page will be refreshed.\r\n *\r\n * If you need to use some data on fetching process (AJAX or generating depending on user input, etc.)\r\n * the parameters() method can be used for this purposes.\r\n *\r\n * The next events are available:\r\n * - fetch     fetch() method is called\r\n * - progress  another part of data is ready\r\n * - dataReady Data is ready to return data\r\n * - error     error is occurred during data fetching an error event will be triggered\r\n *\r\n * @method on(eventName, args...)\r\n * @param {object} params - Parameters that contains necessary data for fetching.\r\n * @constructor\r\n */\r\nexport default class Data\r\n{\r\n    constructor(params){\r\n        if (params === undefined) {\r\n            params = {};\r\n        }\r\n\r\n        // Define service property that encapsulates hidden data.\r\n        this.__ = {\r\n            events: {},\r\n            dispatchers: {},\r\n            eventsTimeouts: {}\r\n        };\r\n\r\n        /**\r\n         * Flag if last fetch was completed with error.\r\n         * @type {boolean}\r\n         */\r\n        this.hasError = false;\r\n\r\n        /**\r\n         * Flag if Data is ready to fetching.\r\n         * @type {boolean}\r\n         */\r\n        this.ready = true;\r\n\r\n        /**\r\n         * Data got by last fetch.\r\n         * @type {null|*}\r\n         */\r\n        this.cache = null;\r\n\r\n        /**\r\n         * Lifetime of cache. null - not used. Infinity - until page refresh.\r\n         * @type null|number|Infinity\r\n         */\r\n        this.cacheLifetime = null;\r\n\r\n        /**\r\n         * If true allows to fetch data if previous\r\n         * fetch process is not completed yet.\r\n         * Set is to false to prevent unnecessary fetching calls.\r\n         * @type {boolean}\r\n         */\r\n        this.allowMultiple = true;\r\n\r\n        /**\r\n         * Set the collector.\r\n         * Data collector is a function that provides data by the given parameters.\r\n         * If not set - defaultCollector will be used.\r\n         */\r\n        if (params.hasOwnProperty('collector')) {\r\n            if (typeof params.collector !== 'function')\r\n                throw new UIDataException('Collector must be a function but ' + typeof params.collector + ' given.');\r\n            this.collector = params.collector;\r\n        } else {\r\n            this.collector = defaultCollector;\r\n        }\r\n\r\n        // Add events handlers if any given with 'on' prefix.\r\n        let events = ['fetch', 'complete', 'error', 'progress'];\r\n        for(let i = 0; i < events.length; i++){\r\n            if (params.hasOwnProperty('on' + events[i]) && typeof params['on' + events[i]] === 'function') {\r\n                this.on(events[i], params['on' + events[i]]);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Time in which data should be loaded.\r\n         * If waiting time is elapsed - an error event will be triggered\r\n         * and [hasError] property will be set to true.\r\n         * @type {number}\r\n         */\r\n        this.waitingLimit = params.hasOwnProperty('waitingTime') ? parseInt(params['waitingTime']) : 3000;\r\n\r\n        /**\r\n         * Last data fetching time.\r\n         * @type {number}\r\n         */\r\n        this.timeElapsed = 0;\r\n\r\n        /**\r\n         * UNIX timestamp which indicates last fetching start time.\r\n         * @type {number}\r\n         */\r\n        this.lastFetchTime = Date.now();\r\n\r\n        /**\r\n         * Data to be used on fetching.\r\n         * For example it can be parameters to be sent via AJAX.\r\n         */\r\n        if(params.hasOwnProperty('data')){\r\n            this._parameters = params.data;\r\n        }else{\r\n            this._parameters = params.hasOwnProperty('parameters') ? params.parameters : {};\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets parameters of the Data. It can be used during fetching process.\r\n     * For example in DataAjax parameters will be send with request.\r\n     * @param [params] {object}\r\n     * @returns {Data}\r\n     */\r\n    parameters(params) {\r\n        if(params === undefined){\r\n            return this._parameters;\r\n        }\r\n        this._parameters = params;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Alias for the parameters() method.\r\n     * @param [params] {object}\r\n     * @return {Data}\r\n     */\r\n    params(params) {\r\n        return this.parameters(params);\r\n    }\r\n\r\n    /**\r\n     * Fetches data by executing collector.\r\n     * @param [callback] {function}\r\n     * @return {boolean|*}\r\n     */\r\n    fetch(callback) {\r\n        this.hasError = false;\r\n        if ((this.allowMultiple || this.ready) && typeof this.collector === 'function') {\r\n            this.triggerEvent('fetch');\r\n            this.ready = false;\r\n            return this.collector(callback);\r\n        }\r\n        if (typeof params === 'object') this.params = params;\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Alias for the fetch() method.\r\n     * @param [callback] {function}\r\n     * @return {boolean|*}\r\n     */\r\n    send(callback) {\r\n        return this.fetch(callback);\r\n    }\r\n}\r\n\r\n// Add events to the Data's instances.\r\naddEventsMethods(Data.prototype);\r\n\r\n// Also add events to the Data object globally.\r\naddEventsMethods(Data);\r\n\r\n\r\n/**\r\n * Data collector\r\n *\r\n * Data collectors are the functions that encapsulate\r\n * data fetching process and provide unified procedure of the\r\n * returning fetched data.\r\n * Data returning is implemented by using a callback function\r\n * that will be called just after data received.\r\n * Also data collectors triggers all necessary events of the\r\n * Data to which they was attached.\r\n *\r\n * Events that can be triggered:\r\n * - complete  When data fetching process is complete\r\n * - dataReady When data is successfully fetched\r\n * - error     If error is occurred\r\n * - progress  If a part of all data was fetched. Percentage of the data done must be passed in the second argument.\r\n *\r\n * @param {function} callback\r\n * @see Data\r\n */\r\nfunction defaultCollector(callback) {\r\n    if (typeof callback !== 'function') this.triggerEvent('error');\r\n    callback(this.cache, this);\r\n    this.triggerEvent('dataReady', this.cache);\r\n}\r\n\r\n\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport extensionsManager from './extension';\r\nimport {error, warn} from '../utils/logging';\r\nimport {cloneObjectTo} from '../utils/object-utils';\r\nimport Animation from './animation';\r\nimport Data from './data';\r\n\r\n/**\r\n * Element class represents simple DOM node.\r\n * It's actually wrapper of the node.\r\n * Elements provide few useful methods like [css()}, [val()] and so on.\r\n */\r\nexport default class Element\r\n{\r\n    constructor(params){\r\n        // Define service property that encapsulates hidden data.\r\n        Object.defineProperty(this, '__', {\r\n            value: {},\r\n            configurable: false,\r\n            enumerable: false,\r\n            writeable: false\r\n        });\r\n\r\n        // Set parameters\r\n        this.__.name = params.name !== undefined ? params.name : null;\r\n        this.__.child = params.child !== undefined ? params.child : null;\r\n        this.__.childParams = params.parameters || {};\r\n        this.__.class = params.class !== undefined ? params.class : null;\r\n        this.__.id = params.id !== undefined ? params.id : null;\r\n        this.__.tag = params.tag !== null && params.tag !== undefined ? params.tag.toLowerCase() : 'div';\r\n        this.__.inclusion = null;\r\n\r\n        // Create node.\r\n        if (this.__.tag === '') this.__.tag = 'div';\r\n        this.__.node = document.createElement(this.__.tag);\r\n        this.__.parent = null;\r\n        this.__.uiinstance = null;\r\n        this.__.instance = null;\r\n\r\n        this.__.node.instance = null;\r\n\r\n        // Deprecated property.\r\n        // Please use [instance] property.\r\n        this.__.node.uiinstance = null;\r\n\r\n\r\n        this.__.node.element = this;\r\n\r\n        // Deprecated property.\r\n        // Please use [element] property.\r\n        this.__.node.uielement = this;\r\n\r\n        /**\r\n         * Holds extensions that applied to the element.\r\n         * @type {{ExtensionInstance}}\r\n         */\r\n        this.__.extensions = {};\r\n\r\n        // Deprecated properties.\r\n        // Please use [extensions] property to store extensions data.\r\n        // Dragging options.\r\n        this.__.draggable = false;\r\n        this.__.dragX = false;\r\n        this.__.dragY = false;\r\n        this.__.isDragging = false;\r\n        this.__.dragWithinParent = false;\r\n        this.__.dragBoundaries = false;\r\n        this.__.localization = null;\r\n        this.__.translation = null;\r\n\r\n\r\n        // Tabs behaviour properties.\r\n        this.__.tabContainer = null;\r\n\r\n        this.__.animation = null;\r\n        this.__.fx = null;\r\n\r\n        // Set data collector.\r\n        // Not used at the moment.\r\n        // Desired behavior it's to link data provider with element to\r\n        // update data automatically.\r\n        this.__.data = params.data === undefined ? null : params.data;\r\n\r\n        // Children is an array for the instances of child UI or inclusions (defined in the scheme as '|item' for example).\r\n        // Do NOT add single child elements or other.\r\n        this.__.children = [];\r\n\r\n        // Events handlers container.\r\n        this.__.events = {};\r\n\r\n        // Attach attributes.\r\n        for (let p in params.attributes) {\r\n            if(params.attributes.hasOwnProperty(p)){\r\n                this.__.node.setAttribute(p, params.attributes[p]);\r\n            }\r\n        }\r\n\r\n        // Set properties.\r\n        for (let p in params.properties) {\r\n            if(params.properties.hasOwnProperty(p)){\r\n                // Use prototype method if available.\r\n                if (Element.prototype.hasOwnProperty(p) && typeof Element.prototype[p] === 'function') {\r\n                    Element.prototype[p].call(this, params.properties[p]);\r\n\r\n                    // Otherwise set node properties directly.\r\n                } else {\r\n                    this.__.node[p] = params.properties[p];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Set class and id.\r\n        if (typeof this.__.class === 'string') this.__.node.className = this.__.class;\r\n        if (typeof this.__.id === 'string') this.__.node.id = this.__.id;\r\n    }\r\n}\r\n\r\n/**\r\n * Applies extension to the element.\r\n * Returns true if applying was successful.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.applyExtension = function (name, params) {\r\n    // Log warning if extension is already applied to the element.\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        warn('Extension with name \"' + name + '\" is already applied to the element.');\r\n        return false;\r\n    }\r\n\r\n    // Log error if requested extension is absent.\r\n    let ext = extensionsManager(name);\r\n    if(ext === null){\r\n        error('Extension with name \"' + name + '\" is not registered yet.');\r\n        return false;\r\n    }\r\n\r\n    this.__.extensions[name] = ext.applyTo(this, params);\r\n    return true;\r\n};\r\n\r\n/**\r\n * Returns extension by name.\r\n * @param name {string}\r\n * @return {ExtensionInstance|null}\r\n */\r\nElement.prototype.extension = function (name) {\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        return this.__.extensions[name];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Removes extension from the element.\r\n * Returns true if removing was successful.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nElement.prototype.removeExtension = function (name) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n\r\n    let ext = this.__.extensions[name];\r\n    if (ext.remove !== undefined) {\r\n        ext.remove();\r\n        delete this.__.extensions[name];\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * Tries to update extension with given name by passing new parameters.\r\n * To make update possible extension must implement 'update' event handler.\r\n * @param name {string} Name of the extension.\r\n * @param params {object} Parameters to be updated.\r\n * @return {boolean}\r\n */\r\nElement.prototype.updateExtension = function (name, params) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n    let ext = this.__.extensions[name];\r\n    if (ext.update !== undefined) {\r\n        ext.update(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Applies localization to the element.\r\n * The localization category is stored in the \"localization\" attribute\r\n * and the translation is stored in the \"T\" property of the element node.\r\n * @param localization\r\n * @param translation\r\n * @returns {Element}\r\n */\r\nElement.prototype.applyLocalization = function (localization, translation) {\r\n    this.__.node.setAttribute('localization', localization);\r\n    this.__.node.T = translation;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Checks if element has child UI.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasChildUI = function () {\r\n    return this.__.child !== null;\r\n};\r\n\r\n/**\r\n * Returns node of the element.\r\n * Note that node can be not appended to another one.\r\n * @returns {Node}\r\n */\r\nElement.prototype.node = function(){\r\n    return this.__.node;\r\n};\r\n\r\n/**\r\n * Getter/setter of the node's [scrollTop] property.\r\n * @param value\r\n * @returns {Element}\r\n */\r\nElement.prototype.scrollTop = function(value){\r\n    if(value === undefined){\r\n        return this.__.node.scrollTop;\r\n    }\r\n    this.__.node.scrollTop = value;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Getter/setter of the node's [ScrollHeight] property.\r\n * @returns {number}\r\n */\r\nElement.prototype.scrollHeight = function(){\r\n    return this.__.node.scrollHeight;\r\n};\r\n\r\n/**\r\n * Sets child UI.\r\n * @param {string|UI} ui\r\n * @returns {Element}\r\n */\r\nElement.prototype.setChildUI = function (ui) {\r\n    if (typeof ui === 'string') {\r\n        this.__.child = ui;\r\n    } else if (ui.render !== undefined) {\r\n        this.__.child = ui.name;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns child UI.\r\n * @returns {UI|null}\r\n */\r\nElement.prototype.getChildUI = function () {\r\n    return uiRegistry.get(this.__.child);\r\n};\r\n\r\n/**\r\n * Checks if element includes another ui instance.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasInclusion = function () {\r\n    return this.__.inclusion !== null\r\n        && this.__.children.length === 1\r\n        && this.__.children[0].__ !== undefined;\r\n};\r\n\r\n/**\r\n * Finds parent element (Element) inside own Instance.\r\n * If element has no local parent null will be returned.\r\n * @returns {Element|null}\r\n */\r\nElement.prototype.findTopLocalParent = function () {\r\n    let p = this;\r\n    while (p instanceof Element) {\r\n        if (p.__.parent === null) break;\r\n        if (p.__.parent instanceof Element && p.__.parent.__.instance === this.__.instance) {\r\n            p = p.__.parent;\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n    if (p === this) return null;\r\n    return p;\r\n};\r\n\r\n/**\r\n * Returns element inclusion.\r\n * @returns {Element.inclusion|*|null}\r\n */\r\nElement.prototype.inclusion = function () {\r\n    return this.__.inclusion;\r\n};\r\n\r\n/**\r\n * Returns instance in which element is rendered.\r\n * @returns {Element.instance|*|null}\r\n */\r\nElement.prototype.instance = function () {\r\n    return this.__.instance;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Use [instance()] method instead.\r\n * @returns {Instance}\r\n * @deprecated\r\n * @see Element.instance\r\n */\r\nElement.prototype.UII = function () {\r\n    return this.__.instance;\r\n};\r\n\r\n/**\r\n * Returns prent element.\r\n * @returns {Element|null}\r\n */\r\nElement.prototype.parent = function () {\r\n    return this.__.parent;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Use [parentInstance()] method instead.\r\n * @returns {Instance|null}\r\n * @deprecated\r\n * @see Element.parentInstance\r\n */\r\nElement.prototype.parentUII = function () {\r\n    return this.instance() === null ? null : this.UII().parentUII();\r\n};\r\n\r\n/**\r\n * Returns parent instance.\r\n * @returns {*}\r\n */\r\nElement.prototype.parentInstance = function () {\r\n    return this.instance() === null ? null : this.UII().parentUII();\r\n};\r\n\r\n/**\r\n * Returns all children of the element.\r\n * Children are all the instances that rendered inside the element using child UI.\r\n * @returns {array}\r\n */\r\nElement.prototype.children = function () {\r\n    return this.__.children;\r\n};\r\n\r\n/**\r\n * Returns all child elements even if they are not instances of the child UI.\r\n * @returns {Element[]}\r\n */\r\nElement.prototype.getAllChildElements = function()\r\n{\r\n    let c = this.__.node.childNodes;\r\n    let res = [];\r\n    for(let i = 0, len = c.length; i < len; i++){\r\n        if(c[i].uielement instanceof Element) res.push(c[i].uielement);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns all nearby elements (siblings) even if they are not instances of the child UI.\r\n * @returns {Element[]}\r\n */\r\nElement.prototype.getAllNearbyElements = function()\r\n{\r\n    let c = this.__.node.parentNode.childNodes;\r\n    let res = [];\r\n    for(let i = 0, len = c.length; i < len; i++){\r\n        if(c[i].element instanceof Element && c[i].element !== this) res.push(c[i].element);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * List of events that will be attached directly to the node.\r\n * @type {string[]}\r\n */\r\nlet nativeEvents = ['submit', 'abort', 'beforeinput', 'blur', 'click', 'compositionen', 'paste',\r\n    'compositionstart', 'compositionupdate', 'dblclick', 'error', 'focus', 'change',\r\n    'focusin', 'focusout', 'input', 'keydown', 'keypress', 'keyup', 'load',\r\n    'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseout', 'mouseover', 'mousewheel',\r\n    'mouseup', 'resize', 'scroll', 'select', 'unload', 'wheel', 'touchstart', 'touchend', 'touchmove'\r\n];\r\n\r\n\r\n/**\r\n * Implements specific events system.\r\n * Elements need to handle native JS events so\r\n * do NOT use [addEventsImplementation] for Element!\r\n * Note that element's events system doesn't supports ports.\r\n * @param {string} eventName\r\n * @param {function} handler\r\n */\r\nElement.prototype.addEventListener = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if(typeof handler !== 'function'){\r\n        error('Invalid callback type given for the event \"'+ eventName + '\".');\r\n        return;\r\n    }\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) this.__.events[eventName] = [];\r\n\r\n    // Exit if handler is already added.\r\n    if (this.__.events[eventName].indexOf(handler) >= 0) {\r\n        warn('Handler for the event \"' + eventName + '\" already added.');\r\n        return this;\r\n    }\r\n\r\n    this.__.events[eventName].push(handler);\r\n\r\n    if (nativeEvents.indexOf(eventName) >= 0) {\r\n        this.__.node.addEventListener(eventName, runElementHandlers);\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n// Add some syntax sugar.\r\nElement.prototype.on = Element.prototype.addEventListener;\r\n\r\n/**\r\n * Removes events listener.\r\n * @param eventName\r\n * @param {function} handler\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeEventListener = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n\r\n    let index = this.__.events[eventName].indexOf(handler);\r\n    if (index < 0) return this;\r\n    this.__.events[eventName].splice(index, 1);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes all handlers for the given event.\r\n * @param {string} eventName\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeAllEventListeners = function (eventName) {\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n    this.__.events[eventName] = null;\r\n    delete this.__.events[eventName];\r\n    this.__.node.removeEventListener(eventName, runElementHandlers);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes given handler (or all handlers if omitted) of the given event.\r\n * @param {string} eventName\r\n * @param {function} [handler]\r\n * @returns {Element}\r\n */\r\nElement.prototype.off = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if (handler !== undefined) {\r\n        this.removeEventListener(eventName, handler);\r\n    } else {\r\n        this.removeAllEventListeners(eventName);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Triggers event with given name.\r\n * @param {string} eventName\r\n * @param {*} [data]\r\n * @returns {Element}\r\n */\r\nElement.prototype.triggerEvent = function (eventName, data) {\r\n    eventName = eventName.toLowerCase();\r\n    let args = [], i;\r\n    for (i = 1; i < arguments.length; i++) {\r\n        args.push(arguments[i]);\r\n    }\r\n\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n\r\n    let handlers = this.__.events[eventName];\r\n    for (i = 0; i < handlers.length; i++) {\r\n        handlers[i].apply(this, args);\r\n    }\r\n};\r\n\r\nfunction runElementHandlers(e) {\r\n    let handlers = this.uielement.__.events[e.type];\r\n    for (let i = 0; i < handlers.length; i++) {\r\n        handlers[i].call(this.uielement, this.uiinstance, e);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Removes all children.\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeChildren = function () {\r\n    for (let i = 0, len = this.__.children.length; i < len; i++) {\r\n        this.__.children[0].remove();\r\n    }\r\n    this.__.children = [];\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Removes element from the parent and from the instance.\r\n */\r\nElement.prototype.remove = function () {\r\n    if (this.__.node.parentNode === null) return;\r\n    this.__.node.parentNode.removeChild(this.__.node);\r\n    delete this.__.node.uiinstance[this.__.name];\r\n};\r\n\r\n\r\n/**\r\n * Adds one instance of child UI to the element.\r\n * @param {boolean} [atStart] If true, builds UI at the start of the list\r\n * @param {object} [params] Parameters of the newly created UI.\r\n * @returns {Instance} - New instance of the UI, that was appended to the Element.node\r\n */\r\nElement.prototype.addOne = function (atStart, params) {\r\n    if (typeof params !== 'object') {\r\n        params = typeof atStart === 'object' ? atStart : this.__.childParams;\r\n    }\r\n    atStart = atStart === true;\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.add(ui, atStart, params);\r\n};\r\n\r\n/**\r\n *\r\n * @param target\r\n * @param params\r\n * @return {*}\r\n */\r\nElement.prototype.addOneAfter = function (target, params) {\r\n    if (typeof params !== 'object') {\r\n        params = {};\r\n    }\r\n    if(target.isImplementationOf === undefined){\r\n        return error('Invalid parameter given for the element method \"addOneAfter()\" - instance is required but ' + (typeof target) + ' given.');\r\n    }\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.addAfter(ui, target, params);\r\n};\r\n\r\n/**\r\n *\r\n * @param target\r\n * @param params\r\n * @return {*}\r\n */\r\nElement.prototype.addOneBefore = function (target, params) {\r\n    if (typeof params !== 'object') {\r\n        params = {};\r\n    }\r\n    if(target.isImplementationOf === undefined){\r\n        return error('Invalid parameter given for the element method \"addOneBefore()\" - instance is required but ' + (typeof target) + ' given.');\r\n    }\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.addBefore(ui, target, params);\r\n};\r\n\r\n\r\n/**\r\n * Renders UI inside element (itself).\r\n * @param {UI|string} ui\r\n * @param {boolean} [atStart] if true new elements will be added at start. Default is false.\r\n * @param {object} [params]\r\n * @returns {Instance}\r\n */\r\nElement.prototype.add = function (ui, atStart, params) {\r\n    if (atStart === undefined || atStart === null) atStart = false;\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = uiRegistry.get(ui);\r\n        if (ui === null) {\r\n            error('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.renderTo === undefined) {\r\n        error('First argument of the add() method must be UI or string');\r\n    }\r\n    let instance = ui.renderTo(this, atStart, params);\r\n\r\n    this.triggerEvent('add', instance);\r\n\r\n    instance.__.parent = this;\r\n    return instance;\r\n};\r\n\r\n\r\nElement.prototype.addAfter = function (ui, item, params) {\r\n    if (item.isImplementationOf === undefined){\r\n        error('First argument for the method \"addAfter()\" is not instance.');\r\n        return null;\r\n    }\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = _uibuilder(ui);\r\n        if (ui === null) {\r\n            throw new InvalidParamException('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.prepare === undefined) {\r\n        throw new InvalidParamException('First argument of the addAfter() method must be UI or string');\r\n    }\r\n    let instance = ui.prepare(params);\r\n\r\n    // EXPERIMENTAL\r\n    // Next event may be removed in the future so don't use it.\r\n    // Exit if user prevents adding.\r\n    let event = new Event('beforeAdd', {cancelable: true});\r\n    this.triggerEvent('beforeAdd', instance, event);\r\n    if (event.defaultPrevented) return null;\r\n\r\n    let lastElement = item.getLastRootElement();\r\n    instance.appendAfter(lastElement);\r\n    instance.__.parent = this;\r\n\r\n    // Put instance into the children array.\r\n    let parent = lastElement.parent();\r\n    if(parent.hasChildUI()){\r\n        let children = parent.__.children;\r\n        if(children.length <= 1){\r\n            parent.__.children.push(instance);\r\n        }else{\r\n            for(let i = 0; i < children.length; i++){\r\n                if(children[i] === item){\r\n                    parent.__.children.splice(i, 0, instance);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    instance.triggerEvent('render', params);\r\n    ui.triggerEvent('render', instance, params);\r\n    this.triggerEvent('add', instance);\r\n\r\n    return instance;\r\n};\r\n\r\n\r\nElement.prototype.addBefore = function (ui, item, params) {\r\n    if (item.isImplementationOf === undefined){\r\n        error('First argument for the method \"addAfter()\" is not instance.');\r\n        return null;\r\n    }\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = _uibuilder(ui);\r\n        if (ui === null) {\r\n            throw new InvalidParamException('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.prepare === undefined) {\r\n        throw new InvalidParamException('First argument of the addAfter() method must be UI or string');\r\n    }\r\n\r\n    let instance = ui.prepare(params);\r\n\r\n    // EXPERIMENTAL\r\n    // Next event may be removed in the future so don't use it.\r\n    // Exit if user prevents adding.\r\n    let event = new Event('beforeAdd', {cancelable: true});\r\n    this.triggerEvent('beforeAdd', instance, event);\r\n    if (event.defaultPrevented) return null;\r\n\r\n\r\n    let firstElement = item.getFirstRootElement();\r\n    instance.appendBefore(firstElement);\r\n    instance.__.parent = this;\r\n\r\n    // Put instance into the children array.\r\n    let parent = firstElement.parent();\r\n    if(parent.hasChildUI()){\r\n        let children = parent.__.children;\r\n        if(children.length <= 1){\r\n            parent.__.children.unshift(instance);\r\n        }else{\r\n            for(let i = 0; i < children.length; i++){\r\n                if(children[i] === item){\r\n                    if(i === 0){\r\n                        parent.__.children.unshift(instance);\r\n                    }else{\r\n                        parent.__.children.splice(i - 1, 0, instance);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    instance.triggerEvent('render', params);\r\n    ui.triggerEvent('render', instance, params);\r\n    this.triggerEvent('add', instance);\r\n\r\n    return instance;\r\n};\r\n\r\n/**\r\n * Functions to manage properties like in jQuery but working\r\n * with Element instances.\r\n * @returns {Element}\r\n */\r\nElement.prototype.html = function (html, runScripts) {\r\n    if (html === undefined) return this.__.node.innerHTML;\r\n    this.__.node.innerHTML = html;\r\n\r\n    if (runScripts === true) {\r\n        let scripts = html.match(/<script>(\\n*.*\\n*)*<\\/script>/gi);\r\n        for (let i = 0; i < scripts.length; i++) {\r\n            let script = scripts[i].replace('<script>', '').replace('</script>', '');\r\n            eval(script);\r\n        }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets text content of te node.\r\n * @param {string} [text]\r\n * @returns {Element}\r\n */\r\nElement.prototype.text = function (text) {\r\n    if (text === undefined) return this.__.node.textContent;\r\n    this.__.node.textContent = text;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets new or returns existing value of the attribute.\r\n * @param {string} name\r\n * @param {*} [value]\r\n * @returns {Element|*}\r\n * @see Element.src\r\n * @see Element.href\r\n */\r\nElement.prototype.attr = function (name, value) {\r\n    if (value === undefined) {\r\n        // Ensure to return correct value (empty string by DOM specification) if attribute is not defined.\r\n        if (!this.__.node.hasAttribute(name)) return '';\r\n        return this.__.node.getAttribute(name);\r\n    }\r\n    this.__.node.setAttribute(name, value);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if attribute with given name is set.\r\n * @param {string} name\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasAttr = function (name) {\r\n    return this.__.node.hasAttribute(name);\r\n};\r\n\r\n/**\r\n * Removes attribute with given name.\r\n * @param {string} name\r\n * @returns {boolean}\r\n */\r\nElement.prototype.removeAttr = function (name) {\r\n    return this.__.node.removeAttribute(name);\r\n};\r\n\r\n/**\r\n * Gets/sets value of the given property of the node.\r\n * @param {string} name\r\n * @param {*} [value]\r\n * @returns {*}\r\n */\r\nElement.prototype.prop = function (name, value) {\r\n    if (value === undefined) return this.__.node[name];\r\n    this.__.node[name] = value;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets value of the node (usable only for <input> tags).\r\n * @param {*} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.val = function (val) {\r\n    if (val === undefined) return this.__.node.value;\r\n    this.__.node.value = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets \"src\" property of the image.\r\n * @param {string} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.src = function (val) {\r\n    if(this.__.node.tagName !== 'IMG'){\r\n        warn('Calling [src()] method not on the image tag.');\r\n    }\r\n    if (val === undefined) return this.__.node.src;\r\n    this.__.node.src = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets \"href\" property of the node.\r\n * @param {string} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.href = function (val) {\r\n    if (val === undefined) return this.__.node.href;\r\n    this.__.node.href = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns context of the canvas.\r\n * @param {string} [val]\r\n * @returns {CanvasRenderingContext2D|*}\r\n */\r\nElement.prototype.getContext = function (val) {\r\n    if (val === undefined) return this.__.node.getContext('2d');\r\n    return this.__.node.getContext(val);\r\n};\r\n\r\n/**\r\n * Gets/sets width property of the node.\r\n * Usable only for image, video, canvas, etc.\r\n * @param {number} [val]\r\n * @returns {Element}\r\n * @see Element.height\r\n */\r\nElement.prototype.width = function (val) {\r\n    if (val === undefined) return this.__.node.width;\r\n    this.__.node.width = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets height property of the node.\r\n * Usable only for image, video, canvas, etc.\r\n * @param {number} [val]\r\n * @returns {Element}\r\n * @see Element.width\r\n */\r\nElement.prototype.height = function (val) {\r\n    if (val === undefined) return this.__.node.height;\r\n    this.__.node.height = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns outer width of the node in pixels (alias of the offsetWidth property).\r\n * @returns {number}\r\n */\r\nElement.prototype.outerWidth = function () {\r\n    return this.__.node.offsetWidth;\r\n};\r\n\r\n/**\r\n * Returns outer height of the node in pixels (alias of the offsetHeight property).\r\n * @returns {number}\r\n */\r\nElement.prototype.outerHeight = function () {\r\n    return this.__.node.offsetHeight;\r\n};\r\n\r\n/**\r\n * Immediately hides element by setting \"display\" style property to \"none\".\r\n * Also stores previous value of the \"display\" style property.\r\n * @returns {Element}\r\n * @see Element.show\r\n * @see Element.css\r\n */\r\nElement.prototype.hide = function() {\r\n    if (this.__.node.style.display === 'none') return this;\r\n    this.__.node.oldDisplay = this.__.node.style.display;\r\n    this.__.node.style.display = 'none';\r\n    return this;\r\n};\r\n\r\n/**\r\n *\r\n * @returns {Element}\r\n * @see Element.hide\r\n * @see Element.css\r\n */\r\nElement.prototype.show = function (showAs) {\r\n    if(typeof showAs === 'string'){\r\n        this.__.node.style.display = showAs;\r\n        return this;\r\n    }\r\n    if (this.__.node.style.display !== 'none' && this.__.node.offsetParent !== null) return this;\r\n    if (this.__.node.hasOwnProperty('oldDisplay') && this.__.node.oldDisplay !== 'none') {\r\n        this.__.node.style.display = this.__.node.oldDisplay;\r\n    } else {\r\n        this.__.node.style.display = 'flex';\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if element is hidden.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isHidden = function () {\r\n    let style = this.computedStyle();\r\n    return style.display === 'none';\r\n};\r\n\r\n/**\r\n * Returns true if element is shown.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isVisible = function () {\r\n    let style = this.computedStyle();\r\n    return style.display !== 'none' && style.visibility !== 'hidden';\r\n};\r\n\r\n/**\r\n * Returns content height of the element.\r\n * @returns {number}\r\n */\r\nElement.prototype.contentHeight = function () {\r\n    let node = this.__.node;\r\n    // Store initial height styles.\r\n    let h = node.style.cssText.match(/height\\s*:\\s*[\\d\\w%]+/i);\r\n    h = h === null ? '' : h[0];\r\n    // Set height to auto and store inner height.\r\n    node.style.height = 'auto';\r\n    let height = parseInt(window.getComputedStyle(node).getPropertyValue('height').replace(/[^.\\d]/i, ''));\r\n    // Restore height style.\r\n    node.style.cssText = node.style.cssText.replace(/height\\s*:\\s*auto/i, h);\r\n    return height;\r\n};\r\n\r\n/**\r\n * Slides down element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideDown = function (duration, callback) {\r\n    if (typeof duration !== 'number') duration = 250;\r\n    if(this.isHidden()) this.css({'height' : 0});\r\n    this.css({overflow : 'hidden', display : 'flex'});\r\n    this.animate({height: this.contentHeight()}, duration, function () {\r\n        this.css({height: 'auto'});\r\n        if(typeof callback === 'function') callback.call(this);\r\n    });\r\n    this.__.fx = 'slideDown';\r\n    return this;\r\n};\r\n\r\n/**\r\n * Slides up element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideUp = function (duration, callback) {\r\n    if (this.outerHeight() === 0 || this.isHidden()) return this;\r\n    if (typeof duration !== 'number') duration = 250;\r\n    this.animate({height: 0}, duration, callback);\r\n    this.__.fx = 'slideUp';\r\n    return this;\r\n};\r\n\r\n/**\r\n * Slides up element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideToggle = function (duration, callback) {\r\n    if (typeof duration !== 'number') duration = 250;\r\n    if (this.node().clientHeight === 0 || this.isHidden() || this.__.fx === 'slideUp') {\r\n        this.slideDown(duration, callback);\r\n    } else {\r\n        this.slideUp(duration, callback);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if element has given class.\r\n * @param {string} className\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasClass = function (className) {\r\n    return this.__.node.classList.contains(className);\r\n};\r\n\r\n/**\r\n * Returns true if element has all given classes.\r\n * If at least one class is absent - false will be returned.\r\n * @param {string[]} classNames\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasClasses = function (classNames) {\r\n    for(let i = 0; i < classNames.length; i++){\r\n        if(!this.__.node.classList.contains(classNames[i])){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\n/**\r\n * Adds class(es) to the element.\r\n * @param {string|Array} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.addClass = function (className) {\r\n    if (typeof className === 'string') {\r\n        this.__.node.classList.add(className);\r\n    } else if (Array.isArray(className)) {\r\n        for (let i = 0; i < className.length; i++) {\r\n            this.__.node.classList.add(className[i]);\r\n        }\r\n    } else {\r\n        return this;\r\n    }\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes given class(es) from the element.\r\n * @param {string|Array} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeClass = function (className) {\r\n    if (typeof className === 'string') {\r\n        this.__.node.classList.remove(className);\r\n    } else if (Array.isArray(className)) {\r\n        for (let i = 0; i < className.length; i++) {\r\n            this.__.node.classList.remove(className[i]);\r\n        }\r\n    } else {\r\n        return this;\r\n    }\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * If element has given class - it will be removed.\r\n * Otherwise class will be added.\r\n * @param {string} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.toggleClass = function (className) {\r\n    this.__.node.classList.toggle(className);\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * If object given - sets given styles and returns element.\r\n * If string given - returns value of the given style property.\r\n * @param style\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.css = function (style) {\r\n    if (typeof style === 'string') {\r\n        let s = this.computedStyle();\r\n        let val = s.hasOwnProperty(style) ? s[style] : null;\r\n        if (val !== null && val.indexOf('px') >= 0) val = parseFloat(val.replace('px', ''));\r\n        return val;\r\n    } else if (typeof style === 'object') {\r\n        for (let p in style) {\r\n            if(style.hasOwnProperty(p)) this.__.node.style[p] = style[p];\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Alias of the [getBoundingClientRect()] node method.\r\n * @returns {ClientRect}\r\n * @see https://developer.mozilla.org/ru/docs/Web/API/Element/getBoundingClientRect\r\n */\r\nElement.prototype.clientRect = function () {\r\n    return this.__.node.getBoundingClientRect();\r\n};\r\n\r\n/**\r\n * Returns tag name of the node.\r\n * Alias of the [tagName] property.\r\n * @returns {string}\r\n */\r\nElement.prototype.tagName = function () {\r\n    return this.__.node.tagName;\r\n};\r\n\r\n/**\r\n * Returns computed style of the element node.\r\n * Alias of the [getComputedStyle()] method.\r\n * @returns {CSSStyleDeclaration}\r\n */\r\nElement.prototype.computedStyle = function () {\r\n    return getComputedStyle(this.__.node);\r\n};\r\n\r\n\r\n/**\r\n * Smoothly shows element by changing opacity over the time.\r\n * @param {number} [duration] Fading duration in milliseconds.\r\n * @param {string|number} [displayAs] If set will be used to set display\r\n * css property before animation start.\r\n * @param {function|number} [callback]\r\n * @returns {Element}\r\n * @see Element.fadeToggle\r\n * @see Element.fadeOut\r\n */\r\nElement.prototype.fadeIn = function (duration, displayAs, callback) {\r\n    if (typeof duration === 'string' && displayAs === undefined) {\r\n        displayAs = duration;\r\n    }else if(typeof duration === 'function' && callback === undefined){\r\n        callback = duration;\r\n    }else if(typeof displayAs === 'function' && callback === undefined){\r\n        callback = displayAs;\r\n    }\r\n\r\n    // Default duration.\r\n    if (typeof duration !== 'number') duration = 250;\r\n\r\n    if (this.isVisible() && this.css('opacity') === 1) return this;\r\n    if (displayAs !== undefined) this.css({display: displayAs});\r\n    this.animate({opacity: 1}, duration, callback);\r\n    this.__.fx = 'fadeIn';\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Smoothly hides element by changing opacity over the time.\r\n * @param {int|function} [duration] Fading duration in milliseconds.\r\n * @param {boolean|function} [hideOnEnd] If true the css display property will be set to 'none'\r\n * on animation finish.\r\n * @param {function} [callback]\r\n * @returns {Element} (itself)\r\n * @see Element.fadeIn\r\n * @see Element.fadeToggle\r\n */\r\nElement.prototype.fadeOut = function (duration, hideOnEnd, callback) {\r\n    if (this.isHidden() || this.css('opacity') === 0) return this;\r\n\r\n    if(typeof duration === 'function' && callback === undefined){\r\n        callback = duration;\r\n    }else if(typeof hideOnEnd === 'function' && callback === undefined){\r\n        callback = hideOnEnd;\r\n    }\r\n\r\n    // Default duration.\r\n    if (typeof duration !== 'number') duration = 250;\r\n\r\n    // Default duration.\r\n    if (hideOnEnd === undefined) hideOnEnd = true;\r\n\r\n    this.animate({opacity: 0}, duration, callback);\r\n    this.__.fx = 'fadeOut';\r\n\r\n    let el = this;\r\n\r\n    if (hideOnEnd) {\r\n        setTimeout(function () {\r\n            el.css({display: 'none'});\r\n        }, duration);\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Toggles fading effect.\r\n * @param {number} [duration] Fading duration in milliseconds.\r\n * @param {string} [displayAs] If set will be used to set display\r\n * CSS property before animation start in case of fadeIn() method will be applied.\r\n * If fadeOut() method and displayAs property is specified - element will be hidden after\r\n * animation finish.\r\n * @param {function} [callback]\r\n * @returns {Element}\r\n * @see Element.fadeIn\r\n * @see Element.fadeOut\r\n */\r\nElement.prototype.fadeToggle = function (duration, displayAs, callback) {\r\n    if (this.isHidden() || this.css('opacity') === 0 || this.__.fx === 'fadeOut') {\r\n        this.fadeIn(duration, displayAs, callback);\r\n    } else {\r\n        this.fadeOut(duration, displayAs === true, callback);\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Animates CSS properties of the object.\r\n * @param {object} props Object with animated properties.\r\n * Keys are properties names and values are the end values.\r\n * @param {number} [duration] Duration in milliseconds.\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n * @see Animation\r\n */\r\nElement.prototype.animate = function (props, duration, callback) {\r\n    let el = this;\r\n    let startValues = {};\r\n    let endValues = props;\r\n    let units = {};\r\n\r\n    // Get initial values.\r\n    let styles = this.computedStyle();\r\n    for (let p in endValues) {\r\n\r\n        units[p] = styles[p].replace(/[-\\d.]/g, '');\r\n        startValues[p] = parseFloat(styles[p].toString().replace(/[^-\\d.]/gi, ''));\r\n        if((p === 'width' || p === 'maxWidth' || p === 'minWidth') && (endValues[p] + \"\").indexOf('%') > 0){\r\n            units[p] = '%';\r\n            startValues[p] = startValues[p] / this.__.node.parentNode.offsetWidth * 100;\r\n        }else if((p === 'height' || p === 'maxHeight' || p === 'minHeight') && (endValues[p] + \"\").indexOf('%') > 0){\r\n            units[p] = '%';\r\n            startValues[p] = startValues[p] / this.__.node.parentNode.offsetHeight * 100;\r\n        }\r\n        endValues[p] = parseFloat(endValues[p].toString().replace(/[^-\\d.]/gi, ''));\r\n    }\r\n\r\n    this.stopAnimation();\r\n\r\n    // Create new animation.\r\n    let ani = new Animation({\r\n        duration: duration,\r\n        f: 'easeInOutQuad'\r\n    });\r\n\r\n    this.__.animation = ani;\r\n\r\n\r\n    // Run animation.\r\n    this.__.animation.run(function (k, isEnd) {\r\n        if (el.__.animation !== ani || el.__.animation.stopped) return;\r\n        let diff, cssObj = {};\r\n        for (let p in endValues) {\r\n            let k2 = k;\r\n            diff = endValues[p] - startValues[p];\r\n\r\n\r\n            if (diff === 0) continue;\r\n            cssObj[p] = parseFloat((diff * k2).toFixed(5)) + startValues[p] + units[p];\r\n        }\r\n        el.css(cssObj);\r\n        if (isEnd) {\r\n            if (typeof callback === 'function') callback.call(el);\r\n            el.stopAnimation();\r\n        }\r\n    });\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Stops current animation and set \"animation\" property to null.\r\n * @returns {Element}\r\n */\r\nElement.prototype.stopAnimation = function () {\r\n    if (this.__.animation !== null) this.__.animation.stop();\r\n    this.__.animation = null;\r\n    this.__.fx = null;\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Loads data into element.\r\n * @param data Data to be loaded into the element and/or children.\r\n * If [[data]] is object - all nested elements will be loaded with nested data.\r\n * String will be used as innerHTML.\r\n * Array produces child instances if child UI is specified for the element.\r\n * @param {boolean} [replace] If true - existing content of the element will be deleted before loading.\r\n * @param {boolean} [atStart] If new content will be inserted at the start of the element. Default is false.\r\n * This argument will be ignored if [[replace]] is true.\r\n * @returns {Element}\r\n */\r\nElement.prototype.load = function (data, replace, atStart) {\r\n    // Set default values.\r\n    if (typeof replace !== 'boolean') replace = true;\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    // If Data (data provider) is given through \"data\" argument\r\n    // use fetch() method and then load given data using load() method.\r\n    if (data instanceof Data) {\r\n\r\n        return data.fetch(function (replace, atStart, response) {\r\n            this.load(response, replace, atStart);\r\n        }.bind(this, replace, atStart));\r\n\r\n    } else {\r\n\r\n        let deleteContent = true;\r\n\r\n        if (this.inclusion() === null) {\r\n            if (typeof data === 'object' && !Array.isArray(data)) {\r\n                deleteContent = false;\r\n                for (let p in data) {\r\n                    if (data.hasOwnProperty(p) && !Element.prototype.hasOwnProperty(p) && uiRegistry.get(p) !== null) {\r\n                        deleteContent = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            deleteContent = false;\r\n        }\r\n\r\n        // Remove all children if \"replace\" argument is true.\r\n        if (replace === true && deleteContent) {\r\n            this.removeChildren();\r\n            this.html('');\r\n        }\r\n    }\r\n\r\n    // Trigger 'load' event if any element wants to handle it with specific logic.\r\n    let event = new Event('load', {cancelable: true});\r\n    this.triggerEvent('load', data, event);\r\n\r\n    // Stop loading if event was cancelled by preventDefault() method.\r\n    if (event.defaultPrevented) return this;\r\n\r\n    // If data is string - use is as innerHTML (for <img/> \"src\" attribute will be used).\r\n    if (typeof data === 'string' || typeof data === 'number') {\r\n\r\n        let tagName = this.tagName();\r\n\r\n        if (tagName === 'IMG' || tagName === 'VIDEO' || tagName === 'IFRAME') {\r\n            this.src(data);\r\n        } else {\r\n            if (tagName === 'INPUT' || tagName === 'SELECT') {\r\n                this.val(data);\r\n            } else {\r\n                this.text(data);\r\n            }\r\n\r\n        }\r\n\r\n    } else if (typeof data === 'object') {\r\n\r\n        if (this.inclusion() !== null) {\r\n            this.inclusion().load(data, replace, atStart);\r\n            return this;\r\n        }\r\n\r\n        // If array given - render child UI for each array element and load it into new instance.\r\n        if (Array.isArray(data)) {\r\n\r\n            if (this.__.child === null) {\r\n                warn('Trying to load children for Element \"' + this.__.name + ' @ ' + this.__.uiinstance.__.ui.name + '\" without child UI.');\r\n                return this;\r\n            }\r\n\r\n            let child;\r\n            for (let i = 0; i < data.length; i++) {\r\n                try {\r\n                    child = this.addOne(atStart);\r\n                    child.load(data[i], replace, atStart);\r\n                } catch (exception) {\r\n                    // Re-throw exception up.\r\n                    throw exception;\r\n                }\r\n            }\r\n\r\n            // If data is object - load it into the child elements or use as properties of the current.\r\n        } else {\r\n\r\n            for (let p in data) {\r\n                if(!data.hasOwnProperty(p)) continue;\r\n\r\n                // Load children ...\r\n                if (p === 'children' && Array.isArray(data[p]) && this.hasChildUI()) {\r\n                    this.load(data[p], replace, atStart);\r\n\r\n                    // ... or execute prototype method ...\r\n                } else if (Element.prototype.hasOwnProperty(p) && typeof Element.prototype[p] === 'function') {\r\n                    Element.prototype[p].call(this, data[p]);\r\n\r\n                    // ... otherwise render new UI.\r\n                } else {\r\n                    if (this.hasOwnProperty(p) && this[p] instanceof Element) {\r\n                        if (this[p].inclusion() !== null) {\r\n                            this[p].inclusion().load(data[p]);\r\n                        }else{\r\n                            this[p].load(data[p]);\r\n                        }\r\n                    }else{\r\n                        let ui = uiRegistry.get(p);\r\n                        if (ui !== null) {\r\n                            ui.renderTo(this).load(data[p], replace, atStart);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    } else {\r\n        warn('Trying to load unsupported data type (' + typeof data + ') to tye element. Only string or object can be used.');\r\n    }\r\n\r\n    this.triggerEvent('afterLoad', data);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Resets values of the inputs/selects inside the Element.\r\n * @param {boolean} [compact]\r\n * @returns {{}}\r\n */\r\nElement.prototype.resetValues = function (compact) {\r\n    // TODO Implement this method...\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates holder for the value.\r\n * Can be used as simple object for storing property or \r\n * as a callback:\r\n *\r\n * onGather(inst, data, event) {\r\n\t   data.someProperty = 'Hello world!';\r\n * \t   data.value('Hello world!');\r\n * } \r\n */\r\nfunction createValueHolder() {\r\n\tlet _value = undefined;\r\n\tfunction ValueHolder(value) {\r\n\r\n    }\r\n\tValueHolder.prototype.value = function(value) {\r\n\t\tif (value !== undefined) {\r\n\t\t\t_value = value;\r\n\t\t}\r\n\t\treturn _value;\r\n\t};\r\n\r\n\tValueHolder.prototype.isEmpty = function () {\r\n        for (let p in this) {\r\n            if (this.hasOwnProperty(p) && (this[p] === null || this[p] === undefined || this[p] === '')) return false;\r\n        }\r\n        return true;\r\n    };\r\n\treturn new ValueHolder();\r\n}\r\n\r\n\r\n/**\r\n * Gathers data of the Element.\r\n * @param {boolean} [compact]\r\n * @returns {{}}\r\n */\r\nElement.prototype.gatherData = function (compact) {\r\n    if (compact === undefined) compact = true;\r\n    let data = createValueHolder();\r\n\r\n    let event = new Event('gather');\r\n    this.triggerEvent('gather', data, event);\r\n\r\n    if (!event.defaultPrevented) {\r\n        gatherElementData(this, data, data, null, true);\r\n    }\r\n\r\n    if (data.value() === undefined) {\r\n        let value = {};\r\n        for (let p in data) if (data.hasOwnProperty(p)) value[p] = data[p];\r\n        data = value;\r\n    }else {\r\n        data = data.value();\r\n    }\r\n\r\n    if (compact && typeof data === 'object') compactData(data);\r\n    return data;\r\n};\r\n\r\n\r\n/**\r\n * @param target\r\n * @param data\r\n * @param curData\r\n * @param propName\r\n * @param gatherChildNodes\r\n * @returns {*}\r\n */\r\nfunction gatherElementData(target, data, curData, propName, gatherChildNodes) {\r\n    if (typeof curData !== 'object') curData = data;\r\n    let children;\r\n    let name = null;\r\n\r\n    if (target.hasAttr('name') && target.attr('name') !== '') {\r\n        name = target.attr('name');\r\n\r\n        let event = new Event('gather');\r\n        target.triggerEvent('gather', data, event);\r\n\r\n        // Get value if element is <input/> or <select/>.\r\n        if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(target.tagName()) >= 0) {\r\n            if (target.attr('type') === 'checkbox') {\r\n                if (!target.prop('checked')) return data;\r\n            }\r\n            data.value(target.val());\r\n            return data;\r\n        }\r\n    }\r\n\r\n    if (typeof propName !== 'string') propName = name;\r\n\r\n    // Process inclusion.\r\n    if (target.hasInclusion()) {\r\n        let tmp = createValueHolder();\r\n        gatherInstanceData(target.inclusion(), tmp, null, curData, propName);\r\n\r\n        if ((Object.keys(tmp).length > 0 || (typeof tmp.value === 'function' && tmp.value() !== undefined)) && !data.hasOwnProperty(propName)) {\r\n            if (name !== null) {\r\n                if (tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                    }\r\n                } else {\r\n                    data.value(tmp.value());\r\n                }\r\n            } else {\r\n                for (let p in tmp) {\r\n                    if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                }\r\n            }\r\n        }\r\n\r\n    // Gather child instances.\r\n    } else if (target.hasChildUI()) {\r\n        let res = [];\r\n        if (name !== null || propName !== null) {\r\n            children = target.children();\r\n            for (let i = 0; i < children.length; i++) {\r\n                let tmp = createValueHolder();\r\n                gatherInstanceData(children[i], tmp, null, curData, propName);\r\n                if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        let value = {};\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                        res.push(value);\r\n                    }\r\n                } else {\r\n                    res.push(tmp.value());\r\n                }\r\n            }\r\n\r\n            data.value(res);\r\n            // if (name !== null) {\r\n            //     data[name] = res;\r\n            //     console.log('data');\r\n            // } else if (propName !== null) {\r\n            //     console.log('curData');\r\n            //     curData !== null ? curData[propName] = res : data[propName] = res;\r\n            // }\r\n        }\r\n\r\n\r\n        // Gather child instances.\r\n    } else if (target.children().length > 0) {\r\n        children = target.children();\r\n        for (let i = 0; i < children.length; i++) {\r\n            if (children[i].getRootElement !== undefined) {\r\n                let root = children[i].getRootElement();\r\n                if(root.hasAttr('name')){\r\n                    name = root.attr('name');\r\n                }\r\n                let tmp = createValueHolder();\r\n                gatherInstanceData(children[i], tmp, null, curData, propName);\r\n                if (name !== null) {\r\n                    if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                        if (Object.keys(tmp).length > 0) {\r\n                            let value = {};\r\n                            for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                            data[name] = value;\r\n                        }\r\n                    } else {\r\n                        data[name] = tmp.value();\r\n                    }\r\n                } else {\r\n                    for (let p in tmp) {\r\n                        if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Loop through native child nodes if target is an element on which gatherData() was called.\r\n    } else if (gatherChildNodes === true) {\r\n        let childNodes = target.__.node.childNodes;\r\n        for (let i = 0; i < childNodes.length; i++) {\r\n            if (childNodes[i] === undefined || childNodes[i].element === undefined) continue;\r\n            let elName = childNodes[i].element.attr('name');\r\n            let tmp = createValueHolder();\r\n            gatherElementData(childNodes[i].uielement, tmp, curData, elName === '' ? null : elName, true);\r\n            if (typeof elName === 'string' && elName !== '') {\r\n                if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        let value = {};\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                        data[elName] = value;\r\n                    }\r\n                } else {\r\n                    data[elName] = tmp.value();\r\n                }\r\n            } else {\r\n                for (let p in tmp) if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @param instance\r\n * @param result\r\n * @param scheme\r\n * @param curData\r\n * @param propName\r\n */\r\nfunction gatherInstanceData(instance, result, scheme, curData, propName) {\r\n    if (scheme === undefined || scheme === null) scheme = instance.__.ui.scheme;\r\n    if (result === undefined) result = {};\r\n\r\n    // Allow developer to define custom data gathering logic.\r\n    let event = new Event('gather', {cancelable : true});\r\n    instance.triggerEvent('gather', result, event);\r\n    if(event.defaultPrevented){\r\n        return;\r\n    }\r\n    instance.ui().triggerEvent('gather', instance, result, event);\r\n    if(event.defaultPrevented) return;\r\n\r\n\r\n    let v, keys, res;\r\n    for (let p in scheme) {\r\n        if (!scheme.hasOwnProperty(p) || !instance.hasOwnProperty(p)) continue;\r\n\r\n        res = gatherElementData(instance[p], v = createValueHolder(), curData, propName);\r\n\r\n        let name = instance[p].attr('name');\r\n        if (typeof v.value === 'function' && v.value() !== undefined && name !== '') {\r\n            addGatheredData(result, name, v.value());\r\n        }else {\r\n            keys = Object.keys(v);\r\n\r\n            for(let k in v){\r\n                if(v.hasOwnProperty(k)){\r\n                    addGatheredData(result, k, v[k]);\r\n                }\r\n            }\r\n\r\n            v = typeof v[keys[0]] === 'object' ? v[keys[0]] : result;\r\n        }\r\n\r\n        let s = scheme[p];\r\n        if (typeof s === 'object') {\r\n            gatherInstanceData(instance, v, s, curData, propName);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param result\r\n * @param name\r\n * @param value\r\n */\r\nfunction addGatheredData(result, name, value) {\r\n    if (Array.isArray(result)) {\r\n        result.push(value);\r\n    } else {\r\n        if (result.hasOwnProperty(name)) {\r\n            if (!Array.isArray(result[name])) result[name] = [result[name]];\r\n            result[name].push(value);\r\n        } else {\r\n            result[name] = value;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Compacts data to simplify structure.\r\n * The main purpose is convert arrays of objects with one property to array with their values.\r\n * For example it converts [{id : 3}, {id : 5}, {id : 7}] to [3, 5, 7]\r\n */\r\nfunction compactData(data) {\r\n    for (let p in data) {\r\n        if(!data.hasOwnProperty(p)) continue;\r\n        if (Array.isArray(data[p])) {\r\n            let arr = [];\r\n            let propName = null;\r\n            for (let i = 0; i < data[p].length; i++) {\r\n                if (typeof data[p][i] === 'object') {\r\n                    let keys = Object.keys(data[p][i]);\r\n                    if (keys.length === 1) {\r\n                        // Stop converting if properties of objects don't match.\r\n                        if (propName !== null && propName !== keys[0]) {\r\n                            return;\r\n                        }\r\n                        arr.push(data[p][i][keys[0]]);\r\n                    } else {\r\n                        return;\r\n                    }\r\n                } else {\r\n                    return;\r\n                }\r\n            }\r\n            data[p] = arr;\r\n        } else if (typeof data[p] === 'object') {\r\n            compactData(data[p]);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Clones element.\r\n * @returns {Element}\r\n */\r\nElement.prototype.clone = function() {\r\n    let newEl = new Element({});\r\n    cloneObjectTo(this, newEl);\r\n    cloneObjectTo(this.__, newEl.__);\r\n    let oldNode = this.node();\r\n    let newNode = oldNode.cloneNode(true);\r\n    newNode.uielement = newEl;\r\n    newEl.__.node = newNode;\r\n    return newEl;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * !!! DEPRECATED !!!\r\n * In order to support old projects tabs functionality is kept.\r\n * Please use Tabs extension.\r\n *\r\n * Implements simple tabs behaviour.\r\n * @deprecated\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isTab = function () {\r\n    return this.__.tabContainer !== null;\r\n};\r\n\r\n/**\r\n * Links element as tab for some container.\r\n * @deprecated\r\n * @param container\r\n */\r\nElement.prototype.makeTabFor = function (container) {\r\n    this.__.tabContainer = container;\r\n    container.hide();\r\n    let siblings = this.getAllNearbyElements();\r\n    this.on('click', tabClickHandler);\r\n\r\n    for(let i = 0, len = siblings.length; i < len; i++){\r\n        if(siblings[i].isTab()){\r\n            return this;\r\n        }\r\n    }\r\n\r\n    this.addClass('active');\r\n    container\r\n        .addClass('active')\r\n        .css({\r\n            display: 'flex',\r\n            opacity: 1\r\n        });\r\n\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Returns container which is linked contend for the element.\r\n * @deprecated\r\n * @returns {Element.tabContainer|*|null}\r\n */\r\nElement.prototype.tabContainer = function () {\r\n    return this.__.tabContainer;\r\n};\r\n\r\n\r\n/**\r\n * Click event handler of the tab.\r\n * @deprecated\r\n */\r\nfunction tabClickHandler() {\r\n    if (!this.isTab()) return;\r\n\r\n    // Toggle tabs class.\r\n    let c = this.getAllNearbyElements();\r\n    for (let i = 0, len = c.length; i < len; i++) {\r\n        if(c[i].isTab()){\r\n            c[i].removeClass('active');\r\n            c[i].__.tabContainer.fadeOut(100, function(){\r\n                this.hide();\r\n            });\r\n        }\r\n    }\r\n    this.addClass('active');\r\n\r\n\r\n\r\n    let container = this.__.tabContainer;\r\n\r\n    // Process fade-in animation.\r\n    setTimeout(function () {\r\n        container.fadeIn(100, 'flex');\r\n    }, 100);\r\n\r\n    container.addClass('active');\r\n}","import Settings from '../core/settings';\r\nimport {makeClassName} from './strings';\r\nimport {error} from './logging';\r\n\r\nimport {\r\n    UIRegistrationException,\r\n    InvalidSchemeException,\r\n    RenderingException\r\n} from './exceptions';\r\n\r\nimport uiRegistry from '../registries/ui-registry';\r\nimport Element from '../core/element';\r\n\r\n\r\n/**\r\n * Function used to recursively clone scheme elements into one object (target).\r\n * Each scheme element not depending on nesting level will be placed directly into the target.\r\n */\r\nexport function cloneSchemeLinear(scheme, target) {\r\n    for (let p in scheme) {\r\n        if(scheme.hasOwnProperty(p)){\r\n            if (typeof scheme[p] === 'object') {\r\n                cloneSchemeLinear(scheme[p], target);\r\n                target[p] = {\r\n                    name : p,\r\n                    rules : '',\r\n                    children: scheme[p]\r\n                };\r\n\r\n            } else if (typeof scheme[p] === 'string') {\r\n                target[p] = {\r\n                    name : p,\r\n                    rules : scheme[p],\r\n                    children: null\r\n                };\r\n\r\n            }else if(scheme[p] === false){\r\n                delete scheme[p];\r\n            } else {\r\n                throw new InvalidSchemeException('Value of the element must be string or object.');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Parses element's parameters string into the object.\r\n * All regular expressions used for parsing available in the settings.\r\n */\r\nexport function parseParameters(str) {\r\n    let _result = {};\r\n\r\n    // Parse parameters.\r\n    _result.parameters = {};\r\n    let prm = str.match(Settings.regexp_params);\r\n    str = str.replace(Settings.regexp_params, '');\r\n\r\n    // Get parameters array\r\n    prm = (prm !== null && prm.length > 0) ? prm[0].slice(1, -1) : '';  // Cut the brackets.\r\n    prm = prm.split(';');\r\n\r\n    // Put parameters into the result.\r\n    for (let i = 0; i < prm.length; i++) {\r\n        let p = prm[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.parameters[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n    // Parse attributes.\r\n    _result.attributes = {};\r\n\r\n    // Get attributes array.\r\n    let att = str.match(Settings.regexp_attribute);\r\n    str = str.replace(Settings.regexp_attribute, '');\r\n    att = (att !== null && att.length > 0) ? att[0].slice(1, -1) : ''; // Cut the brackets.\r\n    att = att.split(';');\r\n\r\n    // Put attributes into the result.\r\n    let p;\r\n    for (let i = 0; i < att.length; i++) {\r\n        p = att[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.attributes[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Parse properties.\r\n    _result.properties = {};\r\n    let pr = str.match(Settings.regexp_property);\r\n    str = str.replace(Settings.regexp_property, '');\r\n\r\n    // Get properties array\r\n    pr = (pr !== null && pr.length > 0) ? pr[0].slice(1, -1) : '';  // Cut the brackets.\r\n    pr = pr.split(';');\r\n\r\n    // Put properties into the result.\r\n    for (let i = 0; i < pr.length; i++) {\r\n        p = pr[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.properties[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Define tag name, id, class and child UI using regular expressions.\r\n    _result.tag = str.match(Settings.regexp_tagName);\r\n    _result.id = str.match(Settings.regexp_id);\r\n    _result.class = str.match(Settings.regexp_class);\r\n    _result.child = str.match(Settings.regexp_childUI);\r\n    _result.include = str.match(Settings.regexp_include);\r\n\r\n    // Cut special characters from the start.\r\n    if (_result.tag !== null) _result.tag = _result.tag[0].slice(1).trim();\r\n    if (_result.id !== null) _result.id = _result.id[0].slice(1).trim();\r\n    if (_result.class !== null) _result.class = _result.class[0].slice(1).trim();\r\n    if (_result.child !== null) _result.child = _result.child[0].slice(1).trim();\r\n    if (_result.include !== null) _result.include = _result.include[0].slice(3).trim();\r\n\r\n    return _result;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * Recursively builds scheme into the target (Element or DOM node).\r\n * @param instance (Instance) - New instance of the UI.\r\n * @param ui (UI) - UI which is building.\r\n * @param scheme (object) -\r\n * @param target (node|Element)\r\n * @param atStart (boolean)\r\n */\r\nexport function buildScheme(instance, ui, scheme, target, atStart) {\r\n\r\n    // Set default atStart value if it's not specified.\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    let params;     // Parameters of the single element (Element).\r\n    let targetNode; // Node in which element will be placed.\r\n\r\n    if (typeof scheme === 'object') {\r\n        for (let elementName in scheme) {\r\n            if(!scheme.hasOwnProperty(elementName)) continue;\r\n\r\n            // Skip if element with the same name already exists.\r\n            if (instance.hasOwnProperty(elementName)) continue;\r\n\r\n            // Parse parameters for new element.\r\n            if (typeof scheme[elementName] === 'string') {\r\n                params = parseParameters(scheme[elementName]);\r\n            } else if (typeof scheme[elementName] === 'object') {\r\n                if (ui.rules.hasOwnProperty(elementName)) {\r\n                    params = parseParameters(ui.rules[elementName]);\r\n                } else {\r\n                    params = {\r\n                        id: null,\r\n                        class: makeClassName(elementName),\r\n                        tag: 'div',\r\n                        child: null,\r\n                        include: null,\r\n                        attributes: {},\r\n                        properties: {},\r\n                        parameters: {}\r\n                    };\r\n                }\r\n            }\r\n\r\n            // Check dependency only in development mode.\r\n            if (Settings.devMode) {\r\n                let childUI = uiRegistry.get(params.child);\r\n                if (childUI !== null) {\r\n                    if (ui.dependencies.hasOwnProperty(elementName)) {\r\n                        let deps = ui.dependencies[elementName];\r\n                        for (let i = 0, len = deps.length; i < len; i++) {\r\n                            if (!childUI.isImplementationOf(deps[i])) {\r\n                                error('UI \"' + childUI.name + '\" does\\'t implement interface \"' + deps[i] + '\".')\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Make default class if not set.\r\n            if (params.class === '' || params.class === null) {\r\n                params.class = makeClassName(elementName);\r\n            }\r\n\r\n            let uiClass = makeClassName(ui.name);\r\n            if (ui.scheme === scheme && params.class !== uiClass) {\r\n                params.class = uiClass + ' ' + params.class;\r\n            }\r\n\r\n            params.name = elementName;\r\n\r\n            // Create element.\r\n            let element = new Element(params);\r\n            element.__.uiinstance = instance;\r\n            element.__.node.uiinstance = instance;\r\n            element.__.instance = instance;\r\n            element.__.node.instance = instance;\r\n\r\n            // Render another UI if include is detected.\r\n            if (params.include !== null) {\r\n                let inclusionUI = uiRegistry.get(params.include);\r\n                if (inclusionUI !== null) {\r\n\r\n                    // Check dependency only in development mode.\r\n                    if (Settings.devMode) {\r\n                        if (ui.dependencies.hasOwnProperty(elementName)) {\r\n                            let deps = ui.dependencies[elementName];\r\n                            for (let i = 0, len = deps; i < len; i++) {\r\n                                if (!inclusionUI.isImplementationOf(deps[i])) {\r\n                                    error('UI \"' + inclusionUI.name + '\" does\\'t implement interface \"' + deps[i] + '\".')\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for(let p in inclusionUI.__.params){\r\n                        if(!params.parameters.hasOwnProperty(p) && inclusionUI.__.params.hasOwnProperty(p)){\r\n                            params.parameters[p] = inclusionUI.__.params[p];\r\n                        }\r\n                    }\r\n                    element.__.inclusion = element.add(inclusionUI, params.parameters);\r\n                } else {\r\n                    throw new RenderingException('Required for including UI \"' + params.include + '\" is not registered yet.');\r\n                }\r\n            }\r\n\r\n            if( instance.__.localization !== null\r\n                && instance.__.translations !== null\r\n                && instance.__.translations.hasOwnProperty(element.__.name)\r\n            ){\r\n                if(element.__.inclusion === null){\r\n                    element.__.node.setAttribute('localization', instance.__.localization);\r\n                    element.__.node.T = instance.__.translations[element.__.name];\r\n                }else{\r\n                    element.__.inclusion.triggerEvent('localization', instance.__.localization, instance.__.translations[element.__.name]);\r\n                }\r\n            }\r\n\r\n            // Attach element into instance.\r\n            instance[elementName] = element;\r\n\r\n            if(ui.translations.hasOwnProperty(elementName)){\r\n                let t = L10n.getTranslations(ui.localization);\r\n                if(element.__.node.tagName === 'INPUT'){\r\n                    element.attr('placeholder', t(ui.translations[elementName]));\r\n                }else if(element.__.inclusion === null){\r\n                    element.text(t(ui.translations[elementName]))\r\n                }\r\n            }\r\n\r\n            // Set parent Element and define target node.\r\n            if (target instanceof Element) {\r\n                element.__.parent = target;\r\n                target[elementName] = element;\r\n                targetNode = target.__.node;\r\n            } else if (typeof target === 'string') {\r\n                targetNode = document.querySelector(target);\r\n            } else {\r\n                targetNode = target;\r\n            }\r\n\r\n            // Append element to the container node.\r\n            if (target !== null) {\r\n                if (atStart) {\r\n                    let first = targetNode.firstChild;\r\n                    if (first !== null) {\r\n                        targetNode.insertBefore(element.__.node, first);\r\n                    } else {\r\n                        targetNode.appendChild(element.__.node);\r\n                    }\r\n                } else {\r\n                    targetNode.appendChild(element.__.node);\r\n                }\r\n            }\r\n\r\n            // Add nested schemes.\r\n            if (typeof scheme[elementName] === 'object') {\r\n                buildScheme(instance, ui, scheme[elementName], element);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Filters UI parameter:\r\n * - converts 'true' or 'false' to corresponding boolean value.\r\n * - converts 'null' to null value.\r\n * - parses string with numbers to the corresponding number value.\r\n */\r\nexport function filterUIParameterValue(value)\r\n{\r\n    let numberRegexp = /^\\d+(\\.?\\d+)?$/i;\r\n\r\n    if(value === 'null'){\r\n        value = null;\r\n    }else if(value === 'true'){\r\n        value = true;\r\n    }else if(value === 'false'){\r\n        value = false;\r\n    }else if(numberRegexp.test(value)){\r\n        value = Number(value);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Checks parameters that given on the UI registration.\r\n */\r\nexport function checkUIParameters(data)\r\n{\r\n    if (!data.hasOwnProperty('name'))\r\n        throw new UIRegistrationException('Name of a new UI is not defined.');\r\n\r\n    if (typeof data.name !== 'string')\r\n        throw new UIRegistrationException('Name of a new UI is ' + (typeof data.name) + '. String required.');\r\n\r\n    if (uiRegistry.get(data.name) !== null)\r\n        throw new UIRegistrationException('UI with name \"' + data.name + '\" already registered.');\r\n\r\n    if (!data.hasOwnProperty('scheme')) data.scheme = {};\r\n\r\n    if (typeof data.scheme !== 'object')\r\n        throw new UIRegistrationException('Scheme for a new UI \"' + data.name + '\" is ' + (typeof data.scheme) + '. Object required.');\r\n\r\n    if (!data.hasOwnProperty('rules')) data.rules = {};\r\n\r\n    if (typeof data.rules !== 'object')\r\n        throw new UIRegistrationException('Rules for a new UI \"' + data.name + '\" is ' + (typeof data.rules) + '. Object required.');\r\n}\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport Element from './element';\r\nimport Data from './data';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport extensionsManager from './extension';\r\nimport {error, warn} from '../utils/logging';\r\n\r\n/**\r\n * Class that represents single UI instance.\r\n * Its necessary to define class as function to allow use 'call()' method.\r\n */\r\nexport default function Instance(){\r\n    // Define service property that encapsulates hidden data.\r\n    Object.defineProperty(this, '__', {\r\n        value: {},\r\n        configurable: false,\r\n        enumerable: false,\r\n        writeable: false\r\n    });\r\n\r\n    this.__.extensions = {};\r\n    this.__.events = {};\r\n    this.__.dispatchers = {};\r\n    this.__.eventsTimeouts = {};\r\n    this.__.ui = null;\r\n    this.__.parent = null;\r\n    this.__.data = null;\r\n    this.__.params = {};\r\n}\r\n\r\n// Add events supporting for Instance.\r\naddEventsMethods(Instance.prototype);\r\n\r\n\r\n/**\r\n * Returns events channel for the UI namespace.\r\n * @return {*}\r\n */\r\nInstance.prototype.getChannel = function () {\r\n    return this.__.ui.channel;\r\n};\r\n\r\n\r\n/**\r\n * Checks if UI implements interface with given name.\r\n * @param interfaceName {string}\r\n * @return {boolean}\r\n */\r\nInstance.prototype.isImplementationOf = function(interfaceName) {\r\n    return this.__.ui.__.implements.indexOf(interfaceName) >= 0;\r\n};\r\n\r\n/**\r\n * Removes Instance from the parent Element.\r\n */\r\nInstance.prototype.remove = function () {\r\n    // remove this instance from the parent children[] property\r\n    let parent = this.__.parent;\r\n    let scheme = this.__.ui.scheme;\r\n\r\n\r\n    for (let p in scheme) {\r\n        if (scheme.hasOwnProperty(p) && this[p].__.node.parentNode !== null){\r\n            this[p].__.node.parentNode.removeChild(this[p].__.node);\r\n        }\r\n    }\r\n\r\n    if (parent instanceof Element !== true) return;\r\n\r\n    for (let i = 0, len = parent.__.children.length; i < len; i++) {\r\n        if (parent.__.children[i] === this) {\r\n            parent.__.children.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n */\r\nInstance.prototype.ui = function () {\r\n    return this.__.ui;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Please use [ui()] method instead.\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n * @deprecated\r\n * @see Instance.ui\r\n */\r\nInstance.prototype.UI = function () {\r\n    return this.__.ui;\r\n};\r\n\r\n/**\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n */\r\nInstance.prototype.loadLocalization = function (callback) {\r\n    let L = this.__.ui.localization;\r\n    if(L !== null){\r\n        L10n.loadTranslations(L, callback);\r\n    }else{\r\n        warn('Localization loading failed: localization category is not specified for the UI \"' + this.__.ui.name + '\".');\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns parameters of the instance.\r\n * @returns {UI|*}\r\n * @constructor\r\n */\r\nInstance.prototype.params = function () {\r\n    return this.__.params;\r\n};\r\n\r\n\r\n/**\r\n * Returns parent Instance.\r\n * @returns Instance|null\r\n */\r\nInstance.prototype.parentUII = function () {\r\n    let parent = this.__.parent;\r\n    if (parent instanceof Element) return parent.__.uiinstance;\r\n    return null;\r\n};\r\n\r\n\r\n/**\r\n * Loads data to the instance.\r\n * @param {object} data        Data to be loaded.\r\n * @param {boolean} [replace]        If true all existing data will be removed before loading.\r\n * @param {boolean} [atStart]        If true new data will be inserted into the start.\r\n */\r\nInstance.prototype.load = function (data, replace, atStart) {\r\n    if (typeof replace !== 'boolean') replace = true;\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    if (data instanceof Data) {\r\n        try {\r\n            data.fetch(function (replace, atStart, response) {\r\n                this.load(response, replace, atStart);\r\n                this.triggerEvent('afterLoad', data);\r\n                this.__.ui.triggerEvent('afterLoad', this, data);\r\n            }.bind(this, replace, atStart));\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        return this;\r\n    }\r\n\r\n\r\n    // Trigger event on the UI.\r\n    let event = new Event('load', {cancelable: true});\r\n    this.__.ui.triggerEvent('load', this, data, event);\r\n    if (event.defaultPrevented){\r\n        this.triggerEvent('afterLoad', data);\r\n        this.__.ui.triggerEvent('afterLoad', this, data);\r\n        return this;\r\n    }\r\n\r\n    // Trigger event on the instance.\r\n    event = new Event('load', {cancelable: true});\r\n    this.triggerEvent('load', data, event);\r\n    if (event.defaultPrevented){\r\n        this.triggerEvent('afterLoad', data);\r\n        this.__.ui.triggerEvent('afterLoad', this, data);\r\n        return this;\r\n    }\r\n\r\n\r\n    if (typeof data !== 'object') {\r\n        //warn('Instance data loading error: invalid argument. Object is required but ' + typeof data + ' given.');\r\n    }\r\n\r\n    let root = this.getRootElement();\r\n    if (typeof data === 'string') {\r\n\r\n        if (root !== null) {\r\n            root.load(data, replace, atStart);\r\n            this.triggerEvent('afterLoad', data);\r\n            this.__.ui.triggerEvent('afterLoad', this, data);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    if (Array.isArray(data)) {\r\n        if (root !== null) {\r\n            root.load(data, replace, atStart);\r\n            this.triggerEvent('afterLoad', data);\r\n            this.__.ui.triggerEvent('afterLoad', this, data);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    for (let p in data) {\r\n        if (p === '__') continue; // Prevent from changing some initial properties.\r\n\r\n        if (this.hasOwnProperty(p)) {\r\n            let el = this[p];\r\n\r\n            if (this[p] instanceof Element) {\r\n\r\n                let inclusion = el.inclusion(); // Included Instance\r\n                if (inclusion instanceof Instance) {\r\n\r\n                    if (Array.isArray(data[p])) {\r\n                        let incRoot = inclusion.getRootElement();\r\n                        if (incRoot === null || !el.hasChildUI()) {\r\n                            inclusion.load(data[p], replace, atStart);\r\n                        } else {\r\n                            try {\r\n                                incRoot.load(data[p], replace, atStart);\r\n                            } catch (e) {\r\n                                error(e);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        inclusion.load(data[p], replace, atStart);\r\n                    }\r\n\r\n\r\n                } else {\r\n                    try {\r\n                        this[p].load(data[p], replace, atStart);\r\n                    } catch (e) {\r\n                        error(e);\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                el.load(data[p], replace, atStart);\r\n            }\r\n\r\n        }else{\r\n            let ui = uiRegistry.get(p);\r\n            if (ui !== null && root !== null) {\r\n                ui.renderTo(root, false, {}).load(data[p], true, false);\r\n            }\r\n        }\r\n    }\r\n    this.triggerEvent('afterLoad', data);\r\n    this.__.ui.triggerEvent('afterLoad', this, data);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Returns top level Element that contains all another element.\r\n * If top level has few elements - null will be returned.\r\n * @returns {Element}\r\n */\r\nInstance.prototype.getRootElement = function () {\r\n    let topLevel = Object.keys(this.__.ui.scheme);\r\n    return topLevel.length === 1 && this.hasOwnProperty(topLevel[0]) ? this[topLevel[0]] : null;\r\n};\r\n\r\n/**\r\n * Returns top level Element that contains all another element.\r\n * If top level has few elements - null will be returned.\r\n * @returns {Element}\r\n */\r\nInstance.prototype.getLastRootElement = function () {\r\n    let topLevel = Object.keys(this.__.ui.scheme);\r\n    let lastKey = topLevel[topLevel.length - 1];\r\n    return topLevel.length === 1 && this.hasOwnProperty(lastKey) ? this[lastKey] : null;\r\n};\r\n\r\n\r\n\r\nInstance.prototype.appendTo = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n\r\n    for(let p in scheme){\r\n        if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n            node.appendChild(this[p].node());\r\n            if(node.element instanceof Element){\r\n                this[p].__.parent = node.element;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\nInstance.prototype.appendAfter = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    // Check if node have parent.\r\n    let parent = node.parentNode;\r\n    if(parent === null){\r\n        error('Element given for the method instance \"appendAfter()\" have no parent node.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n    let next = node.nextSibling;\r\n    if (next) {\r\n        for(let p in scheme){\r\n            if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n                parent.insertBefore(this[p].node(), next);\r\n                if(parent.element instanceof Element){\r\n                    this[p].__.parent = parent.element;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        for(let p in scheme){\r\n            if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n                parent.appendChild(this[p].node());\r\n                if(parent.element instanceof Element){\r\n                    this[p].__.parent = parent.element;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nInstance.prototype.appendBefore = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" instance method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    // Check if node have parent.\r\n    let parent = node.parentNode;\r\n    if(parent === null){\r\n        error('Element given for the method instance \"appendAfter()\" have no parent node.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n    for(let p in scheme){\r\n        if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n            parent.insertBefore(this[p].node(), node);\r\n            if(parent.element instanceof Element){\r\n                this[p].__.parent = parent.element;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Applies extension to the instance.\r\n * Returns true if applying was successful.\r\n * @returns {boolean}\r\n */\r\nInstance.prototype.applyExtension = function (name, params) {\r\n    // Log warning if extension is already applied to the element.\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        warn('Extension with name \"' + name + '\" is already applied to the instance.');\r\n        return false;\r\n    }\r\n\r\n    // Log error if requested extension is absent.\r\n    let ext = extensionsManager(name);\r\n    if(ext === null){\r\n        error('Extension with name \"' + name + '\" is not registered yet.');\r\n        return false;\r\n    }\r\n\r\n    this.__.extensions[name] = ext.applyTo(this, params);\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Returns extension by name.\r\n * @param name {string}\r\n * @return {ExtensionInstance|null}\r\n */\r\nInstance.prototype.extension = function (name) {\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        return this.__.extensions[name];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Removes extension from the instance.\r\n * Returns true if removing was successful.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nInstance.prototype.removeExtension = function (name) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n\r\n    let ext = this.__.extensions[name];\r\n    if (ext.remove !== undefined) {\r\n        ext.remove();\r\n        delete this.__.extensions[name];\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * Tries to update extension with given name by passing new parameters.\r\n * To make update possible extension must implement 'update' event handler.\r\n * @param name {string} Name of the extension.\r\n * @param params {object} Parameters to be updated.\r\n * @return {boolean}\r\n */\r\nInstance.prototype.updateExtension = function (name, params) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n    let ext = this.__.extensions[name];\r\n    if (ext.update !== undefined) {\r\n        ext.update(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};","import {parseParameters} from '../utils/ui-utils';\r\nimport {makeClassName} from '../utils/strings';\r\nimport stylesRegistry from '../registries/styles-registry';\r\n\r\nlet cssGenerator = {\r\n    generateUIStyles (ui) {\r\n        if (typeof ui.css === 'string') {\r\n            ui.css = stylesRegistry.get(ui.css);\r\n        }\r\n        return generateCSS.call(ui, ui.css);\r\n    },\r\n\r\n    generateSimpleStyles (styles) {\r\n        let css = \"\\n\";\r\n        for(let p in styles){\r\n            if(styles.hasOwnProperty(p)){\r\n                if(typeof styles[p] !== 'object'){\r\n                    continue;\r\n                }\r\n                css += p + \" {\\n\";\r\n                for(let s in styles[p]){\r\n                    if(styles[p].hasOwnProperty(s)){\r\n                        let val = styles[p][s];\r\n                        if(val.getValue !== undefined){\r\n                            val = val.getValue();\r\n                        }\r\n                        css += '    ' + makeClassName('' + s) + ': ' + val + \";\\n\";\r\n                    }\r\n                }\r\n                css += \"}\\n\";\r\n            }\r\n        }\r\n        return css;\r\n    }\r\n};\r\n\r\nexport default cssGenerator;\r\n\r\n/**\r\n * Generates CSS of the UI.\r\n * @returns {string}\r\n */\r\nfunction generateCSS (data, parentSelector, parentEl)\r\n{\r\n    if(parentSelector === undefined) parentSelector = '';\r\n    let res = [];\r\n\r\n    for(let elName in data) {\r\n        if(!data.hasOwnProperty(elName)) continue;\r\n\r\n        let styles = data[elName];\r\n        let cssText = '';\r\n        let selector, params;\r\n\r\n        // Check if element exists in the UI.\r\n        if (!this.elements.hasOwnProperty(elName) && elName[0] === '@') {\r\n\r\n            // Process CSS animation.\r\n            if(elName.slice(0, 10) === '@keyframes'){\r\n                cssText += elName + \"{\\n\";\r\n                for (let p in styles) {\r\n                    if(!styles.hasOwnProperty(p)) continue;\r\n                    if (typeof styles[p] === 'string') {\r\n                        cssText += '    ' + makeClassName(p) + ': ' + (styles[p] === '' ? '\"\"' : styles[p]) + \";\\n\";\r\n                    } else if (typeof styles[p] === 'object') {\r\n                        let value = '    ' + p + \" {\\n\";\r\n                        for (let s in styles[p]) {\r\n                            if(styles[p].hasOwnProperty(s)){\r\n                                value += '        ' + makeClassName(s) + ': ' + styles[p][s] + \";\\n\";\r\n                            }\r\n                        }\r\n                        value += \"    }\\n\";\r\n                        cssText += value;\r\n                    }\r\n                }\r\n                cssText += \"}\\n\";\r\n                res.push(cssText);\r\n\r\n                // Otherwise generate nested styles in case it is media query, print or something else.\r\n            }else if(typeof styles === 'object'){\r\n                cssText += parentSelector + elName + \"{\\n\";\r\n                cssText += generateCSS.call(this, styles);\r\n                cssText += \"}\\n\";\r\n                res.push(cssText);\r\n            }\r\n            continue;\r\n        }\r\n\r\n        // Make selector.\r\n        if(this.elements.hasOwnProperty(elName)){\r\n            params = parseParameters(this.elements[elName].rules);\r\n            selector = params.id !== null ? '#' + params.id : '.' + (params.class !== null ? params.class.split(' ').join('.') : makeClassName(elName));\r\n            selector = (this.elements.hasOwnProperty(parentEl) && this.elements[parentEl].children.hasOwnProperty(elName) ? ' > ' : ' ') + selector;\r\n        }else{\r\n            selector = makeClassName(elName);\r\n        }\r\n\r\n        // Make root selector to encapsulate styles in the instance UI.\r\n        let rootSelector = makeClassName(this.name);\r\n        let root = this.getRootElement();\r\n        if(root !== null){\r\n            params = parseParameters(root.rules);\r\n            let rootClass = params.class !== null ? params.class.split(' ').join('.') : makeClassName(root.name);\r\n            if(root === this.elements[elName]){\r\n                selector = '';\r\n            }\r\n            rootSelector = params.id !== null ? '#' + params.id : '.' + makeClassName(this.name) + '.' + rootClass;\r\n        }\r\n        // Don't use root selector if it already presented.\r\n        if(parentSelector.indexOf(rootSelector) >= 0 || selector.indexOf(rootSelector) >= 0) rootSelector = '';\r\n\r\n        let index = res.length;\r\n        res.push('');\r\n\r\n        cssText += ((rootSelector + ' ' + parentSelector).trim() + selector)\r\n                .replace('  ', ' ')\r\n                .replace(' :', ':')\r\n                .replace('>:', ':') + \"{\\n\";\r\n\r\n        for(let styleName in styles){\r\n            if(!styles.hasOwnProperty(styleName)) continue;\r\n\r\n            let style = styles[styleName];\r\n\r\n            if(typeof style === 'string' || typeof style === 'number'){\r\n                let s = style;\r\n                if(styleName === 'content'){\r\n                    s = style.slice(0, 5) === 'attr(' ? style : (style === '' ? '\"\"' : '\"'+style+'\"');\r\n                }\r\n                cssText += '    ' + makeClassName(styleName) + ': ' + s + \";\\n\";\r\n\r\n            }else if(style.getValue !== undefined){\r\n                cssText += '    ' + makeClassName(styleName) + ': ' + style.getValue() + \";\\n\";\r\n\r\n            }else if(typeof style === 'object'){\r\n                let obj = {};\r\n                obj[styleName] = style;\r\n                res.push(generateCSS.call(this, obj, parentSelector + selector, elName));\r\n            }\r\n        }\r\n        cssText += \"}\\n\";\r\n        res[index] = cssText;\r\n    }\r\n    return res.join(\"\\n\");\r\n}","import {error, warn} from '../utils/logging';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport Settings from './settings';\r\nimport uiRegistry from '../registries/ui-registry';\r\n\r\n/**\r\n * Interface that holds information about methods set.\r\n * Main purpose - dependency description.\r\n *\r\n * @property name {string}      Name of the interface.\r\n * @property methods {{Method}} Methods of the interface.\r\n */\r\nclass Interface\r\n{\r\n    constructor(name, methods) {\r\n        this.name = name;\r\n        this.methods = {};\r\n        this.methodsQuantity = 0;\r\n\r\n        for (let i = 0, len = methods.length; i < len; i++) {\r\n            let method = new Method(methods[i]);\r\n            if (method.valid) {\r\n                this.methods[method.name] = method;\r\n                this.methodsQuantity++;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if given object implements interface.\r\n     * @param obj {object} Object which methods will be checked.\r\n     * @return {boolean}   Returns true if given object has all interface methods.\r\n     */\r\n    implementedBy(obj) {\r\n        for (let p in this.methods) {\r\n            if (this.methods.hasOwnProperty(p)) {\r\n                if (typeof obj[p] !== 'function' || !this.methods[p].checkSignature(obj[p])) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Interface string representation.\r\n     * @return {string}\r\n     */\r\n    toString() {\r\n        let res = this.name + \" {\\n\";\r\n        for (let p in this.methods) {\r\n            if (this.methods.hasOwnProperty(p)) {\r\n                res += '    ' + p + '(' + this.methods[p].arguments.join(', ') + \")\\n\";\r\n            }\r\n        }\r\n        return res + \"}\";\r\n    }\r\n}\r\n\r\n\r\nlet signatureRegexp = /^([\\w$_]+[$\\w\\d]*)\\s*\\(([\\w\\d\\s,$]*)\\)/i;\r\n\r\n/**\r\n * Class that represents single method.\r\n * Holds information about method name and accepted arguments.\r\n *\r\n * @property valid {boolean}      Flag if given signature is valid.\r\n * @property name {string}        Name of the method.\r\n * @property arguments {{string}} List of the accepted arguments.\r\n */\r\nclass Method\r\n{\r\n    constructor(signature) {\r\n        this.valid = true;\r\n\r\n        let res = (signature + '').match(signatureRegexp);\r\n        if (res === null || res.length < 2) {\r\n            error('Invalid method signature.');\r\n            this.valid = false;\r\n            return;\r\n        }\r\n\r\n        this.name = res[1];\r\n        if (res.length > 2) {\r\n            this.arguments = res[2].split(',');\r\n            for (let i = 0, len = this.arguments.length; i < len; i++) {\r\n                this.arguments[i] = this.arguments[i].trim();\r\n                if (this.arguments[i] === '') {\r\n                    this.arguments.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if signature of the given function is the same with method's one.\r\n     * @param func {function} Function that will be checked.\r\n     * @return {boolean}\r\n     */\r\n    checkSignature(func) {\r\n        let res = (func + '').match(signatureRegexp);\r\n\r\n        if (res === null || res.length < 2) {\r\n            return false;\r\n        }\r\n\r\n        if (this.arguments.length > 0) {\r\n            // If function don't accepts arguments but at least one argument required.\r\n            if (res.length < 3) {\r\n                return false;\r\n            }\r\n\r\n            // If function accepts too few arguments.\r\n            let args = res[2].split(',');\r\n            if (res[2] === '' || this.arguments.length > args.length) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n/**\r\n * Object that stores all registered interfaces.\r\n * @type {{Interface}}\r\n */\r\nlet interfaces = {};\r\n\r\n/**\r\n * Object that stores UIs that implements any interface.\r\n * The key is interface name and the value is UI.\r\n * Used for searching of the UI by the interface name.\r\n * @type {{}}\r\n */\r\nlet interfacesUIs = {};\r\n\r\n/**\r\n * Returns interface by name.\r\n * @param name {string} Name of the interface.\r\n * @return {Interface|null}\r\n * @method triggerEvent(eventName, args)\r\n * @method on(eventName, handler)\r\n */\r\nexport default function interfaceManager (name) {\r\n    if (interfaces.hasOwnProperty(name)) {\r\n        return interfaces[name];\r\n    }\r\n    return null;\r\n}\r\n\r\n// Add events support.\r\naddEventsMethods(interfaceManager);\r\n\r\n/**\r\n * Returns implementation of the interface with given name.\r\n * @param interfaceName {string}\r\n * @return {*}\r\n */\r\ninterfaceManager.getImplementation = function(interfaceName) {\r\n    if (interfacesUIs.hasOwnProperty(interfaceName) && interfacesUIs[interfaceName].length > 0) {\r\n        return interfacesUIs[interfaceName][0];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Adds interface implementation.\r\n * @param interfaceName\r\n * @param ui\r\n */\r\ninterfaceManager.addImplementation = function(interfaceName, ui) {\r\n    if (!interfacesUIs.hasOwnProperty(interfaceName)) {\r\n        interfacesUIs[interfaceName] = [];\r\n    }\r\n    if (interfacesUIs[interfaceName].indexOf(ui) < 0) {\r\n        interfacesUIs[interfaceName].push(ui);\r\n    }\r\n};\r\n\r\n/**\r\n * Registers new interface.\r\n * @param name {string} Name of the interface.\r\n * Please don't use prefix or suffix 'interface'.\r\n * Any interface will be fetched by using global Interface function-helper.\r\n * Good name example: Calendar\r\n *\r\n * Example of usage:\r\n *\r\n * Interface.register('Calendar', [\r\n *     'val(value)',\r\n *     'format(template)',\r\n *     'from(date)',\r\n *     'to(date)'\r\n * ]);\r\n *\r\n * // Getting 'Calendar' interface using global function-helper.\r\n * let i = Interface('Calendar');\r\n *\r\n * // Defining UI to require this interface:\r\n * UI.register({\r\n *     name: 'Date picker',\r\n *\r\n *     scheme: {\r\n *         wrap: {\r\n *             field: '@input [type = text]',\r\n *             popup: '<<< Calendar\r\n *         }\r\n *     },\r\n *\r\n *     dependencies: {\r\n *         popup: 'Calendar'\r\n *     }\r\n * });\r\n *\r\n * @param methods\r\n * @fires interfaceManager:register\r\n */\r\ninterfaceManager.register = function (name, methods) {\r\n    name = name.trim();\r\n    if (typeof name !== 'string' || name === '') {\r\n        error('Interface name is invalid.');\r\n        return;\r\n    }\r\n\r\n    if (!Array.isArray(methods) || methods.length === 0) {\r\n        error('Interface method must contain at least one method signature.');\r\n        return;\r\n    }\r\n\r\n    if (interfaces.hasOwnProperty(name)) {\r\n        warn('Interface with name \"' + name + '\" is already registered.');\r\n        return;\r\n    }\r\n\r\n    interfaces[name] = new Interface(name, methods);\r\n\r\n    // Trigger 'register' event only in development mode because\r\n    // this event initiate implementations searching that costs some performance.\r\n    if (Settings.devMode) {\r\n        interfaceManager.triggerEvent('register', interfaces[name]);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns names of the interfaces that are implemented by the given object.\r\n * @param obj {object}\r\n * @return {string[]}\r\n */\r\ninterfaceManager.detectInterfacesFor = function (obj) {\r\n    let res = [];\r\n    for (let p in interfaces) {\r\n        if (interfaces.hasOwnProperty(p)) {\r\n            if (interfaces[p].implementedBy(obj)) {\r\n                res.push(interfaces[p].name);\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n// Store link to the uis list.\r\nlet uis = uiRegistry.getAll();\r\n\r\n/**\r\n * Handles 'register' event to find implementations of the newly created interface.\r\n */\r\ninterfaceManager.on('register', inter => {\r\n    let implementations = [];\r\n    for (let p in uis) {\r\n        if (uis.hasOwnProperty(p)) {\r\n            if (inter.implementedBy(uis[p].uiiConstructor.prototype)) {\r\n                uis[p].__.implements.push(inter.name);\r\n                implementations.push(uis[p]);\r\n            }\r\n        }\r\n    }\r\n    interfacesUIs[inter.name] = implementations;\r\n});","import cssGenerator from './css-generator';\r\n\r\n/**\r\n * Reset styles.\r\n * @type {{}}\r\n */\r\nlet resetStyles = {};\r\n\r\n/**\r\n * Generates reset styles.\r\n * Can be used after theme definition to include dynamically defined styles.\r\n *\r\n * Example:\r\n *\r\n * // Define theme.\r\n * Theme.register('Default', {\r\n *     colors : {\r\n *         primary: new Color('#ff0000)\r\n *     }\r\n * });\r\n *\r\n * // Set current theme.\r\n * Theme.switchTo('Default');\r\n *\r\n * // Add reset styles and render it.\r\n * UI.createResetStyles({\r\n *     button : {\r\n *         backgroundColor: Theme('colors.primary')\r\n *     }\r\n * });\r\n *\r\n * // Force to re-render reset styles on theme switch.\r\n * Theme.on('switch', UI.createResetStyles);\r\n */\r\nexport default function createResetStyles (styles)\r\n{\r\n    if(styles === undefined){\r\n        styles = resetStyles;\r\n    }else{\r\n        resetStyles = styles;\r\n    }\r\n\r\n    let styleTag = document.querySelector('style[data-reset=\"ui-builder\"]');\r\n    if(styleTag === null){\r\n        styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-reset', 'ui-builder');\r\n        let head = document.getElementsByTagName('head')[0];\r\n        head.appendChild(styleTag);\r\n    }\r\n\r\n    // Set new content of the reset style tag.\r\n    styleTag.innerHTML = cssGenerator.generateSimpleStyles(styles);\r\n};","import UI from './core/ui';\r\nimport Instance from './core/instance';\r\nimport Element from './core/element';\r\nimport uiRegistry from './registries/ui-registry';\r\nimport addEventsMethods from './utils/events-methods';\r\nimport {checkUIParameters} from './utils/ui-utils';\r\nimport createResetStyles from './core/reset-styles';\r\n\r\n/**\r\n * Main function/object-helper that contains all methods\r\n * of the application.\r\n * @param name {string} Name of the UI.\r\n * @returns {UI|null}\r\n */\r\nexport default function Builder(name) {\r\n    return uiRegistry.get(name);\r\n}\r\n\r\n// Add events support.\r\naddEventsMethods(Builder);\r\n\r\n/**\r\n * Registers new UI.\r\n * @param data (object)\r\n *\r\n * Structure:\r\n * {\r\n *      name         : {string},\r\n *      localization : {string},\r\n *      translations : {object},\r\n *      scheme       : {object},\r\n *      rules        : {object},\r\n *      params       : {object},\r\n *      method       : {object},\r\n *      styles       : {object}\r\n * }\r\n */\r\nBuilder.register = function(data) {\r\n    if(typeof data === 'string'){\r\n        data = {name : data};\r\n    }\r\n    checkUIParameters(data);\r\n    let ui = new UI(data);\r\n    uiRegistry.add(data.name, ui);\r\n    Builder.triggerEvent('register', ui);\r\n    return ui;\r\n};\r\n\r\n/**\r\n * Checks whether subject is instance of the UI.\r\n * @param subject\r\n * @returns {boolean}\r\n */\r\nBuilder.isInstance = function(subject){\r\n    return subject instanceof Instance;\r\n};\r\n\r\n/**\r\n * Checks whether subject is element of the UI instance.\r\n * @param subject\r\n * @returns {boolean}\r\n */\r\nBuilder.isElement = function(subject){\r\n    return subject instanceof Element;\r\n};\r\n\r\n// Attach helpers.\r\nBuilder.createResetStyles = createResetStyles;\r\n","import addEventsMethods from '../utils/events-methods';\r\nimport UI from './ui'\r\nimport {error} from '../utils/logging';\r\nimport {checkUIParameters} from '../utils/ui-utils';\r\nimport uiRegistry from '../registries/ui-registry';\r\n\r\nlet layouts = {};\r\n\r\nlet currentLayoutName = null;\r\nlet currentLayoutInst = null;\r\n\r\n/**\r\n * Returns layout by name.\r\n * @param name\r\n * @return {Instance|null}\r\n */\r\nfunction getLayout(name) {\r\n    if (layouts.hasOwnProperty(name)) {\r\n        return layouts[name];\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Returns currently rendered layout.\r\n * @returns {LayoutUI}\r\n * @private\r\n */\r\nexport default function Layout(name) {\r\n    if(layouts.hasOwnProperty(name)){\r\n        return new LayoutUI(name);\r\n    }\r\n    error('Layout with name \"' + name + '\" is not registered yet.');\r\n}\r\naddEventsMethods(Layout);\r\n\r\n/**\r\n * Registers new layout UI.\r\n * @param {object} data\r\n */\r\nLayout.register = function (data) {\r\n    checkUIParameters(data);\r\n    if (uiRegistry.get(data.name) !== null){\r\n        error('UI with name \"' + data.name + '\" already registered.');\r\n    }\r\n    layouts[data.name] = new UI(data);\r\n    Layout.triggerEvent('register', layouts[data.name]);\r\n    return layouts[data.name];\r\n};\r\n\r\n/**\r\n * Renders layout with given name.\r\n * @param name\r\n * @param params\r\n */\r\nLayout.render = function (name, params) {\r\n    let ui = getLayout(name);\r\n    if(ui === null){\r\n        error('Layout with name \"' + name + '\" is not registered yet.');\r\n    }\r\n    currentLayoutInst = ui.render(params);\r\n    currentLayoutName = name;\r\n    return currentLayoutInst;\r\n};\r\n\r\n/**\r\n * Returns instance of the current layout.\r\n * @returns {*}\r\n */\r\nLayout.getInstance = function () {\r\n    return currentLayoutInst;\r\n};\r\n\r\n/**\r\n * Object that provides all necessary methods.\r\n * Usage: Layout('Main').render();\r\n * @param name\r\n * @constructor\r\n */\r\nclass LayoutUI\r\n{\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n\r\n    render(params ){\r\n        let ui = getLayout(this.name);\r\n        currentLayoutInst = ui.render(params);\r\n        currentLayoutName = this.name;\r\n        return currentLayoutInst;\r\n    }\r\n}\r\n","/**\r\n *           Colors\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * Color is on object that represents color.\r\n * Can be used in any supported format: hex, RGBA, HSL.\r\n * Also provides few functions to manipulation: lighten(), darken(), saturated(), desaturated().\r\n */\r\nexport default function Color(c) {\r\n    Object.defineProperty(this, 'constructor', {\r\n        enumerable: false\r\n    });\r\n    if (!(this instanceof Color)) { return new Color(c); }\r\n    this.attachValues(typeof c === 'object' ? c : toColorObject(c));\r\n}\r\n\r\n\r\nfunction toColorObject(c) {\r\n    let x, y, typ, arr = [], arrLength, i, opacity, match, a, hue, sat, rgb, colorNames = [], colorHexes = [];\r\n    c = colorTrim(c.toLowerCase());\r\n    x = c.substr(0,1).toUpperCase();\r\n    y = c.substr(1);\r\n    a = 1;\r\n    if ((x === \"R\" || x === \"Y\" || x === \"G\" || x === \"C\" || x === \"B\" || x === \"M\" || x === \"W\") && !isNaN(y)) {\r\n        if (c.length === 6 && c.indexOf(\",\") === -1) {\r\n        } else {\r\n            c = \"ncol(\" + c + \")\";\r\n        }\r\n    }\r\n    if (c.length !== 3 && c.length !== 6 && !isNaN(c)) {c = \"ncol(\" + c + \")\";}\r\n    if (c.indexOf(\",\") > 0 && c.indexOf(\"(\") === -1) {c = \"ncol(\" + c + \")\";}\r\n    if (c.substr(0, 3) === \"rgb\" || c.substr(0, 3) === \"hsl\" || c.substr(0, 3) === \"hwb\" || c.substr(0, 4) === \"ncol\" || c.substr(0, 4) === \"cmyk\") {\r\n        if (c.substr(0, 4) === \"ncol\") {\r\n            if (c.split(\",\").length === 4 && c.indexOf(\"ncola\") === -1) {\r\n                c = c.replace(\"ncol\", \"ncola\");\r\n            }\r\n            typ = \"ncol\";\r\n            c = c.substr(4);\r\n        } else if (c.substr(0, 4) === \"cmyk\") {\r\n            typ = \"cmyk\";\r\n            c = c.substr(4);\r\n        } else {\r\n            typ = c.substr(0, 3);\r\n            c = c.substr(3);\r\n        }\r\n        arrLength = 3;\r\n        opacity = false;\r\n        if (c.substr(0, 1).toLowerCase() === \"a\") {\r\n            arrLength = 4;\r\n            opacity = true;\r\n            c = c.substr(1);\r\n        } else if (typ === \"cmyk\") {\r\n            arrLength = 4;\r\n            if (c.split(\",\").length === 5) {\r\n                arrLength = 5;\r\n                opacity = true;\r\n            }\r\n        }\r\n        c = c.replace(\"(\", \"\");\r\n        c = c.replace(\")\", \"\");\r\n        arr = c.split(\",\");\r\n        if (typ === \"rgb\") {\r\n            if (arr.length !== arrLength) {\r\n                return emptyObject();\r\n            }\r\n            for (i = 0; i < arrLength; i++) {\r\n                if (arr[i] === \"\" || arr[i] === \" \") {arr[i] = \"0\"; }\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i] / 100);\r\n                    if (i < 3 ) {arr[i] = Math.round(arr[i] * 255);}\r\n                }\r\n                if (isNaN(arr[i])) {return emptyObject(); }\r\n                if (parseInt(arr[i]) > 255) {arr[i] = 255; }\r\n                if (i < 3) {arr[i] = parseInt(arr[i]);}\r\n                if (i === 3 && Number(arr[i]) > 1) {arr[i] = 1;}\r\n            }\r\n            rgb = {r : arr[0], g : arr[1], b : arr[2]};\r\n            if (opacity === true) {a = Number(arr[3]);}\r\n        }\r\n        if (typ === \"hsl\" || typ === \"hwb\" || typ === \"ncol\") {\r\n            while (arr.length < arrLength) {arr.push(\"0\"); }\r\n            if (typ === \"hsl\" || typ === \"hwb\") {\r\n                if (parseInt(arr[0]) >= 360) {arr[0] = 0; }\r\n            }\r\n            for (i = 1; i < arrLength; i++) {\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i]);\r\n                    if (isNaN(arr[i])) {return emptyObject(); }\r\n                    arr[i] = arr[i] / 100;\r\n                } else {\r\n                    arr[i] = Number(arr[i]);\r\n                }\r\n                if (Number(arr[i]) > 1) {arr[i] = 1;}\r\n                if (Number(arr[i]) < 0) {arr[i] = 0;}\r\n            }\r\n            if (typ === \"hsl\") {rgb = hslToRgb(arr[0], arr[1], arr[2]); hue = Number(arr[0]); sat = Number(arr[1]);}\r\n            if (typ === \"hwb\") {rgb = hwbToRgb(arr[0], arr[1], arr[2]);}\r\n            if (typ === \"ncol\") {rgb = ncolToRgb(arr[0], arr[1], arr[2]);}\r\n            if (opacity === true) {a = Number(arr[3]);}\r\n        }\r\n        if (typ === \"cmyk\") {\r\n            while (arr.length < arrLength) {arr.push(\"0\"); }\r\n            for (i = 0; i < arrLength; i++) {\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i]);\r\n                    if (isNaN(arr[i])) {return emptyObject(); }\r\n                    arr[i] = arr[i] / 100;\r\n                } else {\r\n                    arr[i] = Number(arr[i]);\r\n                }\r\n                if (Number(arr[i]) > 1) {arr[i] = 1;}\r\n                if (Number(arr[i]) < 0) {arr[i] = 0;}\r\n            }\r\n            rgb = cmykToRgb(arr[0], arr[1], arr[2], arr[3]);\r\n            if (opacity === true) {a = Number(arr[4]);}\r\n        }\r\n    } else if (c.substr(0, 3) === \"ncs\") {\r\n        rgb = ncsToRgb(c);\r\n    } else {\r\n        match = false;\r\n        colorNames = getColorArr('names');\r\n        for (i = 0; i < colorNames.length; i++) {\r\n            if (c.toLowerCase() === colorNames[i].toLowerCase()) {\r\n                colorHexes = getColorArr('hexs');\r\n                match = true;\r\n                rgb = {\r\n                    r : parseInt(colorHexes[i].substr(0,2), 16),\r\n                    g : parseInt(colorHexes[i].substr(2,2), 16),\r\n                    b : parseInt(colorHexes[i].substr(4,2), 16)\r\n                };\r\n                break;\r\n            }\r\n        }\r\n        if (match === false) {\r\n            c = c.replace(\"#\", \"\");\r\n            if (c.length === 3) {c = c.substr(0,1) + c.substr(0,1) + c.substr(1,1) + c.substr(1,1) + c.substr(2,1) + c.substr(2,1);}\r\n            for (i = 0; i < c.length; i++) {\r\n                if (!isHex(c.substr(i, 1))) {return emptyObject(); }\r\n            }\r\n            arr[0] = parseInt(c.substr(0,2), 16);\r\n            arr[1] = parseInt(c.substr(2,2), 16);\r\n            arr[2] = parseInt(c.substr(4,2), 16);\r\n            for (i = 0; i < 3; i++) {\r\n                if (isNaN(arr[i])) {return emptyObject(); }\r\n            }\r\n            rgb = {\r\n                r : arr[0],\r\n                g : arr[1],\r\n                b : arr[2]\r\n            };\r\n        }\r\n    }\r\n    return colorObject(rgb, a, hue, sat);\r\n}\r\n\r\nfunction cmykToRgb(c, m, y, k) {\r\n    let r, g, b;\r\n    r = 255 - ((Math.min(1, c * (1 - k) + k)) * 255);\r\n    g = 255 - ((Math.min(1, m * (1 - k) + k)) * 255);\r\n    b = 255 - ((Math.min(1, y * (1 - k) + k)) * 255);\r\n    return {r : r, g : g, b : b};\r\n}\r\n\r\nfunction ncolToRgb(ncol, white, black) {\r\n    let letter, percent, h;\r\n    h = ncol;\r\n    if (isNaN(ncol.substr(0, 1))) {\r\n        letter = ncol.substr(0,1).toUpperCase();\r\n        percent = ncol.substr(1);\r\n        if (percent === \"\") {percent = 0;}\r\n        percent = Number(percent);\r\n        if (isNaN(percent)) {return false;}\r\n        if (letter === \"R\") {h = percent * 0.6;}\r\n        if (letter === \"Y\") {h = 60 + (percent * 0.6);}\r\n        if (letter === \"G\") {h = 120 + (percent * 0.6);}\r\n        if (letter === \"C\") {h = 180 + (percent * 0.6);}\r\n        if (letter === \"B\") {h = 240 + (percent * 0.6);}\r\n        if (letter === \"M\") {h = 300 + (percent * 0.6);}\r\n        if (letter === \"W\") {\r\n            h = 0;\r\n            white = 1 - (percent / 100);\r\n            black = (percent / 100);\r\n        }\r\n    }\r\n    return hwbToRgb(h, white, black);\r\n}\r\n\r\nfunction hwbToRgb(hue, white, black) {\r\n    let i, rgb, rgbArr = [], tot;\r\n    rgb = hslToRgb(hue, 1, 0.50);\r\n    rgbArr[0] = rgb.r / 255;\r\n    rgbArr[1] = rgb.g / 255;\r\n    rgbArr[2] = rgb.b / 255;\r\n    tot = white + black;\r\n    if (tot > 1) {\r\n        white = Number((white / tot).toFixed(2));\r\n        black = Number((black / tot).toFixed(2));\r\n    }\r\n    for (i = 0; i < 3; i++) {\r\n        rgbArr[i] *= (1 - (white) - (black));\r\n        rgbArr[i] += (white);\r\n        rgbArr[i] = Number(rgbArr[i] * 255);\r\n    }\r\n    return {r : rgbArr[0], g : rgbArr[1], b : rgbArr[2] };\r\n}\r\n\r\nfunction ncsToRgb(ncs){\r\n    let black, chroma, bc, percent, black1, chroma1, factor1, blue1, red1, red2, green2, blue2, max, factor2, grey, r, g, b;\r\n    ncs = colorTrim(ncs).toUpperCase();\r\n    ncs = ncs.replace(\"(\", \"\");\r\n    ncs = ncs.replace(\")\", \"\");\r\n    ncs = ncs.replace(\"NCS\", \"NCS \");\r\n    ncs = ncs.replace(/\\s+/g, \" \");\r\n    if (ncs.indexOf(\"NCS\") === -1) {ncs = \"NCS \" + ncs;}\r\n    ncs = ncs.match(/^(?:NCS|NCS\\sS)\\s(\\d{2})(\\d{2})-(N|[A-Z])(\\d{2})?([A-Z])?$/);\r\n    if (ncs === null) return false;\r\n    black = parseInt(ncs[1], 10);\r\n    chroma = parseInt(ncs[2], 10);\r\n    bc = ncs[3];\r\n    if (bc !== \"N\" && bc !== \"Y\" && bc !== \"R\" && bc !== \"B\" && bc !== \"G\") {return false;}\r\n    percent = parseInt(ncs[4], 10) || 0;\r\n    if (bc !== 'N') {\r\n        black1 = (1.05 * black - 5.25);\r\n        chroma1 = chroma;\r\n        if (bc === 'Y' && percent <= 60) {\r\n            red1 = 1;\r\n        } else if (( bc === 'Y' && percent > 60) || ( bc === 'R' && percent <= 80)) {\r\n            if (bc === 'Y') {\r\n                factor1 = percent - 60;\r\n            } else {\r\n                factor1 = percent + 40;\r\n            }\r\n            red1 = ((Math.sqrt(14884 - Math.pow(factor1, 2))) - 22) / 100;\r\n        } else if ((bc === 'R' && percent > 80) || (bc === 'B')) {\r\n            red1 = 0;\r\n        } else if (bc === 'G') {\r\n            factor1 = (percent - 170);\r\n            red1 = ((Math.sqrt(33800 - Math.pow(factor1, 2))) - 70) / 100;\r\n        }\r\n        if (bc === 'Y' && percent <= 80) {\r\n            blue1 = 0;\r\n        } else if (( bc === 'Y' && percent > 80) || ( bc === 'R' && percent <= 60)) {\r\n            if (bc ==='Y') {\r\n                factor1 = (percent - 80) + 20.5;\r\n            } else {\r\n                factor1 = (percent + 20) + 20.5;\r\n            }\r\n            blue1 = (104 - (Math.sqrt(11236 - Math.pow(factor1, 2)))) / 100;\r\n        } else if ((bc === 'R' && percent > 60) || ( bc === 'B' && percent <= 80)) {\r\n            if (bc ==='R') {\r\n                factor1 = (percent - 60) - 60;\r\n            } else {\r\n                factor1 = (percent + 40) - 60;\r\n            }\r\n            blue1 = ((Math.sqrt(10000 - Math.pow(factor1, 2))) - 10) / 100;\r\n        } else if (( bc === 'B' && percent > 80) || ( bc === 'G' && percent <= 40)) {\r\n            if (bc === 'B') {\r\n                factor1 = (percent - 80) - 131;\r\n            } else {\r\n                factor1 = (percent + 20) - 131;\r\n            }\r\n            blue1 = (122 - (Math.sqrt(19881 - Math.pow(factor1, 2)))) / 100;\r\n        } else if (bc === 'G' && percent > 40) {\r\n            blue1 = 0;\r\n        }\r\n        let green1;\r\n        if (bc === 'Y') {\r\n            green1 = (85 - 17/20 * percent) / 100;\r\n        } else if (bc === 'R' && percent <= 60) {\r\n            green1 = 0;\r\n        } else if (bc === 'R' && percent > 60) {\r\n            factor1 = (percent - 60) + 35;\r\n            green1 = (67.5 - (Math.sqrt(5776 - Math.pow(factor1, 2)))) / 100;\r\n        } else if (bc === 'B' && percent <= 60) {\r\n            factor1 = (1*percent - 68.5);\r\n            green1 = (6.5 + (Math.sqrt(7044.5 - Math.pow(factor1, 2)))) / 100;\r\n        } else if ((bc === 'B' && percent > 60) || ( bc === 'G' && percent <= 60)) {\r\n            green1 = 0.9;\r\n        } else if (bc === 'G' && percent > 60) {\r\n            factor1 = (percent - 60);\r\n            green1 = (90 - (1/8 * factor1)) / 100;\r\n        }\r\n        factor1 = (red1 + green1 + blue1)/3;\r\n        red2 = ((factor1 - red1) * (100 - chroma1) / 100) + red1;\r\n        green2 = ((factor1 - green1) * (100 - chroma1) / 100) + green1;\r\n        blue2 = ((factor1 - blue1) * (100 - chroma1) / 100) + blue1;\r\n        if (red2 > green2 && red2 > blue2) {\r\n            max = red2;\r\n        } else if (green2 > red2 && green2 > blue2) {\r\n            max = green2;\r\n        } else if (blue2 > red2 && blue2 > green2) {\r\n            max = blue2;\r\n        } else {\r\n            max = (red2 + green2 + blue2) / 3;\r\n        }\r\n        factor2 = 1 / max;\r\n        r = parseInt((red2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        g = parseInt((green2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        b = parseInt((blue2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        if (r > 255) {r = 255;}\r\n        if (g > 255) {g = 255;}\r\n        if (b > 255) {b = 255;}\r\n        if (r < 0) {r = 0;}\r\n        if (g < 0) {g = 0;}\r\n        if (b < 0) {b = 0;}\r\n    } else {\r\n        grey = parseInt((1 - black / 100) * 255, 10);\r\n        if (grey > 255) {grey = 255;}\r\n        if (grey < 0) {grey = 0;}\r\n        r = grey;\r\n        g = grey;\r\n        b = grey;\r\n    }\r\n    return {\r\n        r : r,\r\n        g : g,\r\n        b : b\r\n    };\r\n}\r\nfunction colorObject(rgb, a, h, s) {\r\n    let hsl, hwb, cmyk, ncol, color, hue, sat;\r\n    if (!rgb) {return emptyObject();}\r\n    if (!a) {a = 1;}\r\n    hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hwb = rgbToHwb(rgb.r, rgb.g, rgb.b);\r\n    cmyk = rgbToCmyk(rgb.r, rgb.g, rgb.b);\r\n    hue = (h || hsl.h);\r\n    sat = (s || hsl.s);\r\n    ncol = hueToNcol(hue);\r\n    color = {\r\n        red : rgb.r,\r\n        green : rgb.g,\r\n        blue : rgb.b,\r\n        hue : hue,\r\n        sat : sat,\r\n        lightness : hsl.l,\r\n        whiteness : hwb.w,\r\n        blackness : hwb.b,\r\n        cyan : cmyk.c,\r\n        magenta : cmyk.m,\r\n        yellow : cmyk.y,\r\n        black : cmyk.k,\r\n        ncol : ncol,\r\n        opacity : a,\r\n        valid : true\r\n    };\r\n    color = roundDecimals(color);\r\n    return color;\r\n}\r\nfunction roundDecimals(c) {\r\n    c.red = Number(c.red.toFixed(0));\r\n    c.green = Number(c.green.toFixed(0));\r\n    c.blue = Number(c.blue.toFixed(0));\r\n    c.hue = Number(c.hue.toFixed(0));\r\n    c.sat = Number(c.sat.toFixed(2));\r\n    c.lightness = Number(c.lightness.toFixed(2));\r\n    c.whiteness = Number(c.whiteness.toFixed(2));\r\n    c.blackness = Number(c.blackness.toFixed(2));\r\n    c.cyan = Number(c.cyan.toFixed(2));\r\n    c.magenta = Number(c.magenta.toFixed(2));\r\n    c.yellow = Number(c.yellow.toFixed(2));\r\n    c.black = Number(c.black.toFixed(2));\r\n    c.ncol = c.ncol.substr(0, 1) + Math.round(Number(c.ncol.substr(1)));\r\n    c.opacity = Number(c.opacity.toFixed(2));\r\n    return c;\r\n}\r\nfunction hueToNcol(hue) {\r\n    while (hue >= 360) {\r\n        hue = hue - 360;\r\n    }\r\n    if (hue < 60) {return \"R\" + (hue / 0.6); }\r\n    if (hue < 120) {return \"Y\" + ((hue - 60) / 0.6); }\r\n    if (hue < 180) {return \"G\" + ((hue - 120) / 0.6); }\r\n    if (hue < 240) {return \"C\" + ((hue - 180) / 0.6); }\r\n    if (hue < 300) {return \"B\" + ((hue - 240) / 0.6); }\r\n    if (hue < 360) {return \"M\" + ((hue - 300) / 0.6); }\r\n}\r\nfunction rgbToHwb(r, g, b) {\r\n    let h, w, bl;\r\n    r = r / 255;\r\n    g = g / 255;\r\n    b = b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let chroma = max - min;\r\n    if (chroma === 0) {\r\n        h = 0;\r\n    } else if (r === max) {\r\n        h = (((g - b) / chroma) % 6) * 360;\r\n    } else if (g === max) {\r\n        h = ((((b - r) / chroma) + 2) % 6) * 360;\r\n    } else {\r\n        h = ((((r - g) / chroma) + 4) % 6) * 360;\r\n    }\r\n    w = min;\r\n    bl = 1 - max;\r\n    return {h : h, w : w, b : bl};\r\n}\r\nfunction rgbToCmyk(r, g, b) {\r\n    let c, m, y, k;\r\n    r = r / 255;\r\n    g = g / 255;\r\n    b = b / 255;\r\n    let max = Math.max(r, g, b);\r\n    k = 1 - max;\r\n    if (k === 1) {\r\n        c = 0;\r\n        m = 0;\r\n        y = 0;\r\n    } else {\r\n        c = (1 - r - k) / (1 - k);\r\n        m = (1 - g - k) / (1 - k);\r\n        y = (1 - b - k) / (1 - k);\r\n    }\r\n    return {c : c, m : m, y : y, k : k};\r\n}\r\nfunction emptyObject() {\r\n    return {\r\n        red : 0,\r\n        green : 0,\r\n        blue : 0,\r\n        hue : 0,\r\n        sat : 0,\r\n        lightness : 0,\r\n        whiteness : 0,\r\n        blackness : 0,\r\n        cyan : 0,\r\n        magenta : 0,\r\n        yellow : 0,\r\n        black : 0,\r\n        ncol : \"R\",\r\n        opacity : 1,\r\n        valid : false\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Converts HSL color to the RGB color.\r\n * @param hue\r\n * @param sat\r\n * @param light\r\n * @returns {{r: (number|*), g: (number|*), b: (number|*)}}\r\n */\r\nfunction hslToRgb(hue, sat, light) {\r\n    let t1, t2, r, g, b;\r\n    hue = hue / 60;\r\n    if ( light <= 0.5 ) {\r\n        t2 = light * (sat + 1);\r\n    } else {\r\n        t2 = light + sat - (light * sat);\r\n    }\r\n    t1 = light * 2 - t2;\r\n    r = hueToRgb(t1, t2, hue + 2) * 255;\r\n    g = hueToRgb(t1, t2, hue) * 255;\r\n    b = hueToRgb(t1, t2, hue - 2) * 255;\r\n    return {r : r, g : g, b : b};\r\n}\r\n\r\n\r\nfunction hueToRgb(t1, t2, hue) {\r\n    if (hue < 0) hue += 6;\r\n    if (hue >= 6) hue -= 6;\r\n    if (hue < 1) return (t2 - t1) * hue + t1;\r\n    else if(hue < 3) return t2;\r\n    else if(hue < 4) return (t2 - t1) * (4 - hue) + t1;\r\n    else return t1;\r\n}\r\n\r\n\r\n/**\r\n * Converts RGB to the HSL.\r\n * @param r\r\n * @param g\r\n * @param b\r\n * @returns {{h: (number), s: (number), l: (number)}}\r\n */\r\nfunction rgbToHsl(r, g, b) {\r\n    let min, max, i, l, s, maxColor, h, rgb = [];\r\n    rgb[0] = r / 255;\r\n    rgb[1] = g / 255;\r\n    rgb[2] = b / 255;\r\n    min = rgb[0];\r\n    max = rgb[0];\r\n    maxColor = 0;\r\n    for (i = 0; i < rgb.length - 1; i++) {\r\n        if (rgb[i + 1] <= min) {min = rgb[i + 1];}\r\n        if (rgb[i + 1] >= max) {max = rgb[i + 1];maxColor = i + 1;}\r\n    }\r\n    if (maxColor === 0) {\r\n        h = (rgb[1] - rgb[2]) / (max - min);\r\n    }\r\n    if (maxColor === 1) {\r\n        h = 2 + (rgb[2] - rgb[0]) / (max - min);\r\n    }\r\n    if (maxColor === 2) {\r\n        h = 4 + (rgb[0] - rgb[1]) / (max - min);\r\n    }\r\n    if (isNaN(h)) {h = 0;}\r\n    h = h * 60;\r\n    if (h < 0) {h = h + 360; }\r\n    l = (min + max) / 2;\r\n    if (min === max) {\r\n        s = 0;\r\n    } else {\r\n        if (l < 0.5) {\r\n            s = (max - min) / (max + min);\r\n        } else {\r\n            s = (max - min) / (2 - max - min);\r\n        }\r\n    }\r\n    return {h : h, s : s, l : l};\r\n}\r\n\r\n\r\n/**\r\n * Converts number in decimal to the number in hex.\r\n * @param n {number}\r\n * @returns {string}\r\n */\r\nfunction toHex(n) {\r\n    let hex = n.toString(16);\r\n    while (hex.length < 2) {hex = \"0\" + hex; }\r\n    return hex;\r\n}\r\n\r\n\r\n/**\r\n * Checks if given value is hex number.\r\n * @param x\r\n * @returns {boolean}\r\n */\r\nfunction isHex(x) {\r\n    return ('0123456789ABCDEFabcdef'.indexOf(x) > -1);\r\n}\r\n\r\n\r\n\r\nColor.prototype = {\r\n    toRgbString : function () {\r\n        return \"rgb(\" + this.red + \", \" + this.green + \", \" + this.blue + \")\";\r\n    },\r\n    toRgbaString : function (alpha) {\r\n        if(alpha === undefined) alpha = this.opacity;\r\n        return \"rgba(\" + this.red + \", \" + this.green + \", \" + this.blue + \", \" + alpha + \")\";\r\n    },\r\n    toHwbString : function () {\r\n        return \"hwb(\" + this.hue + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%)\";\r\n    },\r\n    toHwbStringDecimal : function () {\r\n        return \"hwb(\" + this.hue + \", \" + this.whiteness + \", \" + this.blackness + \")\";\r\n    },\r\n    toHwbaString : function () {\r\n        return \"hwba(\" + this.hue + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%, \" + this.opacity + \")\";\r\n    },\r\n    toHslString : function () {\r\n        return \"hsl(\" + this.hue + \", \" + Math.round(this.sat * 100) + \"%, \" + Math.round(this.lightness * 100) + \"%)\";\r\n    },\r\n    toHslStringDecimal : function () {\r\n        return \"hsl(\" + this.hue + \", \" + this.sat + \", \" + this.lightness + \")\";\r\n    },\r\n    toHslaString : function () {\r\n        return \"hsla(\" + this.hue + \", \" + Math.round(this.sat * 100) + \"%, \" + Math.round(this.lightness * 100) + \"%, \" + this.opacity + \")\";\r\n    },\r\n    toCmykString : function () {\r\n        return \"cmyk(\" + Math.round(this.cyan * 100) + \"%, \" + Math.round(this.magenta * 100) + \"%, \" + Math.round(this.yellow * 100) + \"%, \" + Math.round(this.black * 100) + \"%)\";\r\n    },\r\n    toCmykStringDecimal : function () {\r\n        return \"cmyk(\" + this.cyan + \", \" + this.magenta + \", \" + this.yellow + \", \" + this.black + \")\";\r\n    },\r\n    toNcolString : function () {\r\n        return this.ncol + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%\";\r\n    },\r\n    toNcolStringDecimal : function () {\r\n        return this.ncol + \", \" + this.whiteness + \", \" + this.blackness;\r\n    },\r\n    toNcolaString : function () {\r\n        return this.ncol + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%, \" + this.opacity;\r\n    },\r\n    toName : function () {\r\n        let r, g, b, colorhexs = getColorArr('hexs');\r\n        for (i = 0; i < colorhexs.length; i++) {\r\n            r = parseInt(colorhexs[i].substr(0,2), 16);\r\n            g = parseInt(colorhexs[i].substr(2,2), 16);\r\n            b = parseInt(colorhexs[i].substr(4,2), 16);\r\n            if (this.red === r && this.green === g && this.blue === b) {\r\n                return getColorArr('names')[i];\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    toHexString : function () {\r\n        let r = toHex(this.red);\r\n        let g = toHex(this.green);\r\n        let b = toHex(this.blue);\r\n        return \"#\" +  r + g + b;\r\n    },\r\n    toRgb : function () {\r\n        return {r : this.red, g : this.green, b : this.blue, a : this.opacity};\r\n    },\r\n    toHsl : function () {\r\n        return {h : this.hue, s : this.sat, l : this.lightness, a : this.opacity};\r\n    },\r\n    toHwb : function () {\r\n        return {h : this.hue, w : this.whiteness, b : this.blackness, a : this.opacity};\r\n    },\r\n    toCmyk : function () {\r\n        return {c : this.cyan, m : this.magenta, y : this.yellow, k : this.black, a : this.opacity};\r\n    },\r\n    toNcol : function () {\r\n        return {ncol : this.ncol, w : this.whiteness, b : this.blackness, a : this.opacity};\r\n    },\r\n    isDark : function (n) {\r\n        let m = (n || 128);\r\n        return (((this.red * 299 + this.green * 587 + this.blue * 114) / 1000) < m);\r\n    },\r\n    saturate : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.sat += x;\r\n        if (this.sat > 1) {this.sat = 1;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    desaturate : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.sat -= x;\r\n        if (this.sat < 0) {this.sat = 0;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    lighter : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.lightness += x;\r\n        if (this.lightness > 1) {this.lightness = 1;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    darker : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.lightness -= x;\r\n        if (this.lightness < 0) {this.lightness = 0;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    attachValues : function(color) {\r\n        this.red = color.red;\r\n        this.green = color.green;\r\n        this.blue = color.blue;\r\n        this.hue = color.hue;\r\n        this.sat = color.sat;\r\n        this.lightness = color.lightness;\r\n        this.whiteness = color.whiteness;\r\n        this.blackness = color.blackness;\r\n        this.cyan = color.cyan;\r\n        this.magenta = color.magenta;\r\n        this.yellow = color.yellow;\r\n        this.black = color.black;\r\n        this.ncol = color.ncol;\r\n        this.opacity = color.opacity;\r\n        this.valid = color.valid;\r\n    }\r\n};\r\n\r\nfunction getColorArr(x) {\r\n    if (x === \"names\") {return ['AliceBlue','AntiqueWhite','Aqua','Aquamarine','Azure','Beige','Bisque','Black','BlanchedAlmond','Blue','BlueViolet','Brown','BurlyWood','CadetBlue','Chartreuse','Chocolate','Coral','CornflowerBlue','Cornsilk','Crimson','Cyan','DarkBlue','DarkCyan','DarkGoldenRod','DarkGray','DarkGrey','DarkGreen','DarkKhaki','DarkMagenta','DarkOliveGreen','DarkOrange','DarkOrchid','DarkRed','DarkSalmon','DarkSeaGreen','DarkSlateBlue','DarkSlateGray','DarkSlateGrey','DarkTurquoise','DarkViolet','DeepPink','DeepSkyBlue','DimGray','DimGrey','DodgerBlue','FireBrick','FloralWhite','ForestGreen','Fuchsia','Gainsboro','GhostWhite','Gold','GoldenRod','Gray','Grey','Green','GreenYellow','HoneyDew','HotPink','IndianRed','Indigo','Ivory','Khaki','Lavender','LavenderBlush','LawnGreen','LemonChiffon','LightBlue','LightCoral','LightCyan','LightGoldenRodYellow','LightGray','LightGrey','LightGreen','LightPink','LightSalmon','LightSeaGreen','LightSkyBlue','LightSlateGray','LightSlateGrey','LightSteelBlue','LightYellow','Lime','LimeGreen','Linen','Magenta','Maroon','MediumAquaMarine','MediumBlue','MediumOrchid','MediumPurple','MediumSeaGreen','MediumSlateBlue','MediumSpringGreen','MediumTurquoise','MediumVioletRed','MidnightBlue','MintCream','MistyRose','Moccasin','NavajoWhite','Navy','OldLace','Olive','OliveDrab','Orange','OrangeRed','Orchid','PaleGoldenRod','PaleGreen','PaleTurquoise','PaleVioletRed','PapayaWhip','PeachPuff','Peru','Pink','Plum','PowderBlue','Purple','RebeccaPurple','Red','RosyBrown','RoyalBlue','SaddleBrown','Salmon','SandyBrown','SeaGreen','SeaShell','Sienna','Silver','SkyBlue','SlateBlue','SlateGray','SlateGrey','Snow','SpringGreen','SteelBlue','Tan','Teal','Thistle','Tomato','Turquoise','Violet','Wheat','White','WhiteSmoke','Yellow','YellowGreen']; }\r\n    if (x === \"hexs\") {return ['f0f8ff','faebd7','00ffff','7fffd4','f0ffff','f5f5dc','ffe4c4','000000','ffebcd','0000ff','8a2be2','a52a2a','deb887','5f9ea0','7fff00','d2691e','ff7f50','6495ed','fff8dc','dc143c','00ffff','00008b','008b8b','b8860b','a9a9a9','a9a9a9','006400','bdb76b','8b008b','556b2f','ff8c00','9932cc','8b0000','e9967a','8fbc8f','483d8b','2f4f4f','2f4f4f','00ced1','9400d3','ff1493','00bfff','696969','696969','1e90ff','b22222','fffaf0','228b22','ff00ff','dcdcdc','f8f8ff','ffd700','daa520','808080','808080','008000','adff2f','f0fff0','ff69b4','cd5c5c','4b0082','fffff0','f0e68c','e6e6fa','fff0f5','7cfc00','fffacd','add8e6','f08080','e0ffff','fafad2','d3d3d3','d3d3d3','90ee90','ffb6c1','ffa07a','20b2aa','87cefa','778899','778899','b0c4de','ffffe0','00ff00','32cd32','faf0e6','ff00ff','800000','66cdaa','0000cd','ba55d3','9370db','3cb371','7b68ee','00fa9a','48d1cc','c71585','191970','f5fffa','ffe4e1','ffe4b5','ffdead','000080','fdf5e6','808000','6b8e23','ffa500','ff4500','da70d6','eee8aa','98fb98','afeeee','db7093','ffefd5','ffdab9','cd853f','ffc0cb','dda0dd','b0e0e6','800080','663399','ff0000','bc8f8f','4169e1','8b4513','fa8072','f4a460','2e8b57','fff5ee','a0522d','c0c0c0','87ceeb','6a5acd','708090','708090','fffafa','00ff7f','4682b4','d2b48c','008080','d8bfd8','ff6347','40e0d0','ee82ee','f5deb3','ffffff','f5f5f5','ffff00','9acd32']; }\r\n}\r\n\r\nfunction colorTrim(x) {\r\n    return x.replace(/^\\s+|\\s+$/g, '');\r\n}","/**\r\n *          Geometry\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n */\r\n\r\nexport function XY(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.x = x === undefined ? 0 : x;\r\n\tthis.y = y === undefined ? 0 : y;\r\n}\r\n\r\nXY.prototype.add = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tx = x.x;\r\n\t}\r\n\tthis.x += x;\r\n\tthis.y += y;\r\n\treturn this;\r\n};\r\n\r\nXY.prototype.subtract = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tx = x.x;\r\n\t}\r\n\tthis.x -= x;\r\n\tthis.y -= y;\r\n\treturn this;\r\n};\r\n\r\nXY.prototype.multiply = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}else if(y === undefined){\r\n\t\ty = x;\r\n\t}\r\n\tthis.x *= x;\r\n\tthis.y *= y;\r\n\treturn this;\r\n};\r\n\r\n\r\nXY.prototype.divide = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}else if(y === undefined){\r\n\t\ty = x;\r\n\t}\r\n\tthis.x /= x;\r\n\tthis.y /= y;\r\n\treturn this;\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * Simple point coordinates.\r\n * @param x\r\n * @param y\r\n * @constructor\r\n */\r\nexport function Point(x, y)\r\n{\r\n\tXY.call(this, x, y);\r\n}\r\n\r\nPoint.prototype = Object.create(XY.prototype);\r\nPoint.prototype.constructor = Point;\r\nPoint.prototype.inRect = function(r){\r\n\t\treturn this.x >= r.x && this.x <= r.x + r.w && this.y >= r.y && this.y <= r.y + r.h;\r\n};\r\n\r\n\r\n/**\r\n * Rectangle.\r\n * @param x\r\n * @param y\r\n * @param w\r\n * @param h\r\n * @constructor\r\n */\r\nexport function Rect(x, y, w, h){\r\n\tPoint.call(this, x, y);\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('w')) w = x.w;\r\n\t\tif(x.hasOwnProperty('h')) h = x.h;\r\n\t}\r\n\r\n\tthis.w = w === undefined ? 0 : w;\r\n\tthis.h = h === undefined ? 0 : h;\r\n}\r\nRect.prototype = Object.create(Point.prototype);\r\nRect.prototype.constructor = Rect;\r\nRect.prototype.multiply = function(rect)\r\n{\r\n\tthis.x *= rect.x;\r\n\tthis.y *= rect.y;\r\n\tthis.w *= rect.w;\r\n\tthis.h *= rect.h;\r\n\treturn this;\r\n};\r\n\r\n/**\r\n * Fits Rect inside another Rect.\r\n * @param rect {Rect}\r\n */\r\nRect.prototype.fit = function(rect)\r\n{\r\n    let k1 = this.w/this.h;\r\n    let k2 = rect.w/rect.h;\r\n\tif(k1 >= k2){\r\n\t\tthis.h *= rect.w/this.w;\r\n\t\tthis.w = rect.w;\r\n\t}else{\r\n\t\tthis.w *= rect.h/this.h;\r\n\t\tthis.h = rect.h;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nRect.prototype.copyValuesFrom = function(rect)\r\n{\r\n\tthis.x = rect.x;\r\n\tthis.y = rect.y;\r\n\tthis.w = rect.w;\r\n\tthis.h = rect.h;\r\n};\r\n\r\n\r\n/**\r\n * Vector.\r\n * @param x\r\n * @param y\r\n * @constructor\r\n */\r\nexport function Vector(x, y)\r\n{\r\n\tPoint.call(this, x, y);\r\n}\r\nVector.prototype = Object.create(Point.prototype);\r\nVector.prototype.constructor = Vector;\r\nVector.prototype.normalize = function()\r\n{\r\n\tlet len = Math.sqrt((this.x * this.x) + (this.y * this.y));\r\n\tthis.x = x/len;\r\n\tthis.y = y/len;\r\n\treturn this;\r\n};","import StyleGetter from './style-getter';\r\nimport addEventsMethods from '../../utils/events-methods';\r\nimport Color from '../../utils/color';\r\nimport {warn, log} from '../../utils/logging';\r\nimport Settings from '../../core/settings';\r\nimport {extendObject} from '../../utils/object-utils';\r\nimport cssGenerator from '../../core/css-generator';\r\n\r\n/**\r\n * Themes\r\n *\r\n * Theme is a special object that encapsulates styles and\r\n * provides simple API to get/set properties, switching theme with\r\n * on-the-fly interface updating.\r\n */\r\n\r\n\r\n/**\r\n * Object that contains all registered themes.\r\n * All registered themes will be stored as values where keys are themes names.\r\n * @type {{string: Theme}}\r\n */\r\nlet themes = {};\r\nlet currentTheme = null;\r\n\r\n\r\n/**\r\n * Function that used in the UI definition\r\n * to retrieve style on CSS generating.\r\n * Returns StyleGetter for the given property name.\r\n *\r\n * Example of usage:\r\n *\r\n * style : {\r\n *     wrap : {\r\n *         backgroundColor: Theme('colors.primary')\r\n *     }\r\n * }\r\n *\r\n * In example above the backgroundProperty gets an instance\r\n * of the StyleGetter that indicates that when styles for\r\n * this UI will be generated the value must be fetched from the\r\n * theme dynamically.\r\n *\r\n * @param name\r\n * @returns {StyleGetter}\r\n */\r\nexport default function themesManager(name)\r\n{\r\n    return new StyleGetter(name);\r\n}\r\n\r\n\r\n/**\r\n * Add events support for the exported function.\r\n */\r\naddEventsMethods(themesManager);\r\n\r\n\r\n/**\r\n * Registers new theme.\r\n * Exported method.\r\n * Returns true if registration was successful or false if\r\n * theme with this name already exists.\r\n *\r\n * Example:\r\n *\r\n * Theme.register('Default', {\r\n *     colors : {\r\n *         primary : '#ff0000',\r\n *         secondary : '#366977'\r\n *     },\r\n *     // And so on...\r\n * });\r\n *\r\n * @param name {string}\r\n * @param {object} params\r\n * @param {boolean} [updateIfExists]\r\n * @return {boolean}\r\n */\r\nthemesManager.register = function(name, params, updateIfExists) {\r\n    updateIfExists = updateIfExists !== false;\r\n    if(!themes.hasOwnProperty(name)){\r\n        themes[name] = new Theme(name, params);\r\n        themesManager.triggerEvent('register', name);\r\n        return true;\r\n    }\r\n\r\n    if (updateIfExists) {\r\n        themes[name].updateStyles(params);\r\n        if (Settings.logging) {\r\n            log('Theme \"' + name + '\" has been updated.');\r\n        }\r\n        return true;\r\n    }\r\n\r\n    warn('Theme with name \"' + name + '\" is already registered.');\r\n    return false;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Switches to the theme with given name.\r\n * After theme switching all styles will be refreshed.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nthemesManager.switchTo = function(name)\r\n{\r\n    if(!themes.hasOwnProperty(name)){\r\n        warn('Theme can\\'t be switched because theme \"' + name + '\" is not registered.');\r\n        return false;\r\n    }\r\n    currentTheme = themes[name];\r\n\r\n    // Update styles.\r\n    let styles = document.getElementsByTagName('style');\r\n    for(let i = 0, len = styles.length; i < len; i++){\r\n        if(styles[i].hasOwnProperty('ui')){\r\n            let ui = styles[i].ui;\r\n            styles[i].innerHTML = cssGenerator.generateUIStyles(ui);\r\n        }\r\n    }\r\n\r\n    this.triggerEvent('switch');\r\n\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Returns a value for the given style.\r\n * The name can be set using dot-syntax for the nested items.\r\n * If requested property is absent - 'initial' will be returned.\r\n *\r\n * Example:\r\n * var color = Theme('buttons.danger.bgColor');\r\n *\r\n * @param {string} name\r\n * @return {string|number|null|Color}\r\n */\r\nthemesManager.getStyle = function(name)\r\n{\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return null;\r\n    }\r\n\r\n    // Get path and style name.\r\n    let path = name.split('.');\r\n    let style = path.pop();\r\n\r\n    // If no path specified - return theme's style.\r\n    if(path.length === 0){\r\n        return currentTheme.getStyle(style);\r\n    }\r\n\r\n    // Look for style in the nested components (themes).\r\n    let theme = currentTheme;\r\n\r\n    do{\r\n        let n = path.shift();\r\n        if(!theme.components.hasOwnProperty(n)){\r\n            if (Settings.devMode) {\r\n                warn('Style with name \"' + name + '\" is absent in the current theme \"' + currentTheme.name + '\".');\r\n            }\r\n            return null;\r\n        }\r\n        theme = theme.components[n];\r\n    }while(path.length > 0);\r\n\r\n    return theme.getStyle(style);\r\n};\r\n\r\n\r\n/**\r\n * Returns name of the currently selected theme.\r\n * Can returns null if theme is not selected yet.\r\n * @return {string|null}\r\n */\r\nthemesManager.getThemeName = function(){\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return null;\r\n    }\r\n    return currentTheme.name;\r\n};\r\n\r\n\r\n/**\r\n * Adds new theme section (nested theme).\r\n * Sections usage example: Theme('button.backgroundColor')\r\n */\r\nthemesManager.addSection = function(name, params)\r\n{\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return false;\r\n    }\r\n\r\n    if(currentTheme.components.hasOwnProperty(name)){\r\n        warn('Component \"' + name + '\" already exists in the theme \"' + currentTheme.name + '\".');\r\n        return false;\r\n    }\r\n\r\n    currentTheme.components[name] = new Theme(name, params);\r\n    return true;\r\n};\r\n\r\n\r\n\r\n/**\r\n * Theme constructor.\r\n * Not available outside the library.\r\n * @param name\r\n * @param params\r\n * @constructor\r\n */\r\nclass Theme\r\n{\r\n    constructor(name, params){\r\n        this.name = name;\r\n        this.styles = {};\r\n        this.components = {};\r\n\r\n        if(typeof params === 'object'){\r\n            for(let p in params){\r\n                if(params.hasOwnProperty(p)){\r\n                    if(typeof params[p] === 'object' && !(params[p] instanceof Color)){\r\n                        this.components[p] = new Theme(p, params[p]);\r\n                    }else{\r\n                        this.styles[p] = params[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getStyle(name) {\r\n        if(!this.styles.hasOwnProperty(name)){\r\n            warn('Style with name \"' + name + '\" is absent in the current theme \"' + themesManager.getThemeName() + '\".');\r\n            return null;\r\n        }\r\n        return this.styles[name];\r\n    }\r\n\r\n    updateStyles(newStyles) {\r\n\r\n        for(let p in newStyles){\r\n            if(newStyles.hasOwnProperty(p)){\r\n                if(typeof newStyles[p] === 'object' && !(newStyles[p] instanceof Color)){\r\n                    if (this.components.hasOwnProperty(p)) {\r\n                        this.components[p].updateStyles(newStyles[p]);\r\n                    } else {\r\n                        this.components[p] = new Theme(p, newStyles[p]);\r\n                    }\r\n                }else{\r\n                    this.styles[p] = newStyles[p];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","/**\r\n * Allows to library use CSRF token.\r\n * If CSRF token is set it will be sent via AJAX requests.\r\n */\r\n\r\nexport let csrfParam = 'csrf';\r\nexport let csrfToken = null;\r\n\r\n\r\n/**\r\n * Token can be set as single string or as an object.\r\n * In case if token set as string it will be assigned into the \r\n * [csrfToken] variable, that is private inside wrapping function (IIFE).\r\n * If token is presented as an object then the name of the first property \r\n * will be used as token parameter name and the value as the token.\r\n * Token parameter name is used on sending CSRF token to the server using \r\n * AJAX queries for example.\r\n */\r\nexport function setCsrfToken(token){\r\n\tif(csrfToken === null){\r\n\t\tif(typeof token === 'object'){\r\n\t\t\tcsrfParam = Object.keys(token)[0];\r\n\t\t\tcsrfToken = token[csrfParam];\r\n\t\t}else if(typeof token === 'string'){\r\n\t\t\tcsrfToken = token;\r\n\t\t}\r\n\t}\r\n}","/**\r\n * List of the registered refiners.\r\n * Each refiner accepts one argument - url (string)\r\n * and returns another url (string) after some manipulations (adding language for example).\r\n * All refiners will be called one by one passing the result of previous as argument to the next one.\r\n * @type {{}}\r\n */\r\nlet urlRefiners = {};\r\n\r\n/**\r\n * List of registered parsers.\r\n * Each parser accepts 2 arguments:\r\n * - url {string} Urt to be parsed.\r\n * - params {object} Object in which url parameters can be added.\r\n * @type {{}}\r\n */\r\nlet urlParsers = {};\r\n\r\n\r\n/**\r\n * IMPORTANT!!!\r\n * All methods of the Url will be removed to the Route.\r\n * Don't use global Url object any more.\r\n *\r\n * Url is a function that creates url depending on the given route.\r\n * In other words it refines given url by adding/changing some parts of it.\r\n * The manipulations with url will be done by the functions from 'urlRefiners' object.\r\n * It can be changed using URL.setRefiner(function(){...});\r\n * @param {string} route\r\n * @param {object} [params]\r\n * @return string\r\n * @private\r\n * @deprecated\r\n */\r\nexport default function Url(route, params){\r\n    for(let p in urlRefiners){\r\n        route = urlRefiners[p](route, params);\r\n    }\r\n    return route;\r\n};\r\n\r\n\r\n/**\r\n * Registers refiner with the given name.\r\n * @param name {string}\r\n * @param refiner {function}\r\n */\r\nUrl.setRefiner = function(name, refiner){\r\n    if(typeof refiner === 'function'){\r\n        urlRefiners[name] = refiner;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Registers parser with the given name.\r\n * @param name {string}\r\n * @param parser {function}\r\n */\r\nUrl.setParser = function(name, parser){\r\n    if(typeof parser === 'function'){\r\n        urlParsers[name] = parser;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Parses url into route and parameters.\r\n * @param {string} url\r\n * @returns {{route: *, params: *}}\r\n */\r\nUrl.parse = function(url)\r\n{\r\n    let matches = url.match(/\\?(&?[\\w\\d-_%]+=[\\w\\d-_%]*)+/gi);\r\n\r\n    let query = matches !== null && matches.length > 0 ? matches[0] : '';\r\n    url = url.replace(query, '').replace(window.location.origin, '');\r\n    if(query[0] === '?') query = query.slice(1);\r\n\r\n    let params = {};\r\n    let queryParameters = query.split('&');\r\n    for(let i = 0; i < queryParameters.length; i++){\r\n        let v = queryParameters[i].split('=');\r\n        if(v.length > 1){\r\n            params[v[0]] = v[1];\r\n        }\r\n    }\r\n\r\n    for(let p in urlParsers){\r\n        let res = urlParsers[p](url, params);\r\n        url = res.url;\r\n        params = res.params;\r\n    }\r\n    return {route : url, params : params};\r\n};\r\n\r\n","/**\r\n * Class URL represents single url.\r\n * Creates objects with next structure:\r\n * {\r\n *     url: '/some/path?name=someName',\r\n *     path: '/some/path',\r\n *     params: {name: 'someName'}\r\n * ]\r\n * @param url\r\n * @constructor\r\n */\r\nexport default function URL (url) {\r\n    if (typeof url === 'string') {\r\n        this.url = url;\r\n        this.params = {};\r\n\r\n        let arr = url.split('?');\r\n        this.path = arr[0];\r\n\r\n        if (arr.length > 1) {\r\n            let paramsArr = arr[1].split('&');\r\n            for (let i = 0; i < paramsArr.length; i++) {\r\n                let pArr = paramsArr[i].split('=');\r\n                this.params[pArr[0]] = pArr.length > 1 ? decodeURIComponent(pArr[1]) : '';\r\n            }\r\n        }\r\n\r\n    } else if (url instanceof URL) {\r\n        this.url = url.url;\r\n        this.path = url.path;\r\n        this.params = {};\r\n        for (let p in url.params) {\r\n            if (url.params.hasOwnProperty(p)) {\r\n                this.params[p] = url.params[p];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nURL.prototype.gatherParams = function (element) {\r\n    let el = $(element);\r\n    if (el.length === 0) return this;\r\n\r\n    let url = this;\r\n\r\n    // Handle inputs.\r\n    el.find('input').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    // Handle selects.\r\n    el.find('select').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    // Handle textareas.\r\n    el.find('textarea').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Composes URL to the url string.\r\n */\r\nURL.prototype.toString = function () {\r\n    let queryArr = [];\r\n    for (let p in this.params) {\r\n        if (this.params.hasOwnProperty(p)) {\r\n            queryArr.push(encodeURIComponent(p) + '=' + encodeURIComponent(this.params[p]));\r\n        }\r\n    }\r\n    return this.path + (queryArr.length === 0 ? '' : '?' + queryArr.join('&'));\r\n};\r\n\r\n\r\nURL.prototype.removeParams = function (params) {\r\n    for (let i = 0; i < arguments.length; i++) {\r\n        delete this.params[arguments[i]];\r\n    }\r\n};","import addEventsMethods from '../utils/events-methods';\r\nimport {warn} from '../utils/logging';\r\nimport Url from './url';\r\n\r\n/**\r\n * List of the available routes.\r\n * @type {{}}\r\n */\r\nlet routes = {};\r\n\r\n/**\r\n * Link to the current route.\r\n * @type {Route|null}\r\n */\r\nlet curRoute = null;\r\n\r\nlet curRouteParams = null;\r\n\r\n/**\r\n * Link to the previous route.\r\n * @type {Route|null}\r\n */\r\nlet prevRoute = null;\r\n\r\n\r\n\r\n\r\n/**\r\n * Returns route by name.\r\n *\r\n * Also provides few global events:\r\n *\r\n * @event apply\r\n * The handlers accept 2 arguments: 'params' (object) and 'event' (UIEvent)\r\n * If event is canceled - the applying will be terminated.\r\n * Occurred just before route will be applied.\r\n *\r\n * @event leave\r\n * The handlers accept 3 arguments:\r\n * 'oldRoute' (string), 'newRoute' (string) and 'event' (UIEvent)\r\n * Occurred just after route has been applied.\r\n *\r\n * @return {Route|null}\r\n */\r\nexport default function RouteManager(route){\r\n    route = route.replace('\\\\', '/');\r\n    let r = null;\r\n    if(!routes.hasOwnProperty(route)){\r\n        let arr = route.split('/'),\r\n            placeholders = [],\r\n            cutRoute,\r\n            i, p;\r\n\r\n        // Check routes with ? from the start.\r\n        for(i = 1; i <= arr.length - 1; i++){\r\n            placeholders.push('?');\r\n            p = placeholders.join('/');\r\n            cutRoute = arr.slice(i).join('/');\r\n            if(routes.hasOwnProperty(p + '/' + cutRoute)){\r\n                r = routes[p + '/' + cutRoute];\r\n                break;\r\n            }\r\n            if(routes.hasOwnProperty('??/' + cutRoute)){\r\n                r = routes['??/' + cutRoute];\r\n                break;\r\n            }\r\n        }\r\n\r\n        placeholders = [];\r\n        // Check routes with ? from the end.\r\n        for(i = arr.length - 1; i >= 1; i--){\r\n            placeholders.push('?');\r\n            p = placeholders.join('/');\r\n            cutRoute = arr.slice(i).join('/');\r\n            if(routes.hasOwnProperty(cutRoute + '/' + p)){\r\n                r = routes[cutRoute + '/' + p];\r\n                break;\r\n            }\r\n            if(routes.hasOwnProperty(cutRoute + '/??')){\r\n                r = routes[cutRoute + '/??'];\r\n                break;\r\n            }\r\n        }\r\n\r\n    }else{\r\n        r = routes[route];\r\n    }\r\n    return r;\r\n};\r\n\r\n// Add global routing events support.\r\naddEventsMethods(RouteManager);\r\n\r\n\r\n\r\n/**\r\n * Registers new route.\r\n * @param route\r\n * @returns {*}\r\n */\r\nRouteManager.register = function(route){\r\n    routes[route] = new Route(route);\r\n    return routes[route];\r\n};\r\n\r\n/**\r\n * Simply returns current route.\r\n * @returns {Route|null}\r\n */\r\nRouteManager.current = function(){\r\n    return curRoute.clone();\r\n};\r\n\r\n/**\r\n * Simply returns current route.\r\n * @returns {Route|null}\r\n */\r\nRouteManager.previous = function(){\r\n    return prevRoute;\r\n};\r\n\r\nRouteManager.currentParams = function () {\r\n    return curRouteParams;\r\n};\r\n\r\n\r\n/**\r\n * Applies route with given name if exists.\r\n * Route can contain variable and placeholders.\r\n *\r\n * Examples:\r\n *  ?/company              - Any route that contains two elements where first is any and second is \"company\".\r\n *  companies/company/{id} - {id} will be replaced with \"id\" parameter.\r\n *  ??/settings            - Any route but ending with \"settings\".\r\n *\r\n * Usage:\r\n *  Route.apply('?/article/{id}', {\r\n *       id: 5\r\n *  });\r\n *\r\n * @param url {string}\r\n * @param params {object}\r\n * @return {boolean}\r\n */\r\nRouteManager.apply = function(url, params)\r\n{\r\n    let urlData = Url.parse(url);\r\n    url = urlData.route;\r\n    let newParams = urlData.params;\r\n    for(let p in newParams){\r\n        if (newParams.hasOwnProperty(p)) {\r\n            params[p] = newParams[p];\r\n        }\r\n    }\r\n\r\n    // Process Url variables.\r\n    for(let p in params){\r\n        if( url.indexOf('{' + p + '}') >= 0){\r\n            url.replace('{' + p + '}', encodeURIComponent(params[p]));\r\n            delete params[p];\r\n        }\r\n    }\r\n\r\n    let route = RouteManager(url);\r\n    if(route !== null){\r\n        route.apply(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n\r\nRouteManager.applyChain = function(url)\r\n{\r\n    if (url.length > 0 && url[0] === '/') {\r\n        url = url.slice(1);\r\n    }\r\n    let urlData = Url.parse(url),\r\n        arr = urlData.route.split('/'),\r\n        params = urlData.params,\r\n        route;\r\n\r\n    for(let i = 0; i < arr.length; i++){\r\n        route = RouteManager(arr.slice(0, i+1).join('/'));\r\n        if(route === null){\r\n            warn('Routes chain broken: route \"' + arr.slice(0, i).join('/') + '\" is absent.');\r\n            return;\r\n        }else{\r\n            route.apply(params);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Route that provides events for implementing routing logic.\r\n * @param route\r\n * @constructor\r\n */\r\nfunction Route(route) {\r\n    this.route = route;\r\n    this.params = {};\r\n\r\n    this.__ = {\r\n        events: {},\r\n        dispatchers: {}\r\n    };\r\n}\r\n\r\nRoute.prototype = {\r\n    constructor : Route,\r\n\r\n    clone: function () {\r\n        let route = new Route(this.route);\r\n        route.params = this.params;\r\n        route.__ = this.__;\r\n        return route;\r\n    },\r\n\r\n    /**\r\n     * Applies route with given parameters.\r\n     * Returns true if 'apply' event was triggered on the route.\r\n     * If 'apply' event was canceled globally - false will be returned.\r\n     * @return {boolean}\r\n     */\r\n    apply : function(params){\r\n        if(params === undefined || params === null){\r\n            params = this.params;\r\n        }\r\n        this.params = params;\r\n\r\n        // Trigger 'apply' event.\r\n        let event = new Event('apply', {cancelable: true});\r\n\r\n        if(params === undefined) params = {};\r\n\r\n        // Trigger globally and if user calls preventDefault()\r\n        // method - stop execution.\r\n        RouteManager.triggerEvent('apply', this.route, params, event);\r\n        if(event.defaultPrevented) return false;\r\n\r\n        // Trigger apply event on the route.\r\n        this.triggerEvent('apply', params, event);\r\n        if(event.defaultPrevented) return false;\r\n\r\n\r\n\r\n        let curUrlData = Url.parse(window.location.pathname);\r\n        let curUrlArray = curUrlData.route.split('/');\r\n        if(curUrlArray.length > 1 && curUrlArray[0] === '') curUrlArray.shift();\r\n\r\n        let routeArray = this.route.split('/');\r\n        for(let i = 0; i < routeArray.length; i++){\r\n            if(curUrlArray.length > i){\r\n                if(routeArray[i] === '??'){\r\n                    routeArray[i] = curUrlArray.slice(0, i+1).join('/');\r\n                }else if(routeArray[i] === '?'){\r\n                    routeArray[i] = curUrlArray[i];\r\n                }\r\n            }\r\n        }\r\n\r\n        history.pushState(params, '', Url('/' + routeArray.join('/'), params).replace('//', ''));\r\n\r\n        // Store old route.\r\n        prevRoute = curRoute;\r\n\r\n        // Set new current route.\r\n        curRoute = this;\r\n        curRouteParams = params;\r\n\r\n        // Trigger globally and if user calls preventDefault()\r\n        // method - stop execution.\r\n        if(prevRoute instanceof Route){\r\n            // Trigger 'leave' event.\r\n            event = new Event('leave', {cancelable: true});\r\n\r\n            RouteManager.triggerEvent('leave', prevRoute.route, curRoute.route, event);\r\n            if(event.defaultPrevented) return true;\r\n\r\n            prevRoute.triggerEvent('leave', prevRoute.route, curRoute.route, event);\r\n        }\r\n        return true;\r\n    },\r\n\r\n    runParentRoute : function(params){\r\n        let arr = this.route.split('/');\r\n        if(arr.length < 2){\r\n            return false;\r\n        }\r\n        arr.pop();\r\n        let parentRoute = arr.join('/');\r\n        let route = RouteManager(parentRoute);\r\n\r\n        if(route !== null){\r\n            let event = new Event('apply', {cancelable: true});\r\n            route.triggerEvent('apply', params, event);\r\n            if (!event.defaultPrevented) {\r\n                route.apply();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    revert: function () {\r\n\r\n    }\r\n};\r\n\r\n// Add events support for the Route.\r\naddEventsMethods(Route.prototype);\r\n\r\n// Create default route.\r\ncurRoute = RouteManager.register('/');","import addEventsMethods from '../utils/events-methods';\r\nimport {warn} from '../utils/logging';\r\n\r\n/**\r\n * @var {string} Current application language.\r\n */\r\nlet language = 'en';\r\n\r\n\r\n/**\r\n * Sets interface language.\r\n * @param {string} lang\r\n */\r\nL10n.setLanguage = function(lang) {\r\n    switchLanguageTo(lang);\r\n};\r\n\r\n\r\nL10n.switchLanguageTo = L10n.setLanguage;\r\n\r\n/**\r\n * Returns interface language.\r\n * @return {string}\r\n */\r\nL10n.getLanguage = function() {\r\n    return language;\r\n};\r\n\r\n\r\n/**\r\n * Changes application language to the given one.\r\n * Switches only language.\r\n * @param lang\r\n */\r\nfunction switchLanguageTo(lang) {\r\n    language = lang;\r\n    if(translations.hasOwnProperty(lang)){\r\n        curTranslation = translations[lang];\r\n    }else{\r\n        curTranslation = translations.en;\r\n    }\r\n\r\n    // TODO langChange event was fired on the global UI object. Make sure that you not use this event or replace it.\r\n\r\n    // Trigger 'langChange' event on the global UI object.\r\n    // Any instance or element can listen for this event to update it's translations.\r\n    L10n.triggerEvent('langChange', lang);\r\n}\r\n\r\n/**\r\n * Private variable that encapsulates translations.\r\n * @type {object}\r\n */\r\nlet translations = {\r\n    en : {},\r\n    ru : {},\r\n    es : {},\r\n    de : {},\r\n    pt : {},\r\n    br : {},\r\n    it : {},\r\n    fr : {},\r\n    jp : {},\r\n    ko : {},\r\n    zh : {},\r\n    ua : {}\r\n};\r\n\r\n\r\n/**\r\n * Cache for translators.\r\n * @type {{CategoryTranslator}}\r\n */\r\nlet translators = {\r\n    en : {},\r\n    ru : {},\r\n    es : {},\r\n    de : {},\r\n    pt : {},\r\n    br : {},\r\n    it : {},\r\n    fr : {},\r\n    jp : {},\r\n    ko : {},\r\n    zh : {},\r\n    ua:  {}\r\n};\r\n\r\n/**\r\n * Current translations.\r\n * @type {object}\r\n */\r\nlet curTranslation = translations.en;\r\n\r\n\r\n/**\r\n * Function-object-helper that encapsulates all localization functionality.\r\n * Also used for translation messages from any category without getting translator.\r\n * @param message\r\n * @param [category]\r\n * @param [params]\r\n * @returns {string}\r\n */\r\nexport default function L10n(message, category, params)\r\n{\r\n    return translate(curTranslation, message, category, params);\r\n}\r\n\r\n// Add events support for the localization object.\r\naddEventsMethods(L10n);\r\n\r\n\r\n/**\r\n * Returns translation of the given message.\r\n * @param {object} t\r\n * @param {string} message\r\n * @param {string} [category]\r\n * @param {object} [params]\r\n * @returns {string}\r\n */\r\nfunction translate(t, message, category, params)\r\n{\r\n    if(params === undefined && typeof category === 'object'){\r\n        params = category;\r\n    }\r\n\r\n    // Find translation.\r\n    if(t.hasOwnProperty(category) && t[category].hasOwnProperty(message)){\r\n        message = t[category][message];\r\n    }else{\r\n        // If translations absent - try to load it.\r\n        L10n.loadTranslations(category);\r\n    }\r\n\r\n    // Replace placeholders like {name} with their value.\r\n    for(let p in params){\r\n        if(params.hasOwnProperty(p)){\r\n            message = message.replace('{' + p + '}', params[p]);\r\n        }\r\n    }\r\n\r\n    return message;\r\n}\r\n\r\n/**\r\n * Saves loaded translations.\r\n * @param category\r\n * @param data\r\n */\r\nL10n.addTranslation = function(category, data)\r\n{\r\n    if( ! translations.hasOwnProperty(category) && typeof data === 'object'){\r\n        for(let lang in translations){\r\n            if(data.hasOwnProperty(lang)){\r\n                translations[lang][category] = data[lang];\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Function that will loads translations.\r\n * Can be replaced with user-defined one.\r\n * @type {function|null}\r\n */\r\nlet translationsLoader = defaultTranslationsLoader;\r\n\r\n/**\r\n * Path with localization files.\r\n * @type {string}\r\n */\r\nlet localizationsPath = '/localizations';\r\n\r\n/**\r\n * Sets path with localization files.\r\n * @param path {string}\r\n */\r\nL10n.setLocalizationsPath = function(path) {\r\n    localizationsPath = path;\r\n};\r\n\r\n/**\r\n * Returns path of the localizations that was specified by setLocalizationsPath() method.\r\n * @return {string}\r\n */\r\nL10n.getLocalizationsPath = function() {\r\n    return localizationsPath;\r\n};\r\n\r\n/**\r\n * Default localization loader.\r\n * @param category\r\n * @param callback\r\n */\r\nfunction defaultTranslationsLoader(category, callback) {\r\n    let ajax = new DataAjax({\r\n        url: (localizationsPath + '/' + category + '.json').replace('//', '/'),\r\n        method: 'GET'\r\n    });\r\n    ajax.fetch(function(data){\r\n        L10n.addTranslation(category, data);\r\n        L10n.triggerEvent('translations', category);\r\n        if(typeof callback === 'function'){\r\n            callback();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Object that holds information about currently loading translations.\r\n * @type {{}}\r\n */\r\nlet currentlyLoading = {};\r\n\r\n/**\r\n * Functions that will be called after corresponding translations will be loaded.\r\n * @type {{}}\r\n */\r\nlet translationsLoadingCallbacks = {};\r\n\r\n/**\r\n * Listen for category complete loading and run corresponding callbacks.\r\n * @see translationsLoadingCallbacks\r\n */\r\nL10n.on('categoryLoaded', function(t, cat) {\r\n    if(translationsLoadingCallbacks.hasOwnProperty(cat)){\r\n        let callbacks = translationsLoadingCallbacks[cat];\r\n        for(let i = 0; i < callbacks.length; i++){\r\n            if(typeof callbacks[i] === 'function') callbacks[i](t);\r\n        }\r\n    }\r\n    delete translationsLoadingCallbacks[cat];\r\n});\r\n\r\n/**\r\n * Loads translation of the given category using\r\n * registered translation loader.\r\n * @param category\r\n * @param [callback]\r\n * @returns {boolean}\r\n */\r\nL10n.loadTranslations = function(category, callback)\r\n{\r\n    // Remove leading slash.\r\n    category = category.replace('\\\\', '/');\r\n    if(category[0] === '/'){\r\n        category = category.slice(1);\r\n    }\r\n\r\n    // If category is loading at the moment - add callback to the handlers queue.\r\n    // Pay attention that we skip checking for callback existence because this situation\r\n    // probably will not be occurred.\r\n    if(currentlyLoading[category] === true){\r\n        if(!translationsLoadingCallbacks.hasOwnProperty(category)){\r\n            translationsLoadingCallbacks[category] = [];\r\n        }\r\n        if (typeof callback === 'function') {\r\n            translationsLoadingCallbacks[category].push(callback);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // If loader is not specified yet - return false and log warning.\r\n    if(translationsLoader === null){\r\n        warn('Translations loader is not specified.');\r\n        return false;\r\n    }\r\n\r\n    // If translations already loaded - return.\r\n    if (curTranslation.hasOwnProperty(category)) {\r\n        if(typeof callback === 'function'){\r\n            let t = L10n.getTranslations(category);\r\n            callback(t);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Mark that category is loading yet.\r\n    currentlyLoading[category] = true;\r\n\r\n    // Disable flag after 10 seconds to allow script to retry.\r\n    let to = setTimeout(function() {\r\n        delete currentlyLoading[category];\r\n    }, 10000);\r\n\r\n    // Runt translations loader.\r\n    translationsLoader(category, function(){\r\n        delete currentlyLoading[category];\r\n        clearTimeout(to);\r\n        let t = L10n.getTranslations(category);\r\n\r\n        if (translationsLoadingCallbacks.hasOwnProperty(category) && Array.isArray(translationsLoadingCallbacks[category])) {\r\n            for (let i = 0; i < translationsLoadingCallbacks[category].length; i++) {\r\n                translationsLoadingCallbacks[category][i](t);\r\n            }\r\n            delete translationsLoadingCallbacks[category];\r\n        }\r\n\r\n        L10n.triggerEvent('categoryLoaded', t, category);\r\n        if(typeof callback === 'function') {\r\n            callback(t);\r\n        }\r\n    });\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Registers translation loader if it was not registered yet.\r\n * @param {function} loader\r\n */\r\nL10n.registerTranslationsLoader = function(loader)\r\n{\r\n    if(typeof loader === 'function' && (translationsLoader === null || translationsLoader === defaultTranslationsLoader)){\r\n        translationsLoader = loader;\r\n    }\r\n};\r\n\r\n/**\r\n * Returns translator for the given category.\r\n *\r\n * Example of usage:\r\n *\r\n * var t = L10n.getTranslations('common');\r\n * button.innerText = t('Save');\r\n * alert.innerText = t('Do you really want to delete user {name}?', {name: 'John Doe'});\r\n *\r\n * @param category\r\n * @returns {CategoryTranslator}\r\n */\r\nL10n.getTranslations = function(category) {\r\n    if (!translators.hasOwnProperty(language)) {\r\n        translators[language] = {};\r\n    }\r\n    if(translators[language].hasOwnProperty(category)){\r\n        return translators[language][category];\r\n    }\r\n    let t = curTranslation;\r\n\r\n    if(t.hasOwnProperty(category)){\r\n        t = t[category];\r\n    }\r\n\r\n    function CategoryTranslator(message, params)\r\n    {\r\n        if(t.hasOwnProperty(message)){\r\n            message = t[message];\r\n        }\r\n        // Replace placeholders like {name} with their value.\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                message = message.replace('{' + p + '}', params[p]);\r\n            }\r\n        }\r\n        return message;\r\n    }\r\n\r\n    CategoryTranslator.getAll = function() {\r\n        return t;\r\n    };\r\n\r\n    if(t !== curTranslation){\r\n        translators[language][category] = CategoryTranslator;\r\n    }\r\n\r\n    return CategoryTranslator;\r\n};\r\n\r\n\r\n/**\r\n * Updates translations for all interface.\r\n */\r\nfunction updateTranslations()\r\n{\r\n    let items = document.querySelectorAll('*[localization]');\r\n    for(let i = 0; i < items.length; i++){\r\n        if(items[i].T !== undefined) {\r\n            let cat = items[i].getAttribute('localization');\r\n            let t = L10n.getTranslations(cat);\r\n            if(items[i].tagName === 'INPUT'){\r\n                items[i].setAttribute('placeholder', t(items[i].T));\r\n            }else{\r\n                items[i].innerText = t(items[i].T);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Updates translations for the interface with specific localization category.\r\n * @param category {string}\r\n */\r\nfunction updateTranslationsByCategory(category)\r\n{\r\n    let t = L10n.getTranslations(category);\r\n    let items = document.querySelectorAll('*[localization=\"' + category + '\"]');\r\n    for(let i = 0; i < items.length; i++){\r\n        if(items[i].T !== undefined) {\r\n            if(items[i].tagName === 'INPUT'){\r\n                items[i].setAttribute('placeholder', t(items[i].T));\r\n            }else{\r\n                items[i].innerText = t(items[i].T);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nL10n.on('langChange', updateTranslations);\r\nL10n.on('translations', updateTranslationsByCategory);","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n * Simple object helper that manages global events.\r\n * Usage:\r\n *\r\n *  // Add first listener.\r\n *  GlobalEvents.listen('ws:incomingMessage').onPort(500, message => {\r\n *      // Do something with message...\r\n *  });\r\n *\r\n *  // Add another event listener.\r\n *  GlobalEvents.listen('ws:incomingMessage -> 501', message => {\r\n *      // Do something with message...\r\n *  });\r\n *\r\n *  // Then trigger this event.\r\n *  GlobalEvents.triggerEvent('ws:incomingMessage', {\r\n *      author: 'Roman',\r\n *      text: 'Hello world!'\r\n *  });\r\n *\r\n *  GlobalEvents will be deleted in the next versions.\r\n *  Please use EventsChannel instead.\r\n *\r\n * @returns {string}\r\n * @deprecated\r\n * @see {EventsChannel}\r\n */\r\nexport default function GlobalEvents()\r\n{\r\n    return '1.0.0';\r\n}\r\n\r\n\r\naddEventsMethods(GlobalEvents);","import Data from '../core/data';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport {warn, error} from '../utils/logging';\r\nimport {csrfParam, csrfToken} from '../modules/CSRF';\r\n\r\nexport default class Ajax extends Data\r\n{\r\n    constructor(params) {\r\n        super(params);\r\n        this.useCsrf = params.hasOwnProperty('useCsrf') ? params.useCsrf : true;\r\n        this.url = params.hasOwnProperty('url') ? params.url : '';\r\n        this.method = params.method || 'POST';\r\n        this.collector = ajaxCollector;\r\n        this.headers = params.headers || {'X-Requested-With': 'XMLHttpRequest'};\r\n        this.hasError = false;\r\n    }\r\n\r\n    triggerErrorEvents(statusCode) {\r\n        this.hasError = true;\r\n        let event = new Event('error', {cancelable: true});\r\n        this.triggerEvent('error', statusCode, event);\r\n        Ajax.triggerEvent('error', this, statusCode, event);\r\n        return event;\r\n    }\r\n\r\n\r\n    triggerRedirectionEvents(statusCode, newUrl) {\r\n        let event = new Event('redirect', {cancelable: true});\r\n        this.triggerEvent('redirect', statusCode, newUrl, event);\r\n        Ajax.triggerEvent('redirect', this, statusCode, newUrl, event);\r\n        return event;\r\n    }\r\n}\r\n\r\n// Add events to the Ajax object globally.\r\naddEventsMethods(Ajax);\r\n\r\n\r\n/**\r\n * Object that stores permanent redirections (301 and 308 status codes).\r\n * @type {{}}\r\n */\r\nlet permanentRedirections = {};\r\n\r\n\r\n/**\r\n * Data collector that used in the Ajax.\r\n * The AJAX request will be used to fetch data.\r\n * UIData object to which this collector is attached must have\r\n * next properties:\r\n * - url (URL address of the resources)\r\n * - method (POST or GET)\r\n *\r\n * @param {function} callback\r\n * @see UIDataAjax\r\n */\r\nfunction ajaxCollector(callback) {\r\n    if (typeof this.url !== 'string') {\r\n        this.triggerEvent('error');\r\n        error('URL for the ajaxCollector is not a string (' + typeof this.url + ' given).');\r\n        return false;\r\n    }\r\n\r\n    // If requested resource was permanently moved - use redirection url instead.\r\n    let url = permanentRedirections.hasOwnProperty(this.url) ? permanentRedirections[this.url] : this.url;\r\n\r\n    // Store link for the Data object for using via closure.\r\n    let _uidata = this;\r\n\r\n    // Create request object.\r\n    let xhttp = new XMLHttpRequest();\r\n\r\n\r\n    // Track progress.\r\n    xhttp.onprogress = e => {\r\n        if (e.lengthComputable) {\r\n            this.triggerEvent('progress', Math.ceil(e.loaded / e.total * 100));\r\n        }\r\n    };\r\n\r\n    // Handle status.\r\n    xhttp.onreadystatechange = function (e) {\r\n        if (this.readyState !== 4) return;\r\n\r\n\r\n        if([302, 303, 307].indexOf(this.status) >= 0) {\r\n            let newUrl = this.getResponseHeader('Location');\r\n\r\n            /**\r\n             * Handle permanent redirections.\r\n             * @see [https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections#Permanent_redirections]\r\n             */\r\n            if (this.status === 301 || this.status === 308) {\r\n                // If invalid \"Location\" header given - fire error event.\r\n                if (newUrl === '' || newUrl === null) {\r\n                    error('Invalid redirection url for \"' + _uidata.url + '\" (empty \"Location\" header).');\r\n                    _uidata.triggerErrorEvents(this.status);\r\n                }\r\n            }\r\n\r\n\r\n            // Store redirection rule for the initial URL to make redirection automatically in the future.\r\n            permanentRedirections[_uidata.url] = newUrl;\r\n            let event = _uidata.triggerRedirectionEvents(this.status, newUrl);\r\n            if (event.defaultPrevented) {\r\n                e.preventDefault();\r\n            }\r\n\r\n\r\n        // Process success status.\r\n        }else if (this.status === 200) {\r\n\r\n            /** Make redirection if X-Redirect header is specified.\r\n             *\r\n             */\r\n            try{\r\n                let redirectionUrl = this.getResponseHeader('X-Redirect');\r\n\r\n                if (redirectionUrl !== null) {\r\n                    let event = _uidata.triggerRedirectionEvents(this.status, redirectionUrl);\r\n                    if (!event.defaultPrevented) {\r\n                        window.location.replace(redirectionUrl);\r\n                    }\r\n                }\r\n            }catch(e){\r\n                // warn('X-Redirect header is not allowed here.');\r\n            }\r\n\r\n\r\n            // Get data depending on content-type header.\r\n            let data;\r\n            let contentType = this.getResponseHeader(\"content-type\");\r\n            if (typeof contentType === 'string' && contentType.indexOf('json') >= 0) {\r\n                data = JSON.parse(this.responseText);\r\n            } else {\r\n                data = this.responseText;\r\n            }\r\n            _uidata.cache = _uidata.cacheLifetime === null || _uidata.cacheLifetime > 0 ? data : null;\r\n            _uidata.triggerEvent('dataReady', data);\r\n\r\n            _uidata.triggerEvent('complete', data);\r\n            DataAjax.triggerEvent('complete', _uidata);\r\n\r\n            _uidata.triggerEvent('progress', 100);\r\n            if (typeof callback === 'function') callback(data, _uidata);\r\n\r\n        // Otherwise trigger error events.\r\n        } else {\r\n            _uidata.hasError = true;\r\n            let event = new Event('error', {cancelable: true});\r\n            _uidata.triggerEvent('error', this.status, event);\r\n            Ajax.triggerEvent('error', _uidata, this.status, event);\r\n\r\n            event = new Event('complete', {cancelable: true});\r\n\r\n            _uidata.triggerEvent('complete', this.status, event);\r\n            Ajax.triggerEvent('complete', _uidata, this.status, event);\r\n        }\r\n\r\n        _uidata.lastFetchTime = Date.now();\r\n        _uidata.ready = true;\r\n    };\r\n\r\n    let data = [];\r\n    if( !(this._prameters instanceof FormData) ) {\r\n        for (let p in this._parameters) {\r\n            if (typeof this._parameters[p] === 'object') {\r\n                data.push(encodeURIComponent(p) + '=' + encodeURIComponent(JSON.stringify(this._parameters[p])));\r\n            } else {\r\n                data.push(encodeURIComponent(p) + '=' + encodeURIComponent(this._parameters[p]));\r\n            }\r\n        }\r\n    }\r\n\r\n    xhttp.open(this.method, url + (this.method === 'GET' && data.length > 0 ? (url.indexOf('?') < 0 ? '?' : '&')+data.join('&') : ''), true);\r\n\r\n    Ajax.triggerEvent('send', _uidata);\r\n    _uidata.triggerEvent('send');\r\n\r\n    // Set headers.\r\n    for(let h in _uidata.headers){\r\n        xhttp.setRequestHeader(h, _uidata.headers[h]);\r\n    }\r\n\r\n    // Add CSRF token to the header if it's set and method is POST.\r\n    if(_uidata.useCsrf && csrfToken !== null){\r\n        xhttp.setRequestHeader(csrfParam, csrfToken);\r\n    }\r\n\r\n    if (this.method.toUpperCase() === 'POST') {\r\n        if(this._parameters instanceof FormData){\r\n            // Add CSRF token to the request if it's set and method is POST.\r\n            if(_uidata.useCsrf && csrfToken !== null){\r\n                this._parameters.append(csrfParam, csrfToken);\r\n            }\r\n            xhttp.send(this._parameters);\r\n            return true;\r\n        }\r\n\r\n        xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n        // Add CSRF token.\r\n        if(_uidata.useCsrf && csrfToken !== null){\r\n            data.push(csrfParam + '=' + csrfToken);\r\n        }\r\n        xhttp.send(data.join('&'));\r\n    } else {\r\n        xhttp.send();\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n","import addEventsMethods from '../utils/events-methods';\r\nimport Data from '../core/data';\r\nimport {warn, error} from '../utils/logging';\r\n\r\n\r\n/**\r\n * WebSocket data provider.\r\n * Established connection and provides methods and events\r\n * to work with it.\r\n * Uses UIWebSocketCollector as data collector.\r\n * @param params\r\n * @constructor\r\n */\r\nexport class WSData extends Data\r\n{\r\n    constructor(params) {\r\n        super(params);\r\n        this.ws = params.ws;\r\n        this.collector = UIWebSocketCollector;\r\n    }\r\n}\r\n\r\n// Add events to the WSData object globally.\r\naddEventsMethods(WSData);\r\n\r\n\r\n\r\n/**\r\n * Create custom data collector for the WSData.\r\n @param {function} callback\r\n */\r\nfunction UIWebSocketCollector(callback)\r\n{\r\n    this.ws.send(this._parameters, data => {\r\n        callback.call(this, data);\r\n        this.triggerEvent('dataReady', this, data);\r\n    });\r\n}\r\n\r\n\r\n\r\n/**\r\n * Represents WebSocket connection.\r\n * @params {object} params\r\n */\r\nexport function WS(params)\r\n{\r\n    if(!window.WebSocket){\r\n        warn('WebSocket is not supported by this browser.');\r\n    }\r\n\r\n    let formats = [WS.FORMAT_JSON, WS.FORMAT_TOKENIZED_JSON, WS.FORMAT_RAW];\r\n\r\n    this.format = params.hasOwnProperty('format') && formats.indexOf(params.format) >= 0 ? params.format : WS.FORMAT_TOKENIZED_JSON;\r\n    this.url = params.url;\r\n    this.authRequestMessage = params.authRequestMessage ? params.authRequestMessage : null;\r\n    this.authSuccessMessage = params.authSuccessMessage ? params.authSuccessMessage : 'authorized';\r\n    this.authFailMessage = params.authFailMessage ? params.authFailMessage : 'authorization failed';\r\n    this.conn = null;\r\n    this.authorized = false;\r\n    this.reconnectionInterval = params.reconnectionInterval ? params.reconnectionInterval : 5000;\r\n    this.tokens = {};\r\n    this.__ = {\r\n        events : {},\r\n        dispatchers: {}\r\n    }\r\n}\r\n\r\nWS.FORMAT_JSON = 'json';\r\nWS.FORMAT_TOKENIZED_JSON = 'tokenized-json';\r\nWS.FORMAT_RAW = 'text';\r\n\r\n\r\nWS.prototype = {};\r\naddEventsMethods(WS.prototype);\r\n\r\n\r\n/**\r\n * Events:\r\n * - connect\r\n * - disconnect\r\n * - authStart\r\n * - authSuccess\r\n * - authFail\r\n * - message\r\n * - response\r\n * - send\r\n */\r\nWS.prototype.connect = function()\r\n{\r\n    if(this.conn !== null) return;\r\n    let conn = new WebSocket(this.url);\r\n    this.conn = conn;\r\n\r\n    let _this = this;\r\n    let ti;\r\n\r\n    // Handle connection establishing.\r\n    conn.onopen = function(){\r\n        if(_this.authRequestMessage !== null){\r\n            _this.conn.send(_this.authRequestMessage);\r\n        }\r\n        clearInterval(ti);\r\n        _this.triggerEvent('connect');\r\n    };\r\n\r\n    // Handle losing connection and try to reconnect.\r\n    conn.onclose = function() {\r\n        _this.authorized = false;\r\n        _this.conn = null;\r\n        _this.tokens = {};\r\n        ti = setTimeout(function() {\r\n            _this.connect();\r\n        }, _this.reconnectionInterval);\r\n        _this.triggerEvent('disconnect');\r\n    };\r\n\r\n    conn.onerror = function (e) {\r\n        error(\"WS connection error.\", e);\r\n    };\r\n\r\n    // Handle incoming messages.\r\n    conn.onmessage = function (e) {\r\n        // Handle authorization if it's enabled.\r\n        if(_this.authRequestMessage !== null) {\r\n            if (e.data === _this.authSuccessMessage) {\r\n                _this.authorized = true;\r\n                _this.triggerEvent('authSuccess');\r\n                return;\r\n            } else if (e.data === _this.authFailMessage) {\r\n                _this.authorized = false;\r\n                _this.triggerEvent('authFail');\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Trigger onmessage event if there is a raw message format is using.\r\n        if(_this.format === WS.FORMAT_RAW){\r\n            _this.triggerEvent('message', e.data);\r\n\r\n\r\n        }else if(_this.format === WS.FORMAT_JSON){\r\n            _this.triggerEvent('message', JSON.parse(e.data));\r\n\r\n        }else if(_this.format === WS.FORMAT_TOKENIZED_JSON) {\r\n            let data = JSON.parse(e.data);\r\n            if(!data.hasOwnProperty('Token')){\r\n                _this.triggerEvent('message', data);\r\n                return;\r\n            }\r\n\r\n            let token = data.Token;\r\n            delete data.Token;\r\n\r\n            // Ignore unregistered tokens.\r\n            if(!_this.tokens.hasOwnProperty(token)){\r\n                return;\r\n            }\r\n\r\n            if(data.hasOwnProperty('Data')){\r\n                data = data.Data;\r\n            }\r\n\r\n            _this.triggerEvent('message', data);\r\n            _this.triggerEvent('response', data);\r\n            _this.tokens[token](data);\r\n            delete _this.tokens[token];\r\n        }\r\n    };\r\n};\r\n\r\n\r\n\r\nWS.prototype.send = function(data, callback) {\r\n    if(this.conn === null) return;\r\n    let d = new Message(data);\r\n    this.tokens[d.token] = callback;\r\n    let dataWrapper = {data: d};\r\n    // Allow user to modify data sent.\r\n    this.triggerEvent('beforeSend', dataWrapper);\r\n    this.conn.send(JSON.stringify(dataWrapper.data));\r\n    this.triggerEvent('send', dataWrapper.data);\r\n};\r\n\r\n\r\n\r\nfunction randomId(length)\r\n{\r\n    let text = \"\";\r\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (let i=0; i < length; i++)\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n}\r\n\r\n\r\n\r\nexport function Message(data)\r\n{\r\n    this.token = randomId(12) + Date.now();\r\n    for(let p in data){\r\n        if(!data.hasOwnProperty(p)) continue;\r\n        this[p] = data[p];\r\n    }\r\n}","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n *       Identity module\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n *\r\n * Identity is an object helper that stores information about user.\r\n * To set current user use [changeUser()] method:\r\n *\r\n * Identity.changeUser({\r\n *     firstName: 'John',\r\n *     secondName: 'Doe',\r\n *     email: 'john.doe@gmail.com',\r\n *     phone: '5165468548',\r\n *     photo: {\r\n *         small : '/url/to-the/small-photo.jpg',\r\n *         medium : '/url/to-the/medium-photo.jpg',\r\n *         large : '/url/to-the/large-photo.jpg'\r\n *     }\r\n * });\r\n *\r\n * To get user data use next syntax:\r\n * var name = Identity.getUser().getFullName();\r\n *\r\n * @constructor\r\n */\r\n\r\n\r\n/**\r\n * Currently authorized used.\r\n * @type {null|User}\r\n */\r\nlet currentUser = null;\r\n\r\n\r\n/**\r\n * Utility function|object helper.\r\n * Don't use this function to get current user because\r\n * behavior of this function may be changed in future.\r\n * Use Identity.getUser() instead.\r\n * @event changeUser - Occurred when current user changes.\r\n * @returns {null|User}\r\n */\r\nexport default function Identity()\r\n{\r\n    return currentUser;\r\n}\r\n/**\r\n * Add events support to the Identity object.\r\n */\r\naddEventsMethods(Identity);\r\n\r\n/**\r\n * Returns true if user is guest.\r\n * @returns {boolean}\r\n */\r\nIdentity.isGuest = function () {\r\n    return currentUser === null;\r\n};\r\n\r\n/**\r\n * Returns currently authorized user.\r\n * @returns {User|null}\r\n */\r\nIdentity.getUser = function () {\r\n    return currentUser;\r\n};\r\n\r\n/**\r\n * User constructor.\r\n * @param userData\r\n * @constructor\r\n */\r\nfunction User(userData)\r\n{\r\n    this.id = userData.id || null;\r\n    this.role = userData.role || null;\r\n    this.firstName = userData.firstName || '';\r\n    this.secondName = userData.secondName || '';\r\n    this.email = userData.email || '';\r\n    this.phone = userData.phone || '';\r\n    this.photo = new Photo(userData.photo || {});\r\n\r\n    this.sign = userData.sign || '';\r\n\r\n    this.position = userData.position || '';\r\n    this.companyId = userData.companyId || '';\r\n    this.companyName = userData.companyName || '';\r\n}\r\n\r\n/**\r\n * Photo of the user.\r\n * Can be represented in three variants.\r\n *\r\n * Example:\r\n * photo = new Photo({\r\n *     small : '/url/to-the/small-photo.jpg',\r\n *     medium : '/url/to-the/medium-photo.jpg',\r\n *     large : '/url/to-the/large-photo.jpg'\r\n * });\r\n *\r\n * @param photoData\r\n * @constructor\r\n */\r\nfunction Photo(photoData)\r\n{\r\n    this.small = photoData.small || '';\r\n    this.medium = photoData.medium || '';\r\n    this.large = photoData.large || '';\r\n}\r\n\r\n/**\r\n * Prototype of the User.\r\n * @type {{constructor: User, fullName: User.fullName}}\r\n */\r\nUser.prototype = {\r\n    constructor: User,\r\n\r\n    /**\r\n     * Returns full name of the user.\r\n     * @returns {string}\r\n     */\r\n    fullName : function () {\r\n        return this.firstName + ' ' + this.secondName;\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @param userData\r\n */\r\nIdentity.changeUser = function(userData)\r\n{\r\n    let newUser = new User(userData);\r\n    Identity.triggerEvent('changeUser', currentUser, newUser);\r\n    currentUser = newUser;\r\n};","import L10n from '../core/localization';\r\n\r\nexport default function Format(value){\r\n    return Format.date(value);\r\n}\r\n\r\n\r\n/**\r\n * Formats number as ordinal.\r\n * The value will be converted to integer.\r\n * @param {number} value\r\n * @returns {string}\r\n */\r\nFormat.ordinal = function (value) {\r\n    value = parseFloat(value);\r\n    let ends = ['th','st','nd','rd','th','th','th','th','th','th'];\r\n    if (((value % 100) >= 11) && ((value % 100) <= 13))\r\n        return value + 'th';\r\n    else\r\n        return value + ends[value % 10];\r\n};\r\n\r\n/**\r\n * @param {number} month\r\n * @param {string} [lang]\r\n * @return {string}\r\n */\r\nFormat.monthShortName = function(month, lang) {\r\n    if(lang === undefined) lang = L10n.getLanguage();\r\n    let names = {\r\n        en: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        ru: ['.', '.', '.', '.', '', '.', '.', '.', '.', '.', '.', '.'],\r\n    };\r\n    return names[lang][month];\r\n};\r\n\r\n/**\r\n * Formats given date in the given format.\r\n * @param {string|number} date\r\n * @param {string} [format]\r\n */\r\nFormat.date = function(date, format){\r\n    if(format === undefined) format = 'd m Y';\r\n    return formatDate(date, format);\r\n};\r\n\r\n\r\nfunction formatDate(date, format) {\r\n    if(date === null || date === '') return '';\r\n    if(date.indexOf(' ') < 0) date += ' 01:00:00';\r\n    let dt = new Date(date);\r\n\r\n    let Y = dt.getFullYear();\r\n    let m, d;\r\n    if(L10n.getLanguage() === 'ru'){\r\n        m = Format.monthShortName(dt.getMonth()).toLowerCase();\r\n        d = dt.getDate()\r\n    }else{\r\n        m = Format.monthShortName(dt.getMonth());\r\n        d = Format.ordinal(dt.getDate());\r\n    }\r\n    let result = '';\r\n    for(let i = 0; i < format.length; i++){\r\n        if(format[i] === 'Y'){\r\n            result += Y;\r\n        }else if(format[i] === 'm'){\r\n            result += m;\r\n        }else if(format[i] === 'd'){\r\n            result += d;\r\n        }else{\r\n            result += format[i];\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Formats given time in given format.\r\n * @param {string|number} time\r\n * @param {string} [format]\r\n * @returns {string}\r\n */\r\nFormat.time = function (time, format) {\r\n    return Format.date(time, format === undefined ? 'H:i' : format);\r\n};\r\n\r\n\r\n/**\r\n * Formats given amount as money.\r\n * @param amount\r\n * @param currency\r\n * @returns {*}\r\n */\r\nFormat.money = function (amount, currency) {\r\n    if(amount === null) return '';\r\n    return ((currency === 'EUR' ? '' : '$') + ' ' + parseFloat(amount)).replace(',', '.');\r\n};","import addEventsMethods from '../utils/events-methods';\r\nimport {error} from '../utils/logging';\r\n\r\n/**\r\n * Private object that holds registered events channels.\r\n * @type {Object}\r\n */\r\nlet channels = {};\r\n\r\n\r\n/**\r\n * Class that represents single events channel with name.\r\n * Usage:\r\n *\r\n * // Products channel creation.\r\n * let prodChannel = new EventsChannel('products');\r\n *\r\n * // Somewhere in the product form.\r\n * ajax.send(response => prodChannel.triggerEvent('update', response));\r\n *\r\n * // Somewhere in the products list.\r\n * prodChannel.on('update', data => list.updateProductInfo(data));\r\n */\r\nfunction EventsChannel (name) {\r\n    this.name = name;\r\n\r\n    this.__ = {\r\n        events: {},\r\n        dispatchers: {},\r\n        eventsTimeouts: {}\r\n    };\r\n}\r\n\r\n// Add events methods to the prototype to prevent code duplicating.\r\nEventsChannel.prototype = {};\r\naddEventsMethods(EventsChannel.prototype);\r\n\r\n\r\n\r\n\r\n/**\r\n * Returns channel by name.\r\n * For example channel can be created in one place but must be accessed from another one.\r\n * If channel not exists the new one will be created.\r\n *\r\n * Usage:\r\n * let prodChannel = EventsChannel('products');\r\n *\r\n * @param name\r\n * @return {EventsChannel}\r\n */\r\nexport default function channelsManager (name) {\r\n\r\n    if (typeof name !== 'string' && Selection.logging) {\r\n        error('EventsChannel name must be a string but ' + typeof name + ' given.');\r\n        return null;\r\n    }\r\n\r\n    if (channels.hasOwnProperty(name)) {\r\n        return channels[name];\r\n    }\r\n    let channel = new EventsChannel(name);\r\n    channels[name] = channel;\r\n    return channel;\r\n}\r\n\r\n\r\n\r\n","export default function() {\r\n\r\n    /**\r\n     * Throttles event handler with given delay.\r\n     * [this] variable and arguments will be saved for the callback.\r\n     *\r\n     * Example of usage:\r\n     *\r\n     * inst.input.applyExtension('Throttle event', {\r\n     *     event: 'input',\r\n     *     delay: 150,\r\n     *     handler: function() { ... }\r\n     * });\r\n     */\r\n    Extension.register('Throttle event', {\r\n        params: {\r\n            delay: 0,\r\n            event: 'input',\r\n            callback: null\r\n        },\r\n\r\n        onApply(ext) { // Define handler and add it as event listener.\r\n            let p = ext.params;\r\n            let to = null;\r\n            let handler = p.callback || p.handler;\r\n\r\n            function callback(_this, args) {\r\n                handler.apply(_this, args);\r\n            }\r\n\r\n            p.newCallback = function() {\r\n                clearTimeout(to);\r\n                to = setTimeout(callback, p.delay, this, arguments);\r\n            };\r\n\r\n            ext.target.on(p.event, p.newCallback);\r\n        },\r\n\r\n\r\n        onUpdate(ext, newParams) { // Remove old handler and add new one to apply new parameters.\r\n            let params = ext.params;\r\n            let to = null;\r\n\r\n            // Remove old handler.\r\n            ext.target.off(params.event, params.newCallback);\r\n\r\n            // Copy new parameters.\r\n            for (let p in newParams) {\r\n                if (newParams.hasOwnProperty(p) && params.hasOwnProperty(p)) {\r\n                    params[p] = newParams[p];\r\n                }\r\n            }\r\n\r\n            // Define new handler.\r\n            let handler = params.callback || params.handler;\r\n\r\n            function callback(_this, args) {\r\n                handler.apply(_this, args);\r\n            }\r\n\r\n            params.newCallback = function() {\r\n                clearTimeout(to);\r\n                to = setTimeout(callback, params.delay, this, arguments);\r\n            };\r\n\r\n            ext.target.on(params.event, params.newCallback);\r\n        },\r\n\r\n\r\n        onRemove(ext) { // Remove event handler on extension removing.\r\n            let p = ext.params;\r\n            ext.target.off(p.event, p.newCallback);\r\n        }\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    /**\r\n     * This extension accepts one element as target and another as popover\r\n     * and adds popover behavior for the last one.\r\n     * If popover is not given a new element will be created as the popover.\r\n     * To get automatically created element call [getPopover()] method.\r\n     * The popover will be displayed aside the target (first element).\r\n     *\r\n     * Options:\r\n     *\r\n     * // Apply extension.\r\n     * let ext = Extension('Popover').applyTo(target, {\r\n     *     side: 'top',\r\n     *     hideOnBlur: true,\r\n     *     fadingTime: 150,\r\n     *     popover: inst.popover\r\n     * });\r\n     *\r\n     * // Get popover element.\r\n     * let popover = ext.getPopover();\r\n     *\r\n     * // Getting popover when extension was already applied.\r\n     * let popoverElement = target.getExtension('Popover').getPopover();\r\n     */\r\n    Extension.register('Popover', {\r\n\r\n        params: {\r\n            side: 'top',\r\n            hideOnBlur: true,\r\n            fadingTime: 150,\r\n            popover: null\r\n        },\r\n\r\n        onApply(ext, target, params) {\r\n\r\n            // Check if popover is given. If not - create new popover.\r\n            if (params.popover === null) {\r\n                params.popover = document.createElement('div');\r\n                // TODO Implement popover creation.\r\n            }\r\n\r\n            // Add events handlers for the target.\r\n            // TODO Implement events handlers and make their attachments.\r\n        }\r\n\r\n    });\r\n\r\n}","export default function() {\r\n\r\n    /**\r\n     * Adds events handlers to the input element or instance to filter input value.\r\n     *\r\n     * Example:\r\n     * inst.price.applyExtension('Number filter', {precision: 2, negative: false});\r\n     */\r\n    Extension.register('Number filter', {\r\n        params: {\r\n            fractional: true,\r\n            negative: true,\r\n            precision: 4,\r\n            min: false,\r\n            max: false\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params;\r\n\r\n            if (!UI.isElement(target) && (UI.isInstance(target) && !target.isImplementationOf('Input'))) {\r\n                UI.error('Extension \"' + ext.name + '\": target doesn\\'t implement \"Input\" interface:', \"\\n\\n\", Interface('Input').toString(), \"\\n \");\r\n                return;\r\n            }\r\n\r\n            params.inputHandler = function() {\r\n                let val = this.val().trim().replace(',', '.').replace(/[^\\d.-]/gi, '');\r\n\r\n                if (val.length === 0) {\r\n                    this.val('');\r\n                    return;\r\n                }\r\n\r\n                let arr = val.split('.');\r\n\r\n\r\n                if (arr.length > 2) {\r\n                    arr = arr.slice(0, 2);\r\n                }\r\n\r\n                if (params.fractional && params.precision > 0) {\r\n                    if (arr.length > 1) {\r\n                        arr[1] = arr[1].slice(0, params.precision - 1);\r\n                    }\r\n                }else {\r\n                    arr = [arr[0]];\r\n                }\r\n\r\n                if (arr[0][0] === '.') {\r\n                    arr[0] = '0' + arr[0];\r\n                }\r\n\r\n                if (params.negative && arr[0][0] === '-') {\r\n                    arr[0] = '-' + arr[0].slice(1).replace(/[^\\d]/g, '');\r\n                }else{\r\n                    arr[0] = arr[0].replace('-', '');\r\n                }\r\n\r\n                if (arr[0] !== '-') {\r\n                    val = parseFloat(arr.join('.'));\r\n\r\n                    if (isNaN(val) || (params.min !== false && val < params.min)) {\r\n                        val = params.min;\r\n                    }\r\n\r\n                    if (params.max !== false && val > params.max) {\r\n                        val = params.max;\r\n                    }\r\n                } else {\r\n                    val = arr.join('.');\r\n                }\r\n\r\n\r\n                this.val(val);\r\n                this.focus();\r\n            };\r\n\r\n            params.changeHandler = function () {\r\n                let val = this.val().trim().replace(',', '.').replace(/[^\\d.-]/gi, '');\r\n                if (val[val.length - 1] === '.') {\r\n                    val = val.slice(0, -1);\r\n                    this.val(val);\r\n                }\r\n            };\r\n            target.on('input', params.inputHandler);\r\n            target.on('change', params.changeHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('input', ext.params.inputHandler);\r\n            ext.target.off('change', ext.params.changeHandler);\r\n        }\r\n    });\r\n\r\n}","export default function registerDragExtension()\r\n{\r\n    /**\r\n     * Drag extension.\r\n     *\r\n     * Allows to simply drag items within the parent container or globally.\r\n     * Example of usage:\r\n     *\r\n     * inst.knob.applyExtension('Drag', {x: true, y: false, withinParent: true});\r\n     */\r\n    Extension.register('Drag', {\r\n        params: {\r\n            x: true,\r\n            y: true,\r\n            withinParent: true,\r\n            useBoundaries: false,\r\n            handle: null\r\n        },\r\n\r\n        onApply(ext) {\r\n            // Note that target can be an instance or an element.\r\n            let target = ext.target,\r\n                params = ext.params;\r\n\r\n            // Element that will be moved.\r\n            params.targetElement = UI.isElement(target) ? target : target.getRootElement();\r\n\r\n            // Set handle if it's not given.\r\n            if (params.handle === null) {\r\n                let inst = target;\r\n                if (UI.isElement(target)) {\r\n                    inst = target.instance();\r\n                }\r\n\r\n                // Ensure that we've got an instance.\r\n                if (!UI.isInstance(inst)) {\r\n                    UI.error('Target for the \"Drag\" extension must be an instance or an element.');\r\n                    return;\r\n                }\r\n\r\n                // Draggable interface allows us to get handle for dragging.\r\n                if (inst.isImplementationOf('Draggable')) {\r\n                    params.handle = inst.getHandle();\r\n                } else {\r\n                    params.handle = params.targetElement;\r\n                }\r\n            }\r\n\r\n\r\n            params.handle.__.extensions['Drag'] = ext;\r\n\r\n            params.handle.on('mousedown', dragStartHandler);\r\n            params.handle.on('touchstart', dragStartHandler);\r\n        },\r\n\r\n        onUpdate(ext, newParams) {\r\n            let params = ext.params;\r\n            for (let p in newParams) {\r\n                if (newParams.hasOwnProperty(p) && params.hasOwnProperty(p)) {\r\n                    params[p] = newParams[p];\r\n                }\r\n            }\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.params.handle.off('mousedown', dragStartHandler);\r\n            ext.params.handle.off('touchstart', dragStartHandler);\r\n            delete ext.params.handle.__.extensions['Drag'];\r\n        },\r\n\r\n        getDragged() {\r\n            return dragged;\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Private variables that store intermediate values.\r\n     */\r\n    let dragged = null,\r\n        draggedExt = null,\r\n        initialX = 0,\r\n        initialY = 0,\r\n        initialTop = 0,\r\n        initialLeft = 0,\r\n        initialParentTop = 0,\r\n        initialParentLeft = 0,\r\n\r\n        x = true,\r\n        y = true,\r\n        withinParent = true,\r\n        useBoundaries = false;\r\n\r\n    /**\r\n     * Event handler.\r\n     * Function that will be used as event handler when draggable behavior\r\n     * is applied to the element.\r\n     * @this {Element}\r\n     * @param inst {Instance}\r\n     * @param e {MouseEvent}\r\n     */\r\n    function dragStartHandler(inst, e) {\r\n        e.preventDefault();\r\n\r\n        let ext = this.extension('Drag');\r\n        if (ext === null) ext = this.instance().extension('Drag');\r\n        if (ext === null) return;\r\n\r\n\r\n        let target = ext.target,\r\n            targetElement = ext.params.targetElement;\r\n\r\n        let event = new Event('dragStart', {cancelable: true});\r\n        target.triggerEvent('dragStart', inst, event);\r\n\r\n        if (target !== this) {\r\n            this.triggerEvent('dragStart', inst, event);\r\n        }\r\n\r\n        // Don't do anything if user interrupts dragging.\r\n        if(event.defaultPrevented) return;\r\n\r\n        // Copy properties from the extension parameters to the static variables.\r\n        x = ext.params.x;\r\n        y = ext.params.y;\r\n        withinParent = ext.params.withinParent;\r\n        useBoundaries = ext.params.useBoundaries;\r\n\r\n        // Apply relative position to the parent container it position is not set.\r\n        let pos = targetElement.node().parentNode.style.position;\r\n        if(withinParent && (pos === 'static' || pos === '')) {\r\n            targetElement.node().parentNode.style.position = 'relative';\r\n        }\r\n\r\n        // Store initial mouse position.\r\n        initialX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n        initialY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n\r\n        // Store initial position of the dragged element.\r\n        let box = targetElement.clientRect();\r\n\r\n        initialTop = box.top;\r\n        initialLeft = box.left;\r\n\r\n        // Store parent node initial position.\r\n        box = targetElement.node().parentNode.getBoundingClientRect();\r\n\r\n        // Get border width of the top and left sides.\r\n        let style = getComputedStyle(targetElement.node().parentNode);\r\n        let borderLeft = parseInt((style.borderLeftWidth + '').replace('px', ''));\r\n        let borderTop = parseInt((style.borderTopWidth + '').replace('px', ''));\r\n\r\n        // Exclude border width from position delta by adding border to the parent coordinates.\r\n        initialParentTop = box.top + borderTop;\r\n        initialParentLeft = box.left + borderLeft;\r\n\r\n        // Set element as dragged.\r\n        dragged = this;\r\n        draggedExt = ext;\r\n        targetElement.addClass('dragged');\r\n    }\r\n\r\n\r\n    /**\r\n     * Event handler.\r\n     * Called on each mouse move.\r\n     * @param e\r\n     */\r\n    function draggingHandler(e)\r\n    {\r\n        if(dragged === null) return;\r\n\r\n        let ext = dragged.extension('Drag');\r\n        if (ext === null) ext = dragged.instance().extension('Drag');\r\n        if (ext === null) return;\r\n\r\n        let target = ext.target,\r\n            targetElement = ext.params.targetElement;\r\n\r\n        let mX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n        let mY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n\r\n        let deltaX = mX - initialX;\r\n        let deltaY = mY - initialY;\r\n\r\n        let iTop = withinParent ? initialTop - initialParentTop  : initialTop;\r\n        let iLeft = withinParent ? initialLeft - initialParentLeft : initialLeft;\r\n\r\n        let newLeft = iLeft + deltaX;\r\n        let newTop = iTop + deltaY;\r\n\r\n        if (useBoundaries) {\r\n            // Prevent from dragging outside along X.\r\n            if(newLeft < 0) newLeft = 0;\r\n            if(withinParent){\r\n                let myW = targetElement.__.node.clientWidth;\r\n                let parentW = targetElement.__.node.parentNode.clientWidth;\r\n                if(newLeft > parentW - myW){\r\n                    newLeft = parentW - myW;\r\n                }\r\n            }\r\n\r\n            // Prevent from dragging outside along Y.\r\n            if(newTop < 0) newTop = 0;\r\n            if(withinParent){\r\n                let myH = targetElement.__.node.clientHeight;\r\n                let parentH = targetElement.__.node.parentNode.clientHeight;\r\n                if(newTop > parentH - myH){\r\n                    newTop = parentH - myH;\r\n                }\r\n            }\r\n        }\r\n\r\n        let event = new Event('drag', {cancelable: true});\r\n\r\n        let initialPoint = new Point(iLeft, iTop);\r\n        let newPoint     = new Point(newLeft, newTop);\r\n        let deltaPoint   = new Point(deltaX, deltaY);\r\n\r\n\r\n        target.triggerEvent('drag', targetElement.instance(), initialPoint, deltaPoint, event);\r\n\r\n        if (target !== targetElement) {\r\n            targetElement.triggerEvent('drag', targetElement.instance(), initialPoint, deltaPoint, event);\r\n        }\r\n\r\n\r\n        // If event's default is not prevented - apply new position.\r\n        if(event.defaultPrevented){\r\n            return;\r\n        }\r\n\r\n        let cssObj = {position: withinParent ? 'absolute' : 'fixed'};\r\n        if(x){\r\n            cssObj.left = newPoint.x + 'px';\r\n        }\r\n        if(y){\r\n            cssObj.top = newPoint.y + 'px';\r\n        }\r\n        targetElement.css(cssObj);\r\n    }\r\n\r\n    /**\r\n     * Event listener.\r\n     * Called each time user releases mouse.\r\n     * Terminates current dragging and triggers necessary events.\r\n     * @param e\r\n     */\r\n    function dragEndHandler(e)\r\n    {\r\n        if(dragged !== null && draggedExt !== null){\r\n            let target = draggedExt.target,\r\n                targetElement = draggedExt.params.targetElement;\r\n\r\n            target.triggerEvent('dragEnd', targetElement.instance(), e);\r\n            targetElement.triggerEvent('dragEnd', targetElement.instance(), e);\r\n            targetElement.removeClass('dragged');\r\n        }\r\n        dragged = null;\r\n        draggedExt = null;\r\n    }\r\n\r\n    document.addEventListener('mousemove', draggingHandler);\r\n    document.addEventListener('touchmove', draggingHandler);\r\n    document.addEventListener('mouseup', dragEndHandler);\r\n    document.addEventListener('touchend', dragEndHandler);\r\n}\r\n\r\n\r\n\r\n\r\n","export default function() {\r\n\r\n    Extension.register('Sortable', {\r\n        params: {\r\n            x: true,\r\n            y: true,\r\n            placeholderClass: 'placeholder'\r\n        },\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                dummy = null,\r\n                placeIndex = 0,\r\n                placeholder = null,\r\n                initialOpacity = 1;\r\n\r\n            function createDummy(el) {\r\n                let node = document.createElement('div');\r\n                node.className = params.placeholderClass;\r\n                node.style.width = el.outerWidth() + 'px';\r\n                node.style.height = el.outerHeight() + 'px';\r\n                node.style.position = 'fixed';\r\n                node.style.cursor = 'default !important';\r\n                node.style.zIndex = 1000000;\r\n                document.body.appendChild(node);\r\n                node.innerHTML = el.node().outerHTML;\r\n                node.firstChild.style.opacity = initialOpacity;\r\n\r\n                let src = el.node().getElementsByTagName('input');\r\n                let dst = node.getElementsByTagName('input');\r\n                for (let i = 0; i < src.length; i++) {\r\n                    dst[i].value = src[i].value;\r\n                }\r\n\r\n                return node;\r\n            }\r\n\r\n            params.downHandler = function(inst, initialPoint, deltaPoint, event) {\r\n                event.preventDefault();\r\n            };\r\n\r\n            // Add transparency to the dragged element to indicate dragging.\r\n            params.dragStartHandler = function (inst) {\r\n                if (UI.isInstance(this)) inst = this;\r\n                let el = inst.getRootElement();\r\n                initialOpacity = el.node().style.opacity === '' ? initialOpacity : el.node().style.opacity;\r\n                el.css({opacity: 0.25});\r\n            };\r\n\r\n            // Snap dummy to the cursor and set placeholder in the proper place.\r\n            params.dragHandler = function(inst, initialPoint, deltaPoint, event) {\r\n                event.preventDefault();\r\n\r\n                if (UI.isInstance(this)) inst = this;\r\n\r\n                let draggedElement = UI.isElement(this) ? this : inst.getRootElement();\r\n\r\n                if (dummy === null) {\r\n                    dummy = createDummy(inst.getRootElement());\r\n                }\r\n                let newX = initialPoint.x + deltaPoint.x;\r\n                let newY = initialPoint.y + deltaPoint.y;\r\n                dummy.style.top = newY + 'px';\r\n\r\n                if (params.x) {\r\n                    dummy.style.left = newX + 'px';\r\n                } else {\r\n                    dummy.style.left = initialPoint.x + 'px';\r\n                }\r\n\r\n                let items = target.children();\r\n                for (let i = 0, len = items.length; i < len; i++) {\r\n                    let item = items[i].getRootElement();\r\n\r\n                    // Remove placeholder if it exists.\r\n                    if (placeholder !== null) {\r\n                        target.node().removeChild(placeholder);\r\n                        placeholder = null;\r\n                    }\r\n\r\n                    let rect = item.clientRect();\r\n                    let halfH = rect.height/2;\r\n\r\n                    // Skip dragged element.\r\n                    if (item === draggedElement) continue;\r\n\r\n\r\n                    // Before.\r\n                    if ((item.node().previousSibling === null && newY < rect.top + halfH) || (newY < rect.top + halfH && newY > rect.top - halfH)) {\r\n                        if (item.node().previousSibling === draggedElement.node()) continue;\r\n                        placeholder = document.createElement('div');\r\n                        placeholder.style.height = item.outerHeight() + 'px';\r\n                        placeholder.style.width = '1px';\r\n                        target.node().insertBefore(placeholder, item.node());\r\n                        placeIndex = i === 0 ? 0 : i - 1;\r\n                        return;\r\n\r\n                    // After.\r\n                    } else if ((item.node().nextSibling === null && newY > rect.top + halfH) || (newY > rect.top + halfH && newY < rect.top + rect.height + halfH)) {\r\n                        if (item.node().nextSibling === draggedElement.node()) continue;\r\n                        placeholder = document.createElement('div');\r\n                        placeholder.style.height = item.outerHeight() + 'px';\r\n                        placeholder.style.width = '1px';\r\n                        if(item.node().nextSibling === null) {\r\n                            target.node().appendChild(placeholder);\r\n                        }\r\n                        target.node().insertBefore(placeholder, item.node().nextSibling);\r\n                        placeIndex = i + 1;\r\n                        return;\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Removes dummy and placeholder when dragging stops.\r\n            params.dropHandler = function(inst) {\r\n\r\n                if (UI.isInstance(this)) inst = this;\r\n\r\n                let draggedElement = UI.isElement(this) ? this : inst.getRootElement();\r\n\r\n                if (dummy !== null && dummy.parentNode !== null) {\r\n                    dummy.parentNode.removeChild(dummy);\r\n                    dummy = null;\r\n                }\r\n                if (placeholder !== null) {\r\n                    draggedElement.node().parentNode.removeChild(draggedElement.node());\r\n                    target.node().replaceChild(draggedElement.node(), placeholder);\r\n                    placeholder = null;\r\n                    target.triggerEvent('sort', draggedElement);\r\n                }\r\n\r\n                inst.getRootElement().css({opacity: initialOpacity || 1});\r\n            };\r\n\r\n            // Applies \"Drag\" extension to all children.\r\n            let items = target.children();\r\n            for (let i = 0; i < items.length; i++) {\r\n                let item = items[i];\r\n\r\n                Extension('Drag').applyTo(item, {\r\n                    withinParent: false,\r\n                    x: params.x,\r\n                    y: params.y\r\n                });\r\n\r\n                item.on('dragStart', params.dragStartHandler);\r\n                item.on('drag', params.dragHandler);\r\n                item.on('dragEnd', params.dropHandler);\r\n            }\r\n\r\n            // Add events handlers to the newly added items.\r\n            target.on('add', inst => {\r\n\r\n                inst.applyExtension('Drag', {\r\n                    withinParent: false,\r\n                    x: params.x,\r\n                    y: params.y\r\n                });\r\n\r\n                inst.on('dragStart', params.dragStartHandler);\r\n                inst.on('drag', params.dragHandler);\r\n                inst.on('dragEnd', params.dropHandler);\r\n            });\r\n        },\r\n        onRemove(ext) {\r\n\r\n        },\r\n        onUpdate(ext, newParams) {\r\n\r\n        }\r\n    });\r\n\r\n}\r\n","export default function () {\r\n\r\n    /**\r\n     * Tab extension.\r\n     * Implements tabs behavior to the element and linked content.\r\n     * All tabs and their contents in the container will be toggled.\r\n     */\r\n    Extension.register('Tab', {\r\n        params: {\r\n            label: '',\r\n            content: null,\r\n            activeClass: 'active'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let p = ext.params;\r\n            if (p.content === null) {\r\n                UI.warn('No content specified for the extension \"Tab\".');\r\n                return;\r\n            }\r\n\r\n            if (p.label === '') {\r\n                p.label = tabCounter++ + '';\r\n                if (tabCounter > 10000000) tabCounter = 0;\r\n            }\r\n\r\n            ext.target.on('click', clickHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', clickHandler);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Click handler that toggles active tab.\r\n     * @param event {Event}\r\n     */\r\n    function clickHandler(event) {\r\n        let ext = this.extension('Tab');\r\n        let tabsContainer = this.parent();\r\n        let contentsContainer = ext.params.content.parent();\r\n        let items = tabsContainer.children();\r\n        let activeClass = ext.params.activeClass;\r\n        let linkedContent = ext.params.content;\r\n\r\n        // Remove active class from all tabs and add it to the clicked one.\r\n        for (let i = 0; i < items.length; i++) {\r\n            let el = items[i].getRootElement();\r\n            // Skip elements that don't have \"Tab\" extension.\r\n            if (el.extension('Tab') === null) continue;\r\n            el.removeClass(activeClass);\r\n        }\r\n        this.addClass(activeClass);\r\n\r\n        // Hide all contents and show linked with selected tab.\r\n        // Also change toggles active class.\r\n        items = contentsContainer.children();\r\n        for (let i = 0; i < items.length; i++) {\r\n            let el = items[i].getRootElement();\r\n            if (el !== linkedContent) {\r\n                el.removeClass(activeClass).fadeOut(150);\r\n            }\r\n        }\r\n        setTimeout(function () {\r\n            linkedContent.addClass(activeClass).fadeIn(150, 'flex');\r\n        }, 160);\r\n        this.triggerEvent('ext:tab.click', event);\r\n    }\r\n\r\n\r\n    /**\r\n     * Static counter.\r\n     * Used for the naming tabs without label.\r\n     * @type {number}\r\n     */\r\n    let tabCounter = 0;\r\n\r\n}","export default function () {\r\n\r\n    Extension.register('Dropdown', {\r\n        params: {\r\n            side: 'auto',\r\n            target: null\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                content = params.target;\r\n\r\n            target.__._dropdownContent = content;\r\n\r\n            content.css({display: 'none'});\r\n\r\n            params.clickHandler = function() {\r\n                let expand = !this.hasClass('dropdown-expanded');\r\n\r\n\r\n                let event = new Event('blur', {cancelable: true});\r\n                /*\r\n                content.triggerEvent('blur', target, event);\r\n\r\n                // Stop do anything if event is canceled.\r\n                if(event.defaultPrevented){\r\n                    return;\r\n                }\r\n                */\r\n\r\n                if (expand) {\r\n                    target.addClass('dropdown-expanded');\r\n                    content.addClass('dropdown-expanded');\r\n                    event = new Event('expand', {cancelable: true});\r\n                    content.triggerEvent('expand', this, event);\r\n                    // Use default expanding animation if event is canceled.\r\n                    if(!event.defaultPrevented){\r\n                        content.slideDown(100, () => content.css({display: 'flex'}));\r\n                    }\r\n                } else {\r\n                    target.removeClass('dropdown-expanded');\r\n                    content.removeClass('dropdown-expanded');\r\n                    event = new Event('collapse', {cancelable: true});\r\n                    content.triggerEvent('collapse', this, event);\r\n                    // Use default collapsing animation if event is canceled.\r\n                    if(!event.defaultPrevented){\r\n                        content.slideUp(100, () => content.css({display: 'none'}));\r\n                    }\r\n                }\r\n            };\r\n\r\n            target.on('click', params.clickHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', ext.params.clickHandler);\r\n            delete ext.target.__._dropdownContent;\r\n        }\r\n    });\r\n\r\n\r\n    // Handle dropdown collapsing.\r\n    document.addEventListener('mousedown', function(e){\r\n        let target = e.target;\r\n\r\n        // Loop through parents to check if user clicked on the expanded.\r\n        while (target !== null) {\r\n            if (UI.isElement(target.element) && target.element.hasClass('dropdown-expanded')) {\r\n                target = target.element.node();\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        let items = document.getElementsByClassName('dropdown-expanded');\r\n        items = Array.prototype.slice.call(items, 0);\r\n\r\n        for (let i = 0, len = items.length; i < len; i++) {\r\n            if (items[i] === target) continue;\r\n\r\n\r\n            if (UI.isElement(items[i].element) && UI.isElement(items[i].element.__._dropdownContent)) {\r\n                let label = items[i].element;\r\n                let content = label.__._dropdownContent;\r\n\r\n                if(content.node() === target || label.node() === target) continue;\r\n\r\n                label.removeClass('dropdown-expanded');\r\n                content.removeClass('dropdown-expanded');\r\n\r\n                // Collapse dropdown.\r\n                let event = new Event('collapse', {cancelable: true});\r\n                content.triggerEvent('collapse', content, event);\r\n                if(!event.defaultPrevented){\r\n                    content.slideUp(100, function(){\r\n                        content.css({display: 'none'});\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    /**\r\n     *\r\n     */\r\n    Extension.register('Load more', {\r\n        params: {\r\n            url: '/load-more',\r\n            method: 'GET',\r\n            form: null,\r\n            type: 'from',\r\n            scrollThreshold: 100,\r\n            dummies: 10,\r\n            dummyClass: 'dummy'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let cont = ext.target,\r\n                params = ext.params,\r\n                form = params.form,\r\n                type = params.type,\r\n                lastTime = 0,\r\n                lastItemWithNoMore = null,\r\n                dummies = params.dummies || 0,\r\n                dummyClass = params.dummyClass || 'dummy';\r\n\r\n            // Create ajax data provider.\r\n            let ajax = new Ajax({\r\n                url: params.url,\r\n                method: params.method,\r\n                allowMultiple: false\r\n            });\r\n\r\n            // Flag if it's possible to send request at the moment.\r\n            let ready = true;\r\n            ajax.on('complete', () => ready = true);\r\n\r\n            // Remove dummies before loading.\r\n            params.loadHandler = data => {\r\n                if (Array.isArray(data) && data.length > 0) {\r\n                    let dummies = cont.node().getElementsByClassName(dummyClass);\r\n                    for(let i = 0, len = dummies.length; i < len; i++){\r\n                        cont.node().removeChild(dummies[0]);\r\n                    }\r\n                }\r\n            };\r\n            cont.on('load', params.loadHandler);\r\n\r\n            // Render new dummies after loading will be finished.\r\n            params.afterLoadHandler = data => {\r\n                // Render dummies.\r\n                if( Array.isArray(data) && data.length > 0 && dummies > 0 ){\r\n                    // Trigger event.\r\n                    cont.triggerEvent('loadMore', data);\r\n                    if(cont.children().length > 0){\r\n                        for(let i = 0; i < dummies; i++){\r\n                            let dummy = document.createElement('div');\r\n                            dummy.className = dummyClass;\r\n                            cont.node().appendChild(dummy);\r\n                        }\r\n                    }\r\n                } else {\r\n                    // If no array loaded - toggle event with empty array to allow user\r\n                    // properly handle this situation: show some message or something else.\r\n                    cont.triggerEvent('loadMore', []);\r\n                }\r\n            };\r\n            cont.on('afterLoad', params.afterLoadHandler);\r\n\r\n            params.handler = () => {\r\n                // Calculate percents of the scroll position.\r\n                let percents = cont.scrollTop() / (cont.scrollHeight() - cont.outerHeight()) * 100;\r\n\r\n                // Get last item in the target.\r\n                let items = cont.children();\r\n                let lastItem = items[items.length - 1];\r\n\r\n                // If scroll position percents exceeds threshold - try to load more.\r\n                if (ready && percents >= params.scrollThreshold && (percents >= 1 || isNaN(percents)) && Date.now() - lastTime >= 250 && lastItemWithNoMore !== lastItem) {\r\n\r\n                    // Gather form data.\r\n                    let params = form === null || form === undefined ? {} : form.gatherData(true);\r\n\r\n                    if(type === 'from'){\r\n                        // Last item must implement \"Identified\" interface in the \"from\" mode.\r\n                        if (lastItem.isImplementationOf('Identified')) {\r\n                            params.from = lastItem.getId();\r\n                        }else{\r\n                            UI.error('Extension \"' + ext.name + '\": Last item doesn\\'t implement \"Identified\" interface:', \"\\n\\n\", Interface('Identified').toString(), \"\\n \");\r\n                            return;\r\n                        }\r\n                    }else{\r\n                        params.offset = cont.children().length;\r\n                    }\r\n\r\n                    ready = false;\r\n                    lastTime = Date.now();\r\n\r\n                    // Load data.\r\n                    ajax.params(params).fetch(response => {\r\n                        lastTime = Date.now();\r\n                        if( ! Array.isArray(response) ) return;\r\n                        if(response.length === 0){\r\n                            lastItemWithNoMore = lastItem;\r\n                        }\r\n                        cont.load(response, false, false);\r\n                    });\r\n                }\r\n            };\r\n            cont.on('scroll', params.handler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('scroll', ext.params.handler);\r\n            ext.target.off('scroll', ext.params.loadHandler);\r\n            ext.target.off('scroll', ext.params.afterLoadHandler);\r\n        },\r\n\r\n        onUpdate(ext, newParams) {\r\n\r\n        }\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    Extension.register('Active trigger', {\r\n        params: {\r\n            activeClass: 'active'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                activeClass = params.activeClass;\r\n\r\n            params.handler = function(inst, event){\r\n                let node = event.target,\r\n                    targetNode = target.node();\r\n\r\n                while(node.parentNode !== targetNode && node !== document.body && node !== null){\r\n                    node = node.parentNode;\r\n                }\r\n\r\n                if(node.parentNode === targetNode){\r\n                    let items = targetNode.childNodes;\r\n                    for(let i = 0; i < items.length; i++){\r\n                        items[i].classList.remove(activeClass);\r\n                    }\r\n                    node.classList.add(activeClass);\r\n                }\r\n            };\r\n\r\n            target.on('click', params.handler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', ext.params.handler);\r\n        }\r\n    });\r\n\r\n}\r\n\r\n","export default function () {\r\n\r\n    Interface.register('Form', [\r\n        'validate()',\r\n        'requireField(field)',\r\n        'submit()',\r\n        'reset()'\r\n    ]);\r\n\r\n    Interface.register('Input', [\r\n        'val(value)',\r\n        'disable()',\r\n        'enable()',\r\n        'focus()',\r\n        'blur()',\r\n        'name(value)',\r\n        'placeholder(value)',\r\n        'required(value)'\r\n    ]);\r\n\r\n    Interface.register('Button', [\r\n        'text(value)',\r\n        'disable()',\r\n        'enable()',\r\n        'focus()',\r\n        'blur()',\r\n        'onClick(handler)'\r\n    ]);\r\n\r\n    Interface.register('Labeled', [\r\n        'label(value)'\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    Interface.register('Spinner', [\r\n        'show()',\r\n        'hide()'\r\n    ]);\r\n\r\n    Interface.register('Calendar', [\r\n        'outputFormat(template)',\r\n        'valueFormat(template)',\r\n        'format(template)',\r\n        'year(value)',\r\n        'month(value)',\r\n        'day(value)',\r\n        'daysInMonth(monthIndex)'\r\n    ]);\r\n\r\n    Interface.register('Tabs', [\r\n        'localization(category)',\r\n        'addTab(label, target)',\r\n        'activeTab(label)',\r\n        'tabByLabel(label)',\r\n        'hideTab(label)',\r\n        'showTab(label)'\r\n    ]);\r\n\r\n    Interface.register('Overlay', [\r\n        'trackProgress(ajax)',\r\n        'setSkeleton(name)',\r\n        'showSkeleton()',\r\n        'hideSkeleton()',\r\n        'close()'\r\n    ]);\r\n\r\n    Interface.register('Alert', [\r\n        'info(title, message, image)',\r\n        'warn(title, message, image)',\r\n        'error(title, message, image)'\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    Interface.register('Identified', [\r\n        'getId()',\r\n        'setId(id)'\r\n    ]);\r\n\r\n    Interface.register('Translated', [\r\n        'translation(field, lang)'\r\n    ]);\r\n\r\n    Interface.register('Progressive', [\r\n        'getProgress()',\r\n        'onComplete(callback)'\r\n    ]);\r\n\r\n    Interface.register('Yes/No', [\r\n        'yes()',\r\n        'no()',\r\n        'onYes(callback)',\r\n        'onNo(callback)',\r\n        'onAnswer(callback)'\r\n    ]);\r\n\r\n    Interface.register('Draggable', [\r\n        'getHandle()',\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    /**\r\n     * Add some localization.\r\n     * Any localization can be replaced using L10n.updateTranslation() or L10n.addTranslation() method one more time.\r\n     */\r\n    L10n.addTranslation('modal', {\r\n        ru: {\r\n            'To top': '',\r\n            'To bottom': '',\r\n            'Loading...': '...'\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Simple modal UI.\r\n     * Styles can be set in the extending UI.\r\n     * Basic styles such as position and size will be set in this UI\r\n     * but can be changed by rendering modal with different parameters.\r\n     * To process custom parameters please redefine applyParams() or onRender() event handler.\r\n     */\r\n    UI.register({\r\n        name : 'Modal',\r\n\r\n        localization: 'modal',\r\n\r\n        translations: {\r\n            label: 'Loading...'\r\n        },\r\n\r\n        scheme : {\r\n            wrap : {\r\n                scrollingButtons : {\r\n                    scrollTopButton : '(text = a)',\r\n                    scrollBottomButton : '(text = b)'\r\n                },\r\n                overlay : {\r\n                    closeButton : '(html = )',\r\n                    progressBar: {\r\n                        label: '',\r\n                        track: {\r\n                            bar: ''\r\n                        }\r\n                    },\r\n                    skeleton: '',\r\n                    content : ''\r\n                }\r\n            }\r\n        },\r\n\r\n        params : {\r\n            width : '15rem',\r\n            height : '6rem',\r\n            scrollingButtons : true, // If true - scrolling buttons will be shown.\r\n            closeOnBlur : true,      // If true - modal will be closed when user clicks outside the modal.\r\n            closeButton : true,      // If true - closing button (cross icon in the top right corner) will be shown.\r\n            skeleton: '',            // Name of the UI that will be displayed during loading process.\r\n\r\n        },\r\n\r\n        methods : {\r\n            /**\r\n             * Applies parameters of the modal.\r\n             * May be redefined in the extending UI to implement custom parameters.\r\n             * @param p {Object}\r\n             * @return {Instance}\r\n             */\r\n            applyParams(p) {\r\n                this.overlay.css({\r\n                    width: p.width,\r\n                    minHeight: p.height\r\n                });\r\n                if(!p.closeButton){\r\n                    this.closeButton.hide();\r\n                }\r\n\r\n                if(!p.scrollingButtons){\r\n                    this.scrollingButtons.hide();\r\n                }else{\r\n                    this.content.on('load', function () {\r\n                        this.UII().updateScrollingButtons();\r\n                    });\r\n\r\n                    this.content.on('renderInside', () => {\r\n                        setTimeout(() => {\r\n                            this.updateScrollingButtons();\r\n                        }, 1000,)\r\n                    });\r\n                }\r\n\r\n                if(p.closeOnBlur === true){\r\n                    this.wrap.on('mousedown', (inst, event) => {\r\n                        modalVeilHandler._x = event.clientX;\r\n                        modalVeilHandler._y = event.clientY;\r\n                    });\r\n                    this.wrap.on('click', modalVeilHandler);\r\n                }\r\n\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Sets name of the skeleton UI.\r\n             * @param name {string}\r\n             */\r\n            setSkeleton(name) {\r\n                this.params().skeleton = name;\r\n            },\r\n\r\n            /**\r\n             * Renders skeleton UI and shows skeleton container.\r\n             * @return {Instance}\r\n             */\r\n            showSkeleton() {\r\n                let ui = UI(this.params().skeleton);\r\n                if (ui !== null && this.skeleton.children().length === 0) {\r\n                    ui.renderTo(this.skeleton);\r\n                }\r\n                this.skeleton.fadeIn(150, 'flex');\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Hides skeleton container.\r\n             * @return {Instance}\r\n             */\r\n            hideSkeleton() {\r\n                this.skeleton.fadeOut();\r\n                return this;\r\n            },\r\n\r\n            trackProgress(ajax) {\r\n                // Show progress bar and set initial value.\r\n                this.bar.css({width: '10%'});\r\n\r\n                this.progressBar.css({display: 'flex', opacity: 1});\r\n\r\n                // Set handler to update progress bar on.\r\n                ajax.on('progress', percents => {\r\n                    let w = percents / 100 * this.track.outerWidth();\r\n                    this.bar.animate({width: w + 'px'}, 100);\r\n                });\r\n\r\n                this.showSkeleton();\r\n\r\n                this.content.css({maxHeight: this.skeleton.outerHeight() + 'px'});\r\n\r\n                // Hide progress bar and show content when request will be completed.\r\n                ajax.on('complete', () => {\r\n                    this.bar.css({boxShadow: '0 0 15px ' + Theme('colors.secondary').alpha(0.25).getValue()});\r\n                    setTimeout(() => {\r\n                        this.progressBar.fadeOut(500);\r\n                        this.content.css({maxHeight: 'initial'});\r\n                        this.hideSkeleton();\r\n                        setTimeout(() => {\r\n                            this.progressBar.hide();\r\n                        }, 500);\r\n                    }, 250);\r\n                });\r\n\r\n                // Handle ajax errors to properly inform user about it.\r\n                ajax.on('error', (code, event) => {\r\n                    if(event.defaultPrevented){\r\n                        return;\r\n                    }\r\n                    event.preventDefault();\r\n                    this.content.removeChildren();\r\n                    if(code === 404) {\r\n                        UI('Not found message').renderTo(this.content);\r\n                    }else if(code === 403){\r\n                        UI('Forbidden message').renderTo(this.content);\r\n                    }else if(code === 500){\r\n                        UI('Server error message').renderTo(this.content);\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Hides overlay and removes it after animation ends.\r\n             * @return {Instance}\r\n             */\r\n            hide() {\r\n                this.overlay.css({\r\n                    transform: 'scale(1)'\r\n                });\r\n                this.wrap.css({\r\n                    transition: '0.15s'\r\n                });\r\n                setTimeout(() => {\r\n                    this.wrap.removeClass('shown');\r\n                    this.overlay.css({transform: 'scale(1.2)'});\r\n                    this.triggerEvent('hide');\r\n                    this.triggerEvent('close');\r\n                    setTimeout(() => {\r\n                        this.remove();\r\n                    }, 150);\r\n                }, 25);\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Synonym of hide() method.\r\n             * @return {Instance}\r\n             * @see hide()\r\n             */\r\n            close() {\r\n                this.hide();\r\n            },\r\n\r\n            /**\r\n             * Scrolls modal to the bottom.\r\n             * @return {Instance}\r\n             */\r\n            scrollBottom() {\r\n                let p = this.params(),\r\n                    inst = this,\r\n                    initial = this.wrap.scrollTop();\r\n                if(p.ani !== undefined) p.ani.stop();\r\n                p.ani = new Animation({duration: 1000});\r\n                p.ani.run(function (k) {\r\n                    inst.wrap.scrollTop( initial + (inst.wrap.scrollHeight() - inst.wrap.outerHeight() - initial) * k);\r\n                });\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Scrolls modal to the top.\r\n             * @return {Instance}\r\n             */\r\n            scrollTop() {\r\n                let p = this.params(),\r\n                    inst = this,\r\n                    initial = this.wrap.scrollTop();\r\n                if(p.ani !== undefined) p.ani.stop();\r\n                p.ani = new Animation({duration: 1000});\r\n\r\n                p.ani.run(function (k) {\r\n                    inst.wrap.scrollTop(initial + (0 - initial)*k);\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Updates buttons depending on the modal height.\r\n             * @return {Instance}\r\n             */\r\n            updateScrollingButtons() {\r\n                if(this.wrap.scrollHeight() <= this.wrap.outerHeight()){\r\n                    this.scrollingButtons.hide();\r\n                }else{\r\n                    this.scrollingButtons.show('flex');\r\n                }\r\n                return this;\r\n            }\r\n        },\r\n\r\n        onRender(inst, params) {\r\n            // Apply given parameters.\r\n            inst.applyParams(params);\r\n\r\n            // Keep transform origin in center according to the scroll position.\r\n            inst.wrap.addEventListener('scroll', function(inst){\r\n                let p = this.__.node.scrollTop / (this.__.node.scrollHeight - this.__.node.offsetHeight) * 100;\r\n                inst.overlay.css({transformOrigin : 'center ' + parseInt(p) + '%'});\r\n            });\r\n\r\n            // Reset transform to the initial value to prevent invalid\r\n            // positioning of the elements inside modal (fixed position works as absolute\r\n            // inside transformed container).\r\n            setTimeout(function(){\r\n                inst.wrap.addClass('shown');\r\n                setTimeout(function(){\r\n                    inst.overlay.css({transform: 'initial'});\r\n                }, 250);\r\n            }, 50);\r\n\r\n            inst.closeButton.on('click', modalCloseBtnHandler);\r\n            inst.scrollTopButton.on('click', inst => inst.scrollTop());\r\n            inst.scrollBottomButton.on('click', inst => inst.scrollBottom());\r\n        },\r\n\r\n        // Force to load data directly into the content element.\r\n        onLoad(inst, data, event) {\r\n            event.preventDefault();\r\n            inst.content.load(data);\r\n        },\r\n\r\n        // Some basic styles.\r\n        styles : {\r\n            '@media print': {\r\n                '.overlay': {\r\n                    boxShadow: 'none'\r\n                }\r\n            },\r\n\r\n            wrap : {\r\n                display : 'flex',\r\n                position : 'fixed',\r\n                flexDirection : 'column',\r\n                top : 0,\r\n                left : 0,\r\n                width : '100%',\r\n                height : '100%',\r\n                backgroundColor : 'transparent',\r\n                justifyContent : 'flex-start',\r\n                alignItems : 'center',\r\n                overflowY : 'auto',\r\n                zIndex : 1000,\r\n                transition : '0.75s',\r\n\r\n                '.shown' : {\r\n                    backgroundColor : 'rgba(0,0,0,0.25)'\r\n                },\r\n\r\n                '.shown > div' : {\r\n                    opacity : 1,\r\n                    transform : 'scale(1)'\r\n                },\r\n\r\n                scrollingButtons : {\r\n                    display: 'none',\r\n                    flexDirection: 'column',\r\n                    width: '50%',\r\n                    height: '100%',\r\n                    position: 'fixed',\r\n                    right: '9px',\r\n                    top: 0,\r\n\r\n                    ' > *' : {\r\n                        display: 'flex',\r\n                        width: '100%',\r\n                        height: '50%',\r\n                        justifyContent: 'flex-end',\r\n                        color: 'rgba(255,255,255,0.75)',\r\n                        padding: '0.5rem 1rem',\r\n                        fontSize: '1.8rem',\r\n                        fontWeight: 600,\r\n                        fontFamily: 'Icons, sans-serif',\r\n                        transition: '0.25s'\r\n                    },\r\n\r\n                    scrollTopButton : {\r\n                        cursor: 'default',\r\n                        alignItems: 'flex-end',\r\n                        backgroundImage: 'linear-gradient(-45deg, rgba(0, 0, 0, 0.15) 7%, rgba(0, 0, 0, 0.05) 7%, rgba(0, 0, 0, 0.05) 10%, transparent 10%)'\r\n                    },\r\n\r\n                    scrollBottomButton : {\r\n                        cursor: 'default',\r\n                        backgroundImage: 'linear-gradient(-135deg, rgba(0, 0, 0, 0.15) 7%, rgba(0, 0, 0, 0.05) 7%, rgba(0, 0, 0, 0.05) 10%, transparent 10%)'\r\n                    },\r\n\r\n                    ' > *:hover' : {\r\n                        backgroundColor: 'rgba(0,0,0,0.12)'\r\n                    }\r\n                },\r\n\r\n                overlay : {\r\n                    display : 'flex',\r\n                    flexDirection : 'column',\r\n                    minWidth : '10rem',\r\n                    maxWidth : 'calc(100% - 2rem)',\r\n                    minHeight : '6rem',\r\n                    backgroundColor : '#ffffff',\r\n                    borderRadius: Theme('overlay.borderRadius').default('0.15rem'),\r\n                    margin : '1rem 0',\r\n                    flexShrink : 0,\r\n                    flexGrow : 0,\r\n                    transform : 'scale(1.2)',\r\n                    opacity : 0,\r\n                    transition : '0.15s',\r\n                    boxShadow : '0 0 1rem rgba(0,0,0,0.25)',\r\n                    position : 'relative',\r\n                    transformOrigin : 'center top',\r\n                    overflow: 'hidden',\r\n\r\n                    progressBar: {\r\n                        display: 'none',\r\n                        flexDirection: 'column',\r\n                        justifyContent: 'flex-start',\r\n                        alignItems: 'center',\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        position: 'absolute',\r\n                        left: 0,\r\n                        top: 0,\r\n                        zIndex: 100000,\r\n\r\n                        label: {\r\n                            fontWeight: 300,\r\n                            marginBottom: '0.5rem',\r\n                            color: '#555',\r\n                            fontSize: '0.85rem',\r\n                            marginTop: '3rem',\r\n                            display: 'none'\r\n                        },\r\n\r\n                        track: {\r\n                            width: '100%',\r\n                            height: '0.25rem',\r\n                            backgroundColor: '#ddd',\r\n\r\n                            bar: {\r\n                                width: 0,\r\n                                height: '0.25rem',\r\n                                backgroundColor: Theme('colors.secondary'),\r\n                                transition: '0.15s'\r\n                            }\r\n                        }\r\n                    },\r\n\r\n                    '> .buttons' : {\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-end',\r\n                        padding: '0.6rem',\r\n                        backgroundColor: Theme('colors.lightestGray')\r\n                    },\r\n\r\n                    skeleton: {\r\n                        width: '100%',\r\n                        display: 'none',\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        backgroundColor: '#fff',\r\n                        minWidth: '20rem',\r\n                        zIndex: 99999\r\n                    },\r\n\r\n                    content : {\r\n                        display : 'flex',\r\n                        flexDirection : 'column',\r\n                        overflow : 'hidden',\r\n                        transition : '0.15s'\r\n                    },\r\n\r\n                    closeButton : {\r\n                        display : 'flex',\r\n                        justifyContent : 'center',\r\n                        alignItems : 'center',\r\n                        width : '2.5rem',\r\n                        lineHeight : '2.5rem',\r\n                        height : '2.5rem',\r\n                        position : 'absolute',\r\n                        top : 0,\r\n                        right : 0,\r\n                        cursor : 'default',\r\n                        zIndex: 5000,\r\n\r\n                        ':hover' : {\r\n                            backgroundColor : 'rgba(0,0,0,0.05)'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    function modalCloseBtnHandler(overlay) {\r\n        overlay.close();\r\n    }\r\n\r\n    function modalVeilHandler(overlay, e) {\r\n        if ( Math.abs(e.clientX - modalVeilHandler._x) > 50 || Math.abs(e.clientY - modalVeilHandler._y) > 50) {\r\n            return;\r\n        }\r\n        if(e.target !== overlay.wrap.__.node) return;\r\n        overlay.close();\r\n    }\r\n\r\n    modalVeilHandler._x = 0;\r\n    modalVeilHandler._y = 0;\r\n}\r\n","export default function () {\r\n\r\n    /**\r\n     * Simple tabs UI.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs',\r\n\r\n        scheme: {\r\n            wrap: {\r\n                labels: '|Tabs / Label',\r\n                contents: '|Tabs / Content'\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            /**\r\n             * Adds new tab with given label.\r\n             * @param label {string}\r\n             * @param [content] {Element}\r\n             * @return {Instance}\r\n             */\r\n            addTab(label, content) {\r\n                if (content === undefined) {\r\n                    content = this.contents.addOne().getRootElement();\r\n                }\r\n                let tab = this.labels.addOne({label: label});\r\n                tab.getRootElement().applyExtension('Tab', {\r\n                    label: label,\r\n                    content: content\r\n                });\r\n                this.activateTab(0);\r\n                return tab;\r\n            },\r\n\r\n            /**\r\n             * Removes tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            removeTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab === null) return this;\r\n                tab.getLabel().removeExtension('Tab');\r\n                if (tab.getLabel().hasClass('active')) {\r\n                    this.activateTab(0);\r\n                }\r\n                tab.remove();\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Hides tab with given label.\r\n             * If tab was active - activates first tab.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            hideTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                let nextTabIndex = 0;\r\n                if (this.getTabByIndex(0) === tab) {\r\n                    nextTabIndex = 1;\r\n                }\r\n                if (tab === null) return this;\r\n                if (tab.getLabel().hasClass('active')) {\r\n                    this.activateTab(nextTabIndex);\r\n                }\r\n                tab.getLabel().hide();\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Shows tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            showTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab === null) return this;\r\n                tab.getLabel.show('flex');\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Returns content element for the tab with given label.\r\n             * If tab with this label is absent - null will be returned.\r\n             * @param label {string}\r\n             * @return {Element|null}\r\n             */\r\n            getContentFor(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab !== null) {\r\n                    return tab.getContent();\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Hides all contents without any animation.\r\n             */\r\n            hideAllContents() {\r\n                let items = this.contents.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].getRootElement().hide();\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Removes active class from the all tabs labels.\r\n             */\r\n            deactivateAllLabels() {\r\n                let items = this.labels.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].getRootElement().removeClass('active');\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Returns tab with the given label.\r\n             * If tab with this label is absent - null will be returned.\r\n             * @param label {string}\r\n             * @return {Instance|null}\r\n             */\r\n            getTabByLabel(label) {\r\n                let tabs = this.labels.children();\r\n                for (let i = 0; i < tabs.length; i++) {\r\n                    if (tabs[i].params().label === label) {\r\n                        return tabs[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Returns tab with given index.\r\n             * @param index\r\n             * @return {null}\r\n             */\r\n            getTabByIndex(index) {\r\n                let tabs = this.labels.children();\r\n                for (let i = 0; i < tabs.length; i++) {\r\n                    if (i === index) {\r\n                        return tabs[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Returns tab with the given label/index.\r\n             * @param labelOrIndex {string|number}\r\n             * @return {Instance|null}\r\n             */\r\n            getTab(labelOrIndex) {\r\n                let tab = this.getTabByLabel(labelOrIndex);\r\n                if (tab === null) {\r\n                    tab = this.getTabByIndex(labelOrIndex);\r\n                }\r\n                return tab;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            activateTabByLabel(label) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with given index.\r\n             * Indexing begins from zero.\r\n             * @param index {number}\r\n             * @return {Instance}\r\n             */\r\n            activateTabByIndex(index) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTabByIndex(index);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with the given label or index without any animation.\r\n             * Indexing begins from zero.\r\n             * @param labelOrIndex {string|number}\r\n             * @return {Instance}\r\n             */\r\n            activateTab(labelOrIndex) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTab(labelOrIndex);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Removes all tabs with their contents.\r\n             * @return {Instance}\r\n             */\r\n            removeAllTabs() {\r\n                let items = this.contents.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].remove();\r\n                }\r\n                return this;\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Label represents handle for the tab content.\r\n     * Contains two methods: getLabel() and getContent() that returns elements for label and content.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs / Label',\r\n\r\n        scheme: {\r\n            wrap: ''\r\n        },\r\n\r\n        params: {\r\n            label: ''\r\n        },\r\n\r\n        methods: {\r\n            /**\r\n             * Returns label element.\r\n             * @return {Element}\r\n             */\r\n            getLabel() {\r\n                return this.wrap;\r\n            },\r\n\r\n            /**\r\n             * Returns content element.\r\n             * @return {Element}\r\n             */\r\n            getContent() {\r\n                return this.wrap.extension('Tab').params.content;\r\n            }\r\n        },\r\n\r\n        onRender(inst, params) {\r\n            inst.wrap.text(params.label);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Label represents content of the tab.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs / Content',\r\n\r\n        scheme: {\r\n            wrap: ''\r\n        }\r\n    });\r\n\r\n}","export default function registerDefaultTheme() {\r\n\r\n    Theme.register('Default', {\r\n        colors: {\r\n\r\n        },\r\n        fonts: {\r\n\r\n        }\r\n    });\r\n\r\n}","export default function registerDarkTheme() {\r\n\r\n    Theme.register('Dark', {\r\n        colors: {\r\n\r\n        },\r\n        fonts: {\r\n\r\n        }\r\n    });\r\n\r\n}\r\n\r\n","export default function registerLightTheme() {\r\n\r\n    Theme.register('Light', {\r\n        colors: {},\r\n        fonts: {}\r\n    });\r\n\r\n}","/**\r\n *         Animation\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n *\r\n * Animation is an object that calculates state changing\r\n * during period of the time.\r\n *\r\n * To start animation simply call run() method using callback function\r\n * as argument.\r\n *\r\n * On each step coefficient from 0 to 1 will be calculated and\r\n * passed to the callback function.\r\n *\r\n * To stop animation stop() method should be called or [[stopped]] property\r\n * can be set to true.\r\n *\r\n * @class\r\n * @param {object} options\r\n */\r\nexport default class Animation {\r\n    constructor(options){\r\n        let duration = typeof options === 'number' ? options : 250;\r\n        if(typeof options !== 'object') {\r\n            options = {};\r\n        }\r\n        this.start = options.start || 0;\r\n        this.end = options.end || 1;\r\n        this.duration = options.duration || duration;\r\n        this.f = options.f || 'easeOutQuad';\r\n        this.callback = options.callback;\r\n        this.stopped = false;\r\n    }\r\n\r\n    /**\r\n     * Runs animation.\r\n     * @param {function} callback\r\n     */\r\n    run (callback) {\r\n        let t_start = performance.now();\r\n        let dur = this.duration;\r\n\r\n        let step = () => {\r\n            if (this.stopped) return;\r\n            let t = performance.now();\r\n            let n = t - t_start;\r\n            let state = n / this.duration;\r\n\r\n            let k = f[this.f](state, n, 0, 1, this.duration);\r\n\r\n            if (typeof callback === 'function') {\r\n                callback(k);\r\n            }\r\n\r\n            if (t < t_start + dur) {\r\n                requestAnimationFrame(step);\r\n            } else if (k !== 1) {\r\n                if (typeof callback === 'function') {\r\n                    callback(1, true);\r\n                }\r\n            }\r\n        };\r\n        step();\r\n    }\r\n\r\n    /**\r\n     * Stops the animation.\r\n     */\r\n    stop () {\r\n        this.stopped = true;\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Animation functions.\r\n */\r\nlet f = {\r\n    default: 'easeOutQuad',\r\n    swing: function (x, t, b, c, d) {\r\n        return f[f.default](x, t, b, c, d);\r\n    },\r\n    easeInQuad: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t + b;\r\n    },\r\n    easeOutQuad: function (x, t, b, c, d) {\r\n        return -c * (t /= d) * (t - 2) + b;\r\n    },\r\n    easeInOutQuad: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t + b;\r\n        return -c / 2 * ((--t) * (t - 2) - 1) + b;\r\n    },\r\n    easeInCubic: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t + b;\r\n    },\r\n    easeOutCubic: function (x, t, b, c, d) {\r\n        return c * ((t = t / d - 1) * t * t + 1) + b;\r\n    },\r\n    easeInOutCubic: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\r\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\r\n    },\r\n    easeInQuart: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t * t + b;\r\n    },\r\n    easeOutQuart: function (x, t, b, c, d) {\r\n        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\r\n    },\r\n    easeInOutQuart: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\r\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n    },\r\n    easeInQuint: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t * t * t + b;\r\n    },\r\n    easeOutQuint: function (x, t, b, c, d) {\r\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n    },\r\n    easeInOutQuint: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\r\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\r\n    },\r\n    easeInSine: function (x, t, b, c, d) {\r\n        return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\r\n    },\r\n    easeOutSine: function (x, t, b, c, d) {\r\n        return c * Math.sin(t / d * (Math.PI / 2)) + b;\r\n    },\r\n    easeInOutSine: function (x, t, b, c, d) {\r\n        return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\r\n    },\r\n    easeInExpo: function (x, t, b, c, d) {\r\n        return (t === 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\r\n    },\r\n    easeOutExpo: function (x, t, b, c, d) {\r\n        return (t === d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\r\n    },\r\n    easeInOutExpo: function (x, t, b, c, d) {\r\n        if (t === 0) return b;\r\n        if (t === d) return b + c;\r\n        if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\r\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n    },\r\n    easeInCirc: function (x, t, b, c, d) {\r\n        return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\r\n    },\r\n    easeOutCirc: function (x, t, b, c, d) {\r\n        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\r\n    },\r\n    easeInOutCirc: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\r\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\r\n    },\r\n    easeInElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d) === 1) return b + c;\r\n        if (!p) p = d * .3;\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\r\n    },\r\n    easeOutElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d) === 1) return b + c;\r\n        if (!p) p = d * .3;\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\r\n    },\r\n    easeInOutElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d / 2) === 2) return b + c;\r\n        if (!p) p = d * (.3 * 1.5);\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\r\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\r\n    },\r\n    easeInBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n    },\r\n    easeOutBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n    },\r\n    easeInOutBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\r\n        return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\r\n    },\r\n    easeInBounce: function (x, t, b, c, d) {\r\n        return c - f.easeOutBounce(x, d - t, 0, c, d) + b;\r\n    },\r\n    easeOutBounce: function (x, t, b, c, d) {\r\n        if ((t /= d) < (1 / 2.75)) {\r\n            return c * (7.5625 * t * t) + b;\r\n        } else if (t < (2 / 2.75)) {\r\n            return c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\r\n        } else if (t < (2.5 / 2.75)) {\r\n            return c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\r\n        } else {\r\n            return c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\r\n        }\r\n    },\r\n    easeInOutBounce: function (x, t, b, c, d) {\r\n        if (t < d / 2) return f.easeInBounce(x, t * 2, 0, c, d) * .5 + b;\r\n        return f.easeOutBounce(x, t * 2 - d, 0, c, d) * .5 + c * .5 + b;\r\n    }\r\n};","/**       Settings\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * Settings object stores options which are used by the framework like RegExp used for parsing, etc.\r\n * To change some settings it's necessary to use setters which are defined in this section.\r\n * If you're going to add some settings, please implement setters for it.\r\n * For handling errors - write your own exception.\r\n * Settings object is not available as property of exported object. It's private.\r\n *\r\n * Available settings:\r\n * regexp_... - RegExp used for parsing scheme rules. Setter - setParsingRule().\r\n * If you implements your own settings - add it below.\r\n */\r\n\r\n\r\nlet Settings = {\r\n    // Regular expressions.\r\n    regexp_id: /#\\w+[_\\-\\w]*/ig,\r\n    regexp_tagName: /@\\w+[_\\-\\w]*/ig,\r\n    regexp_class: /\\.\\w+[_\\-\\w\\s\\d]*/ig,\r\n    regexp_attribute: /\\[(\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\]/ig,\r\n    regexp_property: /\\((\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\)/ig,\r\n    regexp_params: /\\{(\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[#\\(\\),/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\}/ig,\r\n    regexp_childUI: /\\|\\s*\\w*[_\\-\\w\\s/]+[_\\-\\w\\d\\s]*/ig,\r\n    regexp_include: /<<<\\s*\\w*[/_\\-\\w\\s]+[/_\\-\\w\\d\\s]*/ig,\r\n\r\n    // Flag if development mode is enabled.\r\n    // In this mode all interfaces will be checked so app can run a little bit slowly.\r\n    devMode: true,\r\n\r\n    // Flat that indicates whether logging is enabled.\r\n    logging: true\r\n};\r\n\r\nexport default Settings;\r\n\r\n/**\r\n * Setter of the rules parsing RegExp.\r\n * @param subjectOrRules (string)\r\n * @param regularExpression (RegExp | Object)\r\n * @throws InvalidParsingRuleException\r\n *\r\n * Example: UIBuilder.setParsingRule('include', /~\\w*[_-\\w\\s]+/ig);\r\n */\r\nSettings.setParsingRule = function (subjectOrRules, regularExpression) {\r\n    if (typeof subjectOrRules === 'string') {\r\n\r\n        if (!Settings.hasOwnProperty('regexp_' + subjectOrRules))\r\n            throw new SettingsException('Rule \"' + subjectOrRules + '\" is absent in the settings.');\r\n\r\n        if (a.constructor !== RegExp)\r\n            throw new SettingsException('Trying to assign '\r\n                + typeof regularExpression + ' as parsing regular expression for ' + subjectOrRules + '.'\r\n            );\r\n\r\n        Settings['regexp_' + subjectOrRules] = regularExpression;\r\n\r\n\r\n    } else if (typeof subjectOrRules === 'object') {\r\n\r\n        for (let p in subjectOrRules) {\r\n\r\n            if (Settings.hasOwnProperty('regexp_' + p)) {\r\n                if (a.constructor !== RegExp)\r\n                    throw new SettingsException('Trying to assign '\r\n                        + typeof regularExpression + ' as parsing regular expression for '\r\n                        + subjectOrRules + '.'\r\n                    );\r\n\r\n                if(subjectOrRules.hasOwnProperty(p)){\r\n                    Settings['regexp_' + p] = subjectOrRules[p];\r\n                }\r\n\r\n            } else {\r\n                throw new SettingsException('Rule \"' + p + '\" is absent in the settings.');\r\n            }\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Disables logging if false given.\r\n * @param {boolean} enable\r\n */\r\nSettings.enableLogging = function (enable) {\r\n    Settings.logging = enable !== false;\r\n};","// Registry that stores registered UIExtending.\r\n// Don't implement any other logic here cause this file is just a simple storage.\r\n\r\n/**\r\n * Private variable that holds registered UIs as properties where property name is an UI name.\r\n * @type {{UI}}\r\n * @private\r\n */\r\nlet _extendings = {};\r\n\r\n\r\nlet extendingsRegistry = {\r\n    /**\r\n     * Adds UI with the given name to the registry.\r\n     * @param {string} name\r\n     * @param {UIExtending} extending\r\n     */\r\n    add (name, extending) {\r\n        _extendings[name] = extending;\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns Extending by name if it's already registered.\r\n     * If Extending is not registered yet - null will be returned.\r\n     * @param name\r\n     * @returns {null}\r\n     */\r\n    get (name) {\r\n        return _extendings.hasOwnProperty(name) ? _extendings[name] : null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Deletes Extending with the given name.\r\n     * @param name\r\n     */\r\n    delete (name) {\r\n        delete _extendings[name];\r\n    }\r\n};\r\n\r\n\r\nexport default extendingsRegistry;\r\n","// Registry that stores registered UI.\r\n// This registry additionally resolves extendings.\r\n\r\nimport extendingsRegistry from './extendings-registry';\r\n\r\n/**\r\n * Private variable that holds registered UIs as properties where property name is an UI name.\r\n * @type {{UI}}\r\n * @private\r\n */\r\nlet _uis = {};\r\n\r\n\r\nlet uiRegistry = {\r\n    /**\r\n     * Adds UI with the given name to the registry.\r\n     * @param {string} name\r\n     * @param {UI} ui\r\n     */\r\n    add (name, ui) {\r\n        _uis[name] = ui;\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns UI by name if it's already registered.\r\n     * If UI is not registered yet - null will be returned.\r\n     * @param name\r\n     * @returns {UI|null}\r\n     */\r\n    get (name) {\r\n        let ui = _uis.hasOwnProperty(name) ? _uis[name] : null;\r\n        if(ui === null){\r\n            let extending = extendingsRegistry.get(name);\r\n            if(extending !== null){\r\n                _uis[name] = extending.extend();\r\n                extendingsRegistry.delete(name);\r\n                return _uis[name];\r\n            }\r\n            return null;\r\n        }\r\n        return ui;\r\n    },\r\n\r\n    /**\r\n     * Returns all uis.\r\n     * @return {{UI}}\r\n     */\r\n    getAll() {\r\n        return _uis;\r\n    },\r\n\r\n    remove(name) {\r\n        delete _uis[name];\r\n    }\r\n};\r\n\r\n\r\nexport default uiRegistry;\r\n","import {error} from '../utils/logging';\r\n\r\n/**\r\n * Holds all registered styles.\r\n * The key is namespace including UI name and value is\r\n * an object with styles.\r\n */\r\nlet styles = {};\r\n\r\n\r\n\r\nlet stylesRegistry = {\r\n    add(namespace, stylesObj) {\r\n        if (styles.hasOwnProperty(namespace)) {\r\n            error('Styles with namespace ' + namespace + ' already exists.');\r\n            return;\r\n        }\r\n        styles[namespace] = stylesObj;\r\n    },\r\n\r\n    get(namespace) {\r\n        return styles.hasOwnProperty(namespace) ? styles[namespace] : {};\r\n    }\r\n};\r\n\r\n\r\nexport default stylesRegistry;\r\n\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport Instance from './instance';\r\nimport interfaceManager from './interface';\r\nimport {extendObject, cloneSimpleObject} from '../utils/object-utils';\r\nimport {cloneSchemeLinear} from '../utils/ui-utils';\r\n\r\n\r\n/**\r\n * Class that represents UI extending.\r\n * It must be implemented as class because all UIs can be registered in any sequence.\r\n * So we will provide functionality to resolve extending when extending UI is needed by developer.\r\n */\r\nexport default class UIExtending\r\n{\r\n    /**\r\n     * Stores all necessary data that will be used later when extending will be resolved.\r\n     * @param extendingUI\r\n     * @param extendedUIName\r\n     * @param options\r\n     */\r\n    constructor (extendingUI, extendedUIName, options) {\r\n        this.extendingUI = extendingUI;\r\n        this.extendedUIName = extendedUIName;\r\n        this.options = options;\r\n    }\r\n\r\n\r\n    /**\r\n     * Completes UI extending and UI that makes extending.\r\n     * @returns {UI}\r\n     */\r\n    extend () {\r\n        let extendedUI = uiRegistry.get(this.extendedUIName);\r\n        if(extendedUI === null){\r\n            throw new UIRegistrationException('UI which be extended is not found.');\r\n        }\r\n\r\n        let extendingUI = this.extendingUI;\r\n        let options = this.options;\r\n\r\n        if(!options.hasOwnProperty('scheme')) options.scheme = {};\r\n        if(!options.hasOwnProperty('rules')) options.rules = {};\r\n        if(!options.hasOwnProperty('styles')) options.styles = {};\r\n        if(!options.hasOwnProperty('translations')) options.translations = {};\r\n        if(!options.hasOwnProperty('params')) options.params = {};\r\n\r\n        extendingUI.uiiConstructor = extendedUI.uiiConstructor;\r\n        extendingUI.elements       = {};\r\n        extendingUI.scheme         = extendObject(options.scheme, cloneSimpleObject(extendedUI.scheme));\r\n        extendingUI.rules          = extendObject(options.rules, cloneSimpleObject(extendedUI.rules));\r\n        extendingUI.translations   = extendObject(options.translations, cloneSimpleObject(extendedUI.translations));\r\n        extendingUI.css            = extendObject(options.styles, cloneSimpleObject(extendedUI.css));\r\n        extendingUI.params         = extendObject(options.params, cloneSimpleObject(extendedUI.params));\r\n        extendingUI.localization   = options.hasOwnProperty('localization') ? options.localization : extendedUI.localization;\r\n        extendingUI.cssLoaded      = false;\r\n\r\n        extendingUI.__.events      = cloneSimpleObject(extendedUI.__.events);\r\n        extendingUI.__.styleNode   = null;\r\n        extendingUI.__.data        = options.hasOwnProperty('data') ? options.data : null;\r\n        extendingUI.__.url         = null;\r\n\r\n        // Define instance constructor to implement methods.\r\n        extendingUI.uiiConstructor = !options.hasOwnProperty('methods') ? extendedUI.uiiConstructor : (function(){\r\n            function AnotherInstance(options){\r\n                Instance.call(this, options);\r\n            }\r\n            AnotherInstance.prototype = Object.create(extendedUI.uiiConstructor.prototype);\r\n            AnotherInstance.prototype.constructor = Instance;\r\n            for(let p in options.methods){\r\n                if(options.methods.hasOwnProperty(p) && typeof options.methods[p] === 'function' && !Instance.prototype.hasOwnProperty(p)){\r\n                    AnotherInstance.prototype[p] = options.methods[p];\r\n                }\r\n            }\r\n\r\n            extendingUI.__.implements = interfaceManager.detectInterfacesFor(options.methods);\r\n            return AnotherInstance;\r\n        })();\r\n\r\n        // Parameters to be used on rendering.\r\n        if(options.hasOwnProperty('parameters')){\r\n            extendingUI.__.params = extendObject(options.parameters, cloneSimpleObject(extendedUI.__.params));\r\n        }else if(options.hasOwnProperty('params')){\r\n            extendingUI.__.params = extendObject(options.params, cloneSimpleObject(extendedUI.__.params));\r\n        }\r\n\r\n        // Clone all elements from scheme to 'elements' property.\r\n        cloneSchemeLinear(extendingUI.scheme, extendingUI.elements);\r\n\r\n        // Override rules property for the elements if they are defined separately from the scheme.\r\n        for(let p in extendingUI.elements){\r\n            if(extendingUI.elements.hasOwnProperty(p) && extendingUI.rules.hasOwnProperty(p) && extendingUI.elements[p].rules === ''){\r\n                extendingUI.elements[p].rules = extendingUI.rules[p];\r\n            }\r\n        }\r\n\r\n        // Add necessary event listeners.\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && p.slice(0, 2) === 'on' && typeof options[p] === 'function') {\r\n                extendingUI.addEventListener(p.slice(2), options[p]);\r\n            }\r\n        }\r\n\r\n        return extendingUI;\r\n    }\r\n}\r\n\r\n","import addEventsMethods from '../utils/events-methods';\r\nimport {error} from '../utils/logging';\r\n\r\n/**\r\n * Namespace used to union few UIs into one logic part.\r\n *\r\n * Example:\r\n *\r\n * UI.register({\r\n *     namespace: 'UBP/chat',\r\n *\r\n *     name: 'Panel',\r\n *\r\n *     onRender(inst, params) {\r\n *         this.channel.triggerEvent('render');\r\n *\r\n *\r\n *     }\r\n * });\r\n */\r\n\r\n\r\nlet namespaces = {};\r\n\r\n\r\nexport default class Namespace\r\n{\r\n    constructor(name) {\r\n        if (namespaces.hasOwnProperty(name)) {\r\n            error('Namespace \"' + name + '\" already exists.')\r\n        }\r\n\r\n        this.name = name;\r\n\r\n        // Create events channel for the namespace.\r\n        this.channel = {};\r\n        addEventsMethods(this.channel);\r\n\r\n        namespaces[name] = this;\r\n    }\r\n}\r\n\r\n\r\nNamespace.exists = function(name) {\r\n    return namespaces.hasOwnProperty(name);\r\n};\r\n\r\n\r\nNamespace.getOrCreate = function (name) {\r\n    return namespaces.hasOwnProperty(name)\r\n        ? namespaces[name]\r\n        : new Namespace(name);\r\n};","import {cloneSchemeLinear, buildScheme, filterUIParameterValue} from '../utils/ui-utils';\r\nimport {cloneSimpleObject} from '../utils/object-utils';\r\nimport {InvalidSchemeException} from '../utils/exceptions';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport {error} from '../utils/logging';\r\nimport Element from './element';\r\nimport Instance from './instance';\r\nimport cssGenerator from './css-generator';\r\nimport Extending from './extending';\r\nimport interfaceManager from './interface';\r\nimport uiRegistry from '../registries/ui-registry';\r\nimport extendingsRegistry from '../registries/extendings-registry';\r\nimport Namespace from './namespace';\r\n\r\n/**\r\n * @class\r\n * @method addEventListener(eventName, handler)\r\n * @method on(eventName, handler)\r\n * @method triggerEvent(eventName, options)\r\n */\r\nexport default class UI\r\n{\r\n    constructor (options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        this.namespace = options.namespace || null;\r\n\r\n        // Create events channel for the ui or its namespace.\r\n        if (this.namespace === null) {\r\n            this.channel = {};\r\n            addEventsMethods(this.channel);\r\n        } else {\r\n            this.channel = Namespace.getOrCreate(options.namespace).channel;\r\n        }\r\n\r\n        this.elements     = {};\r\n        this.scheme       = options.hasOwnProperty('scheme') ? options.scheme : {};\r\n        this.rules        = options.hasOwnProperty('rules') ? options.rules : {};\r\n        this.prefix       = options.hasOwnProperty('prefix') ? options.prefix : '';\r\n        this.name         = options.hasOwnProperty('name') ? options.name : '';\r\n        this.css          = options.hasOwnProperty('css') ? options.css : null;\r\n\r\n        // Object that holds information about dependencies.\r\n        this.dependencies = {};\r\n\r\n        this.localization = options.hasOwnProperty('localization') ? options.localization : null;\r\n        this.translations = options.hasOwnProperty('translations') ? options.translations : {};\r\n\r\n        this.css          = options.css || options.styles || {};\r\n        this.cssLoaded    = false;\r\n\r\n        if (typeof this.scheme !== 'object'){\r\n            throw new InvalidSchemeException('Scheme must be an object. ' + typeof this.scheme + ' given.');\r\n        }\r\n\r\n        // Define service property that encapsulates hidden data.\r\n        this.__ = {};\r\n\r\n        // Add some properties for the events supporting.\r\n        this.__.dispatchers = {};\r\n        this.__.events    = {};\r\n        this.__.eventsTimeouts = {};\r\n\r\n        this.__.implements = [];\r\n\r\n        this.__.styleNode = null;\r\n        this.__.data      = options.hasOwnProperty('data') ? options.data : null;\r\n        this.__.url       = null;\r\n        this.__.params    = options.params || options.parameters || {};\r\n\r\n        if (options.hasOwnProperty('methods')) {\r\n\r\n            // Detect which interfaces this scheme implements.\r\n            this.__.implements = interfaceManager.detectInterfacesFor(options.methods);\r\n\r\n            // Add UI to the interfaces implementations.\r\n            for (let i = 0; i < this.__.implements.length; i++) {\r\n                interfaceManager.addImplementation(this.__.implements[i], this);\r\n            }\r\n\r\n            // Define instance constructor to implement methods.\r\n            this.uiiConstructor = (function(){\r\n                function AnotherInstance(options){\r\n                    Instance.call(this, options);\r\n                }\r\n                AnotherInstance.prototype = Object.create(Instance.prototype);\r\n                AnotherInstance.prototype.constructor = Instance;\r\n                for(let p in options.methods){\r\n                    if(options.methods.hasOwnProperty(p)){\r\n                        if(typeof options.methods[p] === 'function' && !Instance.prototype.hasOwnProperty(p)){\r\n                            AnotherInstance.prototype[p] = options.methods[p];\r\n                        }\r\n                    }\r\n                }\r\n                return AnotherInstance;\r\n            })();\r\n        }else{\r\n            this.uiiConstructor = Instance;\r\n        }\r\n\r\n\r\n        // Clone all elements from scheme to 'elements' object.\r\n        cloneSchemeLinear(this.scheme, this.elements);\r\n\r\n        if (options.hasOwnProperty('dependencies')) {\r\n            let deps = options.dependencies;\r\n            for (let p in deps) {\r\n                // Skip dependency if element with given key is absent in the scheme.\r\n                if (!this.elements.hasOwnProperty(p)) {\r\n                    continue;\r\n                }\r\n\r\n                if (Array.isArray(deps[p])) {\r\n                    this.dependencies[p] = deps[p];\r\n                }else if(typeof deps[p] === 'string') {\r\n                    let d = deps[p].split(',');\r\n                    for (let i = 0, len = d.length; i < len; i++) {\r\n                        d[i] = d[i].trim();\r\n                    }\r\n                    this.dependencies[p] = d;\r\n                }\r\n            }\r\n        }\r\n\r\n        for(let p in this.elements){\r\n            if(this.elements.hasOwnProperty(p) && this.rules.hasOwnProperty(p) && this.elements[p].rules === '') {\r\n                this.elements[p].rules = this.rules[p];\r\n            }\r\n        }\r\n\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && p.slice(0, 2) === 'on' && typeof options[p] === 'function') {\r\n                this.addEventListener(p.slice(2), options[p]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all instances of this UI from the given container.\r\n     * @param container\r\n     * @return {UI}\r\n     */\r\n    removeFrom(container) {\r\n        if (typeof container === 'string') {\r\n            container = document.querySelector(container);\r\n        }\r\n        if (container instanceof Element) {\r\n            container = container.node();\r\n        }\r\n\r\n        let items = container.childNodes;\r\n\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].instance instanceof Instance && items[i].instance.UI() === this) {\r\n                let event = new Event('remove', {cancelable: true});\r\n                items[i].instance.triggerEvent('remove', event);\r\n                if (!event.defaultPrevented) {\r\n                    items[i].instance.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if UI implements interface with given name.\r\n     * @param interfaceName {string}\r\n     * @return {boolean}\r\n     */\r\n    isImplementationOf(interfaceName) {\r\n        return this.__.implements.indexOf(interfaceName) >= 0;\r\n    }\r\n\r\n    /**\r\n     * Returns root element of the UI scheme.\r\n     * @returns {Element}\r\n     */\r\n    getRootElement() {\r\n        let topLevel = Object.keys(this.scheme);\r\n        return topLevel.length === 1 ? this.elements[topLevel[0]] : null;\r\n    }\r\n\r\n    prepare(params) {\r\n        params = cloneSimpleObject(params);\r\n\r\n        // Create new UI instance.\r\n        let instance = new this.uiiConstructor();\r\n        instance.__.ui = this; // Set UI property.\r\n\r\n        // Lets allow users to modify options using \"prepare\" event.\r\n        let options = {\r\n            container : null,\r\n            atStart : false,\r\n            params : params,\r\n            localization : this.localization,\r\n            translations : Object.assign({}, this.translations)\r\n        };\r\n\r\n        this.triggerEvent('prepare', instance, options);\r\n\r\n        params = options.params;\r\n\r\n        // Set localization configuration for the whole instance.\r\n        // __.localization property is defines localization category.\r\n        // The category is a string that used to load localization data by packs.\r\n        // The loading logic MUST be implemented by the developer (see L10n module).\r\n        instance.__.localization = options.localization;\r\n        instance.__.translations = options.translations;\r\n\r\n        // Build scheme recursively but not define target.\r\n        try {\r\n            buildScheme(instance, this, this.scheme, null);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n\r\n        // Filter given parameters.\r\n        if (typeof params !== 'object') params = {};\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                params[p] = filterUIParameterValue(params[p]);\r\n            }\r\n        }\r\n\r\n        // Append default parameters that absent in the given by user.\r\n        for (let p in this.__.params) {\r\n            if (this.__.params.hasOwnProperty(p) && !params.hasOwnProperty(p)) {\r\n                params[p] = this.__.params[p];\r\n            }\r\n        }\r\n\r\n        instance.__.params = params;\r\n\r\n        // Trigger 'render' event.\r\n        let event = new Event('create', {cancelable: true});\r\n        this.triggerEvent('create', instance, params, event);\r\n\r\n        return instance;\r\n    };\r\n\r\n\r\n    /**\r\n     * Renders UI into the container.\r\n     *\r\n     * Example: UIBuilder('searchBar').renderTo('body');\r\n     *\r\n     * @param {node|string|Element} container - element in which Instance will be built\r\n     * @param {boolean} [atStart] - if true, builds UI into start of the list (default - false)\r\n     * @param {object} [params]\r\n     *\r\n     * @event beforeRender\r\n     * @event render\r\n     *\r\n     * @returns {Instance}\r\n     **/\r\n    renderTo (container, atStart, params) {\r\n\r\n        // Set parameters if atStart flag is missing.\r\n        // It allows to pass atStart argument.\r\n        // Examples:\r\n        //     UI('Spinner').renderTo('#container', {size: 2})\r\n        //     UI('Spinner').render({size: 2}) // Renders into the document.body. See [render()] method.\r\n        if (typeof atStart === 'object' && typeof params !== 'object') params = atStart;\r\n\r\n        // Create new UI instance that will be returned by this function.\r\n        let instance = this.prepare(params);\r\n\r\n        params = instance.__.params;\r\n\r\n        // Lets allow users to modify rendering options during 'beforeRender' event.\r\n        let options = {\r\n            container : container,\r\n            atStart : atStart,\r\n            params : instance.__.params,\r\n            localization : this.localization,\r\n            translations : Object.assign({}, this.translations)\r\n        };\r\n        this.triggerEvent('beforeRender', options);\r\n\r\n        // Apply changing.\r\n        container = options.container;\r\n        atStart = options.atStart;\r\n\r\n\r\n\r\n        // Set localization configuration for the whole instance.\r\n        // __.localization property is defines localization category.\r\n        // The category is a string that used to load localization data by packs.\r\n        // The loading logic MUST be implemented by the developer (see L10n module).\r\n        instance.__.localization = options.localization;\r\n        instance.__.translations = options.translations;\r\n\r\n\r\n        // If we render UI into the Element of another Instance - make necessary links.\r\n        let containerNode = container;\r\n        if (container instanceof Element) {\r\n            instance.__.parent = container;       // Set parent element for newly created instance.\r\n            container.__.children.push(instance); // Add instance to the children list of the container.\r\n            containerNode = container.node();\r\n        }else if (typeof container === 'string') {\r\n            containerNode = document.querySelector(container);\r\n        }\r\n\r\n        // Generate styles if CSS property specified and styles are not loaded yet.\r\n        if (!this.cssLoaded && this.css !== null) {\r\n            this.createStyles();\r\n        }\r\n\r\n        // Set flag if instance should be built at the start or at the end.\r\n        atStart = atStart === true;\r\n\r\n        // Append root instance nodes to the container.\r\n        let scheme = this.scheme;\r\n        for (let p in scheme) {\r\n            if (scheme.hasOwnProperty(p)) {\r\n                if (!atStart || containerNode.childNodes.length === 0) {\r\n                    containerNode.appendChild(instance[p].node());\r\n                }else {\r\n                    containerNode.insertBefore(instance[p].node(), containerNode.childNodes[0]);\r\n                }\r\n\r\n                if (container instanceof Element) {\r\n                    instance[p].__.parent = container;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Filter given parameters.\r\n        if (typeof params !== 'object') params = {};\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                params[p] = filterUIParameterValue(params[p]);\r\n            }\r\n        }\r\n\r\n        // Append default parameters that absent in the given by user.\r\n        for (let p in this.__.params) {\r\n            if ( ! params.hasOwnProperty(p) && this.__.params.hasOwnProperty(p)){\r\n                params[p] = this.__.params[p];\r\n            }\r\n        }\r\n\r\n        // Trigger 'render' event.\r\n        this.triggerEvent('render', instance, params);\r\n\r\n        // Return instance of the UI.\r\n        return instance;\r\n    }\r\n\r\n\r\n    /**\r\n     * Renders UI to the <body>.\r\n     * @param params\r\n     */\r\n    render (params) {\r\n        return this.renderTo('body', params);\r\n    }\r\n\r\n\r\n    /**\r\n     * Generates CSS for the UI using [generageCSS()] method\r\n     * and appends it as new <style> tag.\r\n     */\r\n    createStyles () {\r\n        this.cssLoaded = true;\r\n        let css = cssGenerator.generateUIStyles(this);\r\n        if (css === '') return;\r\n        let head = document.getElementsByTagName('head')[0];\r\n        let styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-ui', this.name);\r\n        styleTag.ui = this;\r\n        styleTag.innerHTML = css;\r\n        head.appendChild(styleTag);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Adds event handler for the UI.\r\n *\r\n * There are few events available:\r\n * - beforeRender\r\n * - render\r\n * - destroy\r\n * - change\r\n */\r\naddEventsMethods(UI.prototype);\r\n\r\n\r\n\r\n/**\r\n * Extends another UI.\r\n * We must define this method directly in the prototype because it reserved.\r\n * @param name\r\n * @param options\r\n */\r\nUI.prototype.extends = function (name, options) {\r\n    let extending = new Extending(this, name, options);\r\n    uiRegistry.remove(this.name);\r\n    extendingsRegistry.add(this.name, extending);\r\n};\r\n","/**\r\n * Class that represents some style from the theme.\r\n * This class is used of tell UI that some style property will be change depending on the theme.\r\n * Also it provides style changing \"on the fly\" functionality.\r\n *\r\n * Usage example:\r\n *\r\n * styles: {\r\n *     wrap: {\r\n *         color: Theme('colors.primary').darker(10).default('#5887f4')\r\n *     }\r\n * }\r\n */\r\nexport default class StyleGetter\r\n{\r\n    constructor(name) {\r\n        this.name = name;\r\n        this._darker = 0;\r\n        this._lighter = 0;\r\n        this._alpha = undefined;\r\n        this._default = 'initial';\r\n    }\r\n\r\n    /**\r\n     * Returns value of the style.\r\n     * Also applies color changes.\r\n     * @return {string}\r\n     */\r\n    getValue() {\r\n        let value = Theme.getStyle(this.name);\r\n        if(value instanceof Color){\r\n            let c = new Color(value.toRgbaString());\r\n            if(this._darker > 0) c.darker(this._darker);\r\n            if(this._lighter > 0) c.lighter(this._lighter);\r\n            value = c.toRgbaString(this._alpha);\r\n        }\r\n        if(value === null){\r\n            return this._default;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Sets transparency of the color style.\r\n     * @param value {number} Transparency amount (from 0 to 1).\r\n     * @return {StyleGetter}\r\n     */\r\n    alpha(value) {\r\n        this._alpha = value;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Makes color style darker for the amount.\r\n     * @param amount {number} How darker color will become (from 0 to 100).\r\n     * @return {StyleGetter}\r\n     */\r\n    darker(amount) {\r\n        this._darker += amount;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Makes color style lighter for the amount.\r\n     * @param amount {number} How lighter color will become (from 0 to 100).\r\n     * @return {StyleGetter}\r\n     */\r\n    lighter(amount) {\r\n        this._lighter += amount;\r\n        return this;\r\n    }\r\n}\r\n\r\n/**\r\n * Sets default value of the style if it will be absent in the theme.\r\n * Always use this method to prevent errors or unwanted appearance on theme switching.\r\n * @param value {string}\r\n * @return {StyleGetter}\r\n */\r\nStyleGetter.prototype.default = function(value) {\r\n    this._default = value;\r\n    return this;\r\n};","import Data from '../core/data';\r\nimport addEventsMethods from '../utils/events-methods';\r\n\r\nlet isAdded = Symbol('isAdded');\r\n\r\n/**\r\n * Reactive storage of the entities.\r\n * Stores entities of the one type and provides events triggering\r\n * on any entity change.\r\n *\r\n * Example of usage:\r\n *\r\n * // Create user entity.\r\n * class User\r\n * {\r\n *    constructor(opts) {\r\n *        this.firstName = opts.firstName;\r\n *        this.secondName = opts.secondName;\r\n *        this.age = opts.age;\r\n *    }\r\n * }\r\n *\r\n * // Create storage of users.\r\n * let usersStorage = new Storage(User);\r\n *\r\n * // Create new user (entity of the storage).\r\n * let user = usersStorage.createEntity({firstName: 'John', secondName: 'Doe', age: 32});\r\n *\r\n * // Add user to the storage.\r\n * // From now any changes of the user will trigger 'change' event on the storage.\r\n * usersStorage.add(user);\r\n *\r\n * // Render some form to make changes of user.\r\n * UI('User form').render({model: user});\r\n */\r\n\r\nexport default class Storage extends Data\r\n{\r\n    constructor(entityClass, params) {\r\n        if (params === undefined) {\r\n            params = {};\r\n        }\r\n        super(params);\r\n\r\n        this.throttle = params.throttle || 0;\r\n        this.entityClass = entityClass;\r\n\r\n        // Adds events support to the entity class.\r\n        addEventsMethods(this.entityClass.prototype);\r\n\r\n        this.entities = [];\r\n    }\r\n\r\n    /**\r\n     * Adds entity to the storage.\r\n     * @param entity {Object}\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {boolean}\r\n     */\r\n    add(entity, triggerEvents) {\r\n        if (!(entity instanceof this.entityClass)) {\r\n            entity = this.createEntity(entity);\r\n        }\r\n        if (this.entities.indexOf(entity) < 0 && entity[isAdded] === false) {\r\n            entity[isAdded] = true;\r\n            this.entities.push(entity);\r\n\r\n            if (triggerEvents !== false) {\r\n                this.triggerEvent('add ~' + this.throttle, entity);\r\n                this.triggerEvent('change ~' + this.throttle, entity);\r\n            }\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Adds few entities and returns quantity of successfully added entities.\r\n     * @param entities {Array}\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {Number}\r\n     */\r\n    addMultiple(entities, triggerEvents) {\r\n        let k = 0;\r\n        for (let i = 0; i < entities.length; i++) {\r\n            if (this.add(entities[i], false)) k++;\r\n        }\r\n\r\n        if (triggerEvents !== false) {\r\n            this.triggerEvent('add ~' + this.throttle, null);\r\n            this.triggerEvent('change ~' + this.throttle, null);\r\n        }\r\n\r\n        return k;\r\n    }\r\n\r\n    /**\r\n     * Removes entity from the storage.\r\n     * @param entity\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {boolean}\r\n     */\r\n    remove(entity, triggerEvents) {\r\n        let index = this.entities.indexOf(entity);\r\n        if (index >= 0) {\r\n            entity[isAdded] = false;\r\n            this.entities.splice(index, 1);\r\n\r\n            if (triggerEvents !== false) {\r\n                this.triggerEvent('remove', entity);\r\n                this.triggerEvent('change ~' + this.throttle);\r\n            }\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Removes all entities from the storage.\r\n     * Before they will be removed the 'isAdded' property will be set to false.\r\n     * Also triggers 'change' event on the whole storage.\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {Storage}\r\n     */\r\n    removeAll(triggerEvents) {\r\n        for (let i = 0; i < this.entities.length; i++) {\r\n            this.entities[i][isAdded] = false;\r\n        }\r\n        this.entities = [];\r\n\r\n        if (triggerEvents !== false) {\r\n            this.triggerEvent('change ~' + this.throttle);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns quantity of the added entities.\r\n     * @return {Number}\r\n     * @see length\r\n     */\r\n    count() {\r\n        return this.entities.length;\r\n    }\r\n\r\n    /**\r\n     * Returns quantity of the added entities.\r\n     * @return {Number}\r\n     * @see count\r\n     */\r\n    length() {\r\n        return this.entities.length;\r\n    }\r\n\r\n    /**\r\n     * Creates new entity.\r\n     * The new entity is not added to the storage.\r\n     */\r\n    createEntity(data) {\r\n        let entity = new this.entityClass(data);\r\n\r\n        let values = {};\r\n        let storage = this;\r\n\r\n        for (let p in entity) {\r\n            if (entity.hasOwnProperty(p) && p !== isAdded) {\r\n\r\n                values[p] = entity[p];\r\n                delete entity[p];\r\n\r\n                Object.defineProperty(entity, p, {\r\n                    enumerable: true,\r\n                    set: function(value){\r\n                        values[p] = value;\r\n                        if (!entity[isAdded]) return;\r\n                        storage.triggerEvent('change ~' + storage.throttle, entity);\r\n                    },\r\n                    get: function () {\r\n                        return values[p];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(entity, isAdded, {\r\n            enumerable: false,\r\n            set: function(value){\r\n                values[isAdded] = value === true;\r\n            },\r\n            get: function () {\r\n                return values[isAdded];\r\n            }\r\n        });\r\n\r\n        entity[isAdded] = false;\r\n\r\n        return entity;\r\n    }\r\n\r\n    /**\r\n     * Few syntax sugar.\r\n     * @param handler\r\n     */\r\n    set onChange(handler) {this.on('change', handler);}\r\n    set onAdd(handler) {this.on('add', handler);}\r\n    set onRemove(handler) {this.on('remove', handler);}\r\n}\r\n\r\n// Add events methods to the storage.\r\naddEventsMethods(Storage.prototype);\r\n\r\n\r\nStorage.isEntityAdded = function (entity) {\r\n    return entity[isAdded] === true;\r\n};\r\n\r\n","import Builder from './builder';\r\nimport Layout from './core/layout';\r\nimport Animation from './core/animation';\r\nimport Color from './utils/color';\r\nimport StyleGetter from './modules/theme/style-getter';\r\nimport {error, warn, log} from './utils/logging';\r\nimport {XY, Point, Vector, Rect} from './utils/geometry';\r\nimport themesManager from './modules/theme/theme';\r\nimport {setCsrfToken} from './modules/CSRF';\r\nimport Url from './modules/url';\r\nimport URL from './utils/url';\r\nimport RouteManager from './modules/router';\r\nimport L10n from './core/localization';\r\nimport Data from './core/data';\r\nimport GlobalEvents from './core/global-events';\r\nimport Ajax from './data-providers/ajax';\r\nimport {WSData, WS} from './data-providers/ws';\r\nimport Storage from './data-providers/storage';\r\nimport extensionManager from './core/extension';\r\nimport interfaceManager from './core/interface';\r\nimport Identity from './modules/identity';\r\nimport Format from './modules/format';\r\nimport EventsChannel from './core/events-channel';\r\nimport Settings from './core/settings';\r\n\r\nimport registerThrottleEventExtension from './built-in/extensions/throttle-event.ext';\r\nimport registerPopoverExtension from './built-in/extensions/popover.ext';\r\nimport registerNumberFilterExtension from './built-in/extensions/number-filter.ext';\r\nimport registerDragExtension from './built-in/extensions/drag.ext';\r\nimport registerSortableExtension from './built-in/extensions/sortable.ext';\r\nimport registerTabExtension from './built-in/extensions/tab.ext';\r\nimport registerDropdownExtension from './built-in/extensions/dropdown.ext';\r\nimport registerLoadMoreExtension from './built-in/extensions/load-more.ext';\r\nimport registerActiveTriggerExtension from './built-in/extensions/active-trigger.ext';\r\nimport registerFormControlsInterfaces from './built-in/interfaces/form-contorls.int';\r\nimport registerComponentsInterfaces from './built-in/interfaces/components.int';\r\nimport registerHelpersInterfaces from './built-in/interfaces/helpers.int';\r\nimport registerModalUI from './built-in/ui/overlay/modal.ui';\r\nimport registerTabsUI from './built-in/ui/tabs/tabs.ui';\r\nimport registerDefaultTheme from './built-in/themes/default.theme';\r\nimport registerDarkTheme from './built-in/themes/dark.theme';\r\nimport registerLightTheme from './built-in/themes/light.theme';\r\n\r\n\r\n// ===================== EXPORTED OBJECT =======================\r\n// Add properties to the global object.\r\n\r\n// Themes module.\r\nBuilder.error = error;\r\nBuilder.warn = warn;\r\nBuilder.log = log;\r\nBuilder.Theme = themesManager;\r\nBuilder.Extension = extensionManager;\r\nBuilder.L10n = L10n;\r\nBuilder.setLanguage = L10n.setLanguage;\r\nBuilder.getLanguage = L10n.getLanguage;\r\nBuilder.Identity = Identity;\r\nBuilder.Format = Format;\r\nBuilder.Interface = interfaceManager;\r\nBuilder.Data = Data;\r\nBuilder.Ajax = Ajax;\r\nBuilder.DataWS = WSData;\r\nBuilder.WSData = WSData;\r\nBuilder.WS = WS;\r\nBuilder.XY = XY;\r\nBuilder.Point = Point;\r\nBuilder.Vector = Vector;\r\nBuilder.Rect = Rect;\r\nBuilder.Storage = Storage;\r\nBuilder.setCsrfToken = setCsrfToken;\r\nBuilder.layout = Layout;\r\nBuilder.Url = Url;\r\nBuilder.Route = RouteManager;\r\nBuilder.GlobalEvents = GlobalEvents;\r\nBuilder.Animation = Animation;\r\nBuilder.EventsChannel = EventsChannel;\r\n\r\n\r\nBuilder.inDevMode = function() {\r\n    return Settings.devMode;\r\n};\r\n\r\n\r\nBuilder.enableDevMode = function(enable) {\r\n    Settings.devMode = enable !== false;\r\n};\r\n\r\n\r\nBuilder.enableLogging = function(enable) {\r\n    Settings.logging = enable !== false;\r\n};\r\n\r\n\r\nBuilder.loggingEnabled = function () {\r\n    return Settings.logging;\r\n};\r\n\r\n\r\n// ===================== GLOBAL VARIABLES =======================\r\n// Also export global variables.\r\n// Feel free to edit this section as you want.\r\n// If you need to use something with another alias - make changes here.\r\n\r\n// Core.\r\nwindow.UI            = Builder;\r\nwindow.Extension     = extensionManager;\r\nwindow.L10n          = L10n;\r\nwindow.Layout        = Layout;\r\nwindow.Interface     = interfaceManager;\r\nwindow.Animation     = Animation;\r\nwindow.GlobalEvents  = GlobalEvents;\r\nwindow.EventsChannel = EventsChannel;\r\n\r\n// Misc\r\nwindow.Animation = Animation;\r\n\r\n// Data providers.\r\nwindow.Data      = Data;\r\nwindow.DataAjax  = Ajax;\r\nwindow.Ajax      = Ajax;\r\nwindow.DataWS    = WSData;\r\nwindow.WS        = WS;\r\nwindow.Storage   = Storage;\r\n\r\n// Themes support.\r\nwindow.Color       = Color;\r\nwindow.StyleGetter = StyleGetter;\r\nwindow.Theme       = themesManager;\r\n\r\n// Geometry helpers.\r\nwindow.Point     = Point;\r\nwindow.Rect      = Rect;\r\nwindow.Vector    = Vector;\r\n\r\n// Modules.\r\nwindow.Identity  = Identity;\r\nwindow.Format    = Format;\r\nwindow.Route     = RouteManager;\r\nwindow.Url       = Url;\r\nwindow.URL       = URL;\r\n\r\n// Store mouse position.\r\nwindow.UI.mouseX = 0;\r\nwindow.UI.mouseY = 0;\r\n\r\nwindow.UI.isTabletScreen = function() {\r\n    return document.body.clientWidth >= 640 && document.body.clientWidth < 1024;\r\n};\r\n\r\nwindow.UI.isPhoneScreen = function() {\r\n    return document.body.clientWidth > 240 && document.body.clientWidth < 640;\r\n};\r\n\r\ndocument.addEventListener('mousemove', function(e) {\r\n    window.UI.mouseX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n    window.UI.mouseY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n});\r\n\r\n\r\n// ===================== BUILT-IN =======================\r\n// To add some built-in - add them below.\r\n\r\n// UI.\r\nregisterModalUI();\r\nregisterTabsUI();\r\n\r\n// Themes\r\nregisterDarkTheme();\r\nregisterDefaultTheme();\r\nregisterLightTheme();\r\n\r\n// Interfaces.\r\nregisterFormControlsInterfaces();\r\nregisterComponentsInterfaces();\r\nregisterHelpersInterfaces();\r\n\r\n// Extensions.\r\nregisterActiveTriggerExtension();\r\nregisterThrottleEventExtension();\r\nregisterPopoverExtension();\r\nregisterNumberFilterExtension();\r\nregisterDragExtension();\r\nregisterSortableExtension();\r\nregisterTabExtension();\r\nregisterLoadMoreExtension();\r\nregisterDropdownExtension();\r\n\r\n"],"names":["splitByUpperCase","str","replace","split","makeClassName","join","toLowerCase","Exception","message","UIRegistrationException","call","name","InvalidSchemeException","RenderingException","log","args","Array","prototype","slice","arguments","Settings","logging","console","apply","msgFormatter","warn","error","defaultFormatter","unshift","chromeFormatter","addEventsMethods","target","hasOwnProperty","__","events","dispatchers","eventsTimeouts","listen","eventName","handler","port","arr","length","trim","EventsDispatcher","on","addEventListener","portNumber","EventException","onPort","isArray","indexOf","push","removeEventListener","index","splice","off","triggerEvent","delay","parseInt","i","len","clearTimeout","setTimeout","_this","runHandlers","interruptEvent","offPort","offAllPorts","trigger","cloneSimpleObject","obj","clone","constructor","Object","cloneObjectTo","src","dst","p","extendObject","extensionsManager","extensions","defaultCollector","callback","cache","runElementHandlers","e","handlers","uielement","type","uiinstance","createValueHolder","ValueHolder","_value","value","isEmpty","gatherElementData","data","curData","propName","gatherChildNodes","children","hasAttr","attr","event","Event","tagName","prop","val","hasInclusion","tmp","gatherInstanceData","inclusion","keys","hasChildUI","res","getRootElement","root","childNodes","node","element","elName","instance","result","scheme","ui","cancelable","defaultPrevented","v","addGatheredData","k","s","compactData","tabClickHandler","isTab","c","getAllNearbyElements","removeClass","tabContainer","fadeOut","hide","addClass","container","fadeIn","cloneSchemeLinear","rules","parseParameters","_result","parameters","prm","match","regexp_params","attributes","att","regexp_attribute","properties","pr","regexp_property","tag","regexp_tagName","id","regexp_id","class","regexp_class","child","regexp_childUI","include","regexp_include","buildScheme","atStart","params","targetNode","elementName","devMode","childUI","uiRegistry","get","dependencies","deps","isImplementationOf","uiClass","Element","inclusionUI","add","localization","translations","setAttribute","T","t","L10n","getTranslations","text","parent","document","querySelector","first","firstChild","appendChild","insertBefore","filterUIParameterValue","numberRegexp","test","checkUIParameters","Instance","defineProperty","configurable","enumerable","writeable","generateCSS","parentSelector","parentEl","styles","cssText","selector","elements","rootSelector","rootClass","styleName","style","getValue","interfaceManager","interfaces","createResetStyles","resetStyles","styleTag","createElement","head","getElementsByTagName","innerHTML","cssGenerator","generateSimpleStyles","Builder","getLayout","layouts","Layout","LayoutUI","Color","attachValues","toColorObject","colorNames","colorHexes","x","y","typ","arrLength","opacity","a","hue","sat","rgb","colorTrim","substr","toUpperCase","isNaN","emptyObject","r","g","b","hslToRgb","hwbToRgb","ncolToRgb","cmykToRgb","ncsToRgb","getColorArr","isHex","colorObject","m","ncol","white","black","letter","percent","h","rgbArr","tot","toFixed","ncs","chroma","bc","black1","chroma1","factor1","blue1","red1","red2","green2","blue2","max","factor2","grey","green1","hsl","hwb","cmyk","color","rgbToHsl","rgbToHwb","rgbToCmyk","hueToNcol","red","green","blue","lightness","l","whiteness","w","blackness","cyan","magenta","yellow","valid","roundDecimals","bl","min","light","t1","t2","hueToRgb","maxColor","toHex","n","hex","toString","XY","Point","Rect","Vector","themesManager","StyleGetter","setCsrfToken","token","csrfToken","csrfParam","Url","route","urlRefiners","URL","url","path","paramsArr","pArr","decodeURIComponent","RouteManager","routes","placeholders","cutRoute","Route","switchLanguageTo","lang","language","curTranslation","en","category","translate","loadTranslations","defaultTranslationsLoader","ajax","DataAjax","localizationsPath","method","fetch","addTranslation","updateTranslations","items","querySelectorAll","cat","getAttribute","innerText","updateTranslationsByCategory","GlobalEvents","ajaxCollector","permanentRedirections","_uidata","xhttp","XMLHttpRequest","onprogress","lengthComputable","Math","ceil","loaded","total","onreadystatechange","readyState","status","newUrl","getResponseHeader","triggerErrorEvents","triggerRedirectionEvents","preventDefault","redirectionUrl","window","location","contentType","JSON","parse","responseText","cacheLifetime","hasError","Ajax","lastFetchTime","Date","now","ready","_prameters","FormData","_parameters","encodeURIComponent","stringify","open","headers","setRequestHeader","useCsrf","append","send","UIWebSocketCollector","ws","WS","WebSocket","formats","FORMAT_JSON","FORMAT_TOKENIZED_JSON","FORMAT_RAW","format","authRequestMessage","authSuccessMessage","authFailMessage","conn","authorized","reconnectionInterval","tokens","randomId","possible","charAt","floor","random","Message","Identity","currentUser","User","userData","role","firstName","secondName","email","phone","photo","Photo","sign","position","companyId","companyName","photoData","small","medium","large","Format","date","formatDate","dt","Y","getFullYear","d","getLanguage","monthShortName","getMonth","getDate","ordinal","EventsChannel","channelsManager","Selection","channels","channel","Extension","register","onApply","ext","to","newCallback","onUpdate","newParams","onRemove","side","hideOnBlur","fadingTime","popover","fractional","negative","precision","UI","isElement","isInstance","inputHandler","parseFloat","focus","changeHandler","Interface","registerDragExtension","dragStartHandler","inst","extension","targetElement","withinParent","useBoundaries","pos","parentNode","initialX","touches","clientX","initialY","clientY","box","clientRect","initialTop","top","initialLeft","left","getBoundingClientRect","getComputedStyle","borderLeft","borderLeftWidth","borderTop","borderTopWidth","initialParentTop","initialParentLeft","dragged","draggedExt","draggingHandler","mX","mY","deltaX","deltaY","iTop","iLeft","newLeft","newTop","myW","clientWidth","parentW","myH","clientHeight","parentH","initialPoint","newPoint","deltaPoint","cssObj","css","dragEndHandler","handle","getHandle","getDragged","placeholderClass","createDummy","el","className","width","outerWidth","height","outerHeight","cursor","zIndex","body","outerHTML","initialOpacity","dummy","placeholder","downHandler","dragHandler","draggedElement","newX","newY","item","removeChild","rect","halfH","previousSibling","nextSibling","dropHandler","replaceChild","applyTo","applyExtension","clickHandler","tabsContainer","contentsContainer","content","activeClass","linkedContent","label","tabCounter","_dropdownContent","display","expand","hasClass","slideDown","slideUp","getElementsByClassName","form","scrollThreshold","dummies","dummyClass","cont","lastTime","lastItemWithNoMore","allowMultiple","loadHandler","afterLoadHandler","percents","scrollTop","scrollHeight","lastItem","gatherData","offset","from","getId","response","load","classList","remove","modalCloseBtnHandler","overlay","close","modalVeilHandler","_x","_y","wrap","ru","scrollingButtons","scrollTopButton","scrollBottomButton","closeButton","progressBar","track","bar","skeleton","closeOnBlur","methods","applyParams","minHeight","UII","updateScrollingButtons","setSkeleton","showSkeleton","renderTo","hideSkeleton","trackProgress","animate","maxHeight","boxShadow","Theme","alpha","code","removeChildren","transform","transition","scrollBottom","initial","ani","stop","Animation","duration","run","show","onRender","offsetHeight","transformOrigin","onLoad","flexDirection","backgroundColor","justifyContent","alignItems","overflowY","right","padding","fontSize","fontWeight","fontFamily","backgroundImage","minWidth","maxWidth","borderRadius","default","margin","flexShrink","flexGrow","overflow","marginBottom","marginTop","lineHeight","labels","contents","addTab","addOne","tab","activateTab","removeTab","getTabByLabel","getLabel","removeExtension","hideTab","nextTabIndex","getTabByIndex","showTab","getContentFor","getContent","hideAllContents","deactivateAllLabels","tabs","getTab","labelOrIndex","activateTabByLabel","activateTabByIndex","removeAllTabs","registerDefaultTheme","colors","fonts","registerDarkTheme","registerLightTheme","round","asin","abs","sqrt","pow","sin","cos","PI","setParsingRule","subjectOrRules","regularExpression","SettingsException","RegExp","enableLogging","enable","logPrefix","navigator","userAgent","vendor","_extendings","extendingsRegistry","extending","delete","_uis","extend","getAll","ports","context","options","ExtensionInstance","removeFrom","vars","update","start","end","f","stopped","t_start","performance","dur","step","state","requestAnimationFrame","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","Data","collector","UIDataException","waitingLimit","timeElapsed","childParams","draggable","dragX","dragY","isDragging","dragWithinParent","dragBoundaries","translation","animation","fx","updateExtension","applyLocalization","setChildUI","render","getChildUI","findTopLocalParent","parentUII","parentInstance","getAllChildElements","nativeEvents","removeAllEventListeners","addOneAfter","addAfter","addOneBefore","addBefore","_uibuilder","InvalidParamException","prepare","lastElement","getLastRootElement","appendAfter","firstElement","getFirstRootElement","appendBefore","html","runScripts","scripts","script","eval","textContent","hasAttribute","removeAttr","removeAttribute","href","getContext","offsetWidth","oldDisplay","showAs","offsetParent","isHidden","computedStyle","isVisible","visibility","contentHeight","getPropertyValue","slideToggle","contains","hasClasses","classNames","toggleClass","toggle","displayAs","hideOnEnd","fadeToggle","props","startValues","endValues","units","stopAnimation","isEnd","diff","bind","deleteContent","exception","resetValues","compact","newEl","oldNode","newNode","cloneNode","makeTabFor","siblings","getChannel","interfaceName","implements","loadLocalization","L","incRoot","topLevel","lastKey","appendTo","next","stylesRegistry","namespace","stylesObj","generateUIStyles","methodsQuantity","Method","implementedBy","checkSignature","signatureRegexp","signature","func","interfacesUIs","getImplementation","addImplementation","detectInterfacesFor","uis","inter","implementations","uiiConstructor","UIExtending","extendingUI","extendedUIName","extendedUI","cssLoaded","styleNode","AnotherInstance","create","namespaces","Namespace","exists","getOrCreate","prefix","assign","containerNode","createStyles","extends","Extending","subject","currentLayoutName","currentLayoutInst","getInstance","toRgbString","toRgbaString","toHwbString","toHwbStringDecimal","toHwbaString","toHslString","toHslStringDecimal","toHslaString","toCmykString","toCmykStringDecimal","toNcolString","toNcolStringDecimal","toNcolaString","toName","colorhexs","toHexString","toRgb","toHsl","toHwb","toCmyk","toNcol","isDark","saturate","desaturate","lighter","darker","_darker","_lighter","_alpha","_default","getStyle","amount","subtract","multiply","divide","inRect","fit","k1","k2","copyValuesFrom","normalize","themes","currentTheme","updateIfExists","updateStyles","switchTo","pop","theme","shift","components","getThemeName","addSection","newStyles","urlParsers","setRefiner","refiner","setParser","parser","matches","query","origin","queryParameters","gatherParams","$","find","each","queryArr","removeParams","curRoute","curRouteParams","prevRoute","current","previous","currentParams","urlData","applyChain","curUrlData","pathname","curUrlArray","routeArray","history","pushState","runParentRoute","parentRoute","revert","setLanguage","es","de","pt","br","it","fr","jp","ko","zh","ua","translators","translationsLoader","setLocalizationsPath","getLocalizationsPath","currentlyLoading","translationsLoadingCallbacks","callbacks","registerTranslationsLoader","loader","CategoryTranslator","statusCode","WSData","connect","ti","onopen","clearInterval","onclose","onerror","onmessage","Token","dataWrapper","isAdded","Symbol","Storage","entityClass","throttle","entities","entity","triggerEvents","createEntity","addMultiple","removeAll","count","values","storage","set","onChange","onAdd","isEntityAdded","isGuest","getUser","fullName","changeUser","newUser","month","time","money","currency","extensionManager","DataWS","layout","inDevMode","enableDevMode","loggingEnabled","mouseX","mouseY","isTabletScreen","isPhoneScreen","registerModalUI","registerTabsUI","registerFormControlsInterfaces","registerComponentsInterfaces","registerHelpersInterfaces","registerActiveTriggerExtension","registerThrottleEventExtension","registerPopoverExtension","registerNumberFilterExtension","registerSortableExtension","registerTabExtension","registerLoadMoreExtension","registerDropdownExtension"],"mappings":"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"}