{"version":3,"file":"ui-builder.min.js","sources":["../src/utils/strings.js","../src/utils/exceptions.js","../src/utils/logging.js","../src/utils/events-methods.js","../src/utils/object-utils.js","../src/core/extension.js","../src/core/data.js","../src/core/element.js","../src/utils/ui-utils.js","../src/core/instance.js","../src/core/css-generator.js","../src/core/interface.js","../src/core/reset-styles.js","../src/builder.js","../src/core/layout.js","../src/utils/color.js","../src/utils/geometry.js","../src/modules/theme/theme.js","../src/modules/CSRF.js","../src/modules/url.js","../src/utils/url.js","../src/modules/router.js","../src/core/localization.js","../src/core/global-events.js","../src/data-providers/ajax.js","../src/data-providers/ws.js","../src/modules/identity.js","../src/modules/format.js","../src/core/events-channel.js","../src/core/animation.js","../src/core/settings.js","../src/registries/extendings-registry.js","../src/registries/ui-registry.js","../src/core/extending.js","../src/core/ui.js","../src/modules/theme/style-getter.js","../src/data-providers/storage.js","../src/index.js","../src/built-in/ui/overlay/modal.ui.js","../src/built-in/ui/tabs/tabs.ui.js","../src/built-in/themes/dark.theme.js","../src/built-in/themes/default.theme.js","../src/built-in/themes/light.theme.js","../src/built-in/interfaces/form-contorls.int.js","../src/built-in/interfaces/components.int.js","../src/built-in/interfaces/helpers.int.js","../src/built-in/extensions/active-trigger.ext.js","../src/built-in/extensions/throttle-event.ext.js","../src/built-in/extensions/popover.ext.js","../src/built-in/extensions/number-filter.ext.js","../src/built-in/extensions/drag.ext.js","../src/built-in/extensions/sortable.ext.js","../src/built-in/extensions/tab.ext.js","../src/built-in/extensions/load-more.ext.js","../src/built-in/extensions/dropdown.ext.js"],"sourcesContent":["/**\r\n * Splits string bu upper case.\r\n * @para {string} str\r\n * @return {Array}\r\n */\r\nexport function splitByUpperCase(str) {\r\n    return str.replace(/([A-Z]+)/g, \",$1\")\r\n        .replace(/^,/, '')\r\n        .split(',');\r\n}\r\n\r\n\r\n/**\r\n * Formats string to be useful in the \"id\" or \"class\" attribute.\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nexport function makeClassName(str) {\r\n    return splitByUpperCase(str.replace(/\\//g, '_').replace(' - ', '-'))\r\n        .join('-')\r\n        .replace(/([a-zA-Z_-])\\s+([a-zA-Z_\\-\\d])/g, \"$1-$2\")\r\n        .replace(/\\s*-+\\s*/gi, '-')\r\n        .replace(/-*_-*/gi, '_')\r\n        .toLowerCase();\r\n}","import Settings from '../core/settings';\r\n\r\n/**          Exceptions\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * This section contains exceptions definition.\r\n * Each new exception constructor should use base Exception constructor.\r\n * Use log() function to print exception message in the \"cache\" section.\r\n * Also you can use \"name\" property in your constructor that will be\r\n * printed after prefix and before main message.\r\n *\r\n * Usage example:\r\n *\r\n * try{\r\n *     if( myPlanetForm === 'flat' ) throw new Exception('Earth is flat!');\r\n * }catch(error){ error.log(); }\r\n *\r\n */\r\n\r\n\r\n/**\r\n * Base exception constructor with log() method.\r\n * @param message (string) - Message of the exception.\r\n */\r\nexport function Exception(message) {\r\n    this.message = message;\r\n}\r\n\r\nException.prototype = {\r\n    log: function () {\r\n        if (!Settings.logging) return;\r\n        if (this.message === '') return; // Exit if nothing to log.\r\n\r\n        let message = 'UIBuilder >>>'; // Message to be printed into the log.\r\n\r\n        if (this.hasOwnProperty('name')) message += ' ' + this.name; // Add name if specified.\r\n        message += ' ' + this.message; // Add message text.\r\n\r\n        if (!this.hasOwnProperty('type') || this.type === 'exception') {\r\n            console.error(message);\r\n\r\n        } else if (this.type === 'warning') {\r\n            console.warn(message);\r\n\r\n        } else {\r\n            console.log(message);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport function InvalidParamException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Invalid parameter.';\r\n}\r\nInvalidParamException.prototype = Exception.prototype;\r\n\r\n\r\n// Invalid options on UI registration.\r\nexport function UIRegistrationException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'UI registration.';\r\n}\r\nUIRegistrationException.prototype = Exception.prototype;\r\n\r\n\r\n// Invalid options on UI registration.\r\nexport function ExtensionRegistrationException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Extension registration.';\r\n}\r\nExtensionRegistrationException.prototype = Exception.prototype;\r\n\r\n\r\n// Exception about invalid scheme structure.\r\nexport function InvalidSchemeException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Invalid scheme.';\r\n}\r\nInvalidSchemeException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on building UI.\r\nexport function RenderingException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Rendering error.';\r\n}\r\nRenderingException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on setting parsing rule.\r\nexport function SettingsException(message) {\r\n    Exception.call(this, message);\r\n    this.type = 'warning';\r\n    this.name = 'Settings error.';\r\n}\r\nSettingsException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on loading data to the Instance.\r\nexport function InstanceLoadException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Instance data loading.';\r\n}\r\nInstanceLoadException.prototype = Exception.prototype;\r\n\r\n\r\n// Error on loading data to the Instance.\r\nexport function ElementLoadException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Element data apply.';\r\n}\r\nElementLoadException.prototype = Exception.prototype;\r\n\r\n\r\nexport function UIDataException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'UI Data.';\r\n}\r\nUIDataException.prototype = Exception.prototype;\r\n\r\n\r\nexport function EventException(message) {\r\n    Exception.call(this, message);\r\n    this.name = 'Events';\r\n}\r\nEventException.prototype = Exception.prototype;","import Settings from '../core/settings';\r\nimport {Exception} from './exceptions';\r\n\r\n\r\n/**\r\n * @var {string} String used as prefix in logging.\r\n */\r\nlet logPrefix = 'UI';\r\n\r\nlet msgFormatter = null;\r\n\r\n\r\n/**\r\n * Logs message using console.log(e) function.\r\n */\r\nexport function log(message) {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    if (Settings.logging) console.log.apply(console, msgFormatter(args));\r\n}\r\n\r\n\r\n/**\r\n * Logs message using console.warn() function.\r\n */\r\nexport function warn(message) {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    if (Settings.logging) console.warn.apply(console, msgFormatter(args));\r\n}\r\n\r\n\r\n/**\r\n * Logs message using console.error() function.\r\n */\r\nexport function error(message) {\r\n    if (!Settings.logging) return;\r\n\r\n    let args = Array.prototype.slice.call(arguments);\r\n\r\n    if (message instanceof Exception) {\r\n        message.log();\r\n    } else {\r\n        console.error.apply(console, msgFormatter(args));\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction defaultFormatter(args) {\r\n    args.unshift(logPrefix + ' >');\r\n    return args;\r\n}\r\n\r\n\r\nfunction chromeFormatter(args) {\r\n    args.unshift('font-weight: 900');\r\n    args.unshift('%c ' + logPrefix + ' >');\r\n    return args;\r\n}\r\n\r\n\r\n\r\n\r\nmsgFormatter = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor) ? chromeFormatter : defaultFormatter;","/**\r\n * Implementation of the events.\r\n * Call this constructor on prototype to add methods.\r\n * Also instance for which prototype events will be added must has 'events' property.\r\n * To fire event use triggerEvent method.\r\n *\r\n * Example: addEventsMethods(UIElement.prototype);\r\n *\r\n *\r\n * Usage of the events:\r\n *\r\n * // Handler added on the port 1.\r\n * instance.on('newMessage -> 1', msg => doSomething(msg));\r\n *\r\n * // Remove all handlers and add new one.\r\n * instance.offAllPorts().on('change -> profile', data => doSomething(data));\r\n */\r\nexport default function addEventsMethods(target)\r\n{\r\n    // Ensure that object-container is exists.\r\n    if(!target.hasOwnProperty('__')){\r\n        target.__ = {};\r\n    }\r\n    target.__.events = {};\r\n    target.__.dispatchers = {};\r\n    target.__.eventsTimeouts = {};\r\n\r\n    /**\r\n     * Adds event listener but returns dispatcher.\r\n     * @param {string|number} eventName\r\n     * @param {function} [handler]\r\n     * @returns {EventsDispatcher}\r\n     */\r\n    target.listen = function (eventName, handler) {\r\n        let port = null;\r\n        let arr = eventName.split('->');\r\n        if(arr.length === 2){\r\n            eventName = arr[0].trim();\r\n            port = arr[1].trim();\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if (!this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName] = new EventsDispatcher(eventName);\r\n        }\r\n        if(port !== null && typeof handler === 'function'){\r\n            this.__.dispatchers[eventName].on(port, handler);\r\n        }\r\n        return this.__.dispatchers[eventName];\r\n    };\r\n\r\n    /**\r\n     * Adds event listener for the event with name [[eventName]].\r\n     * @param {string} eventName\r\n     * @param {function} handler\r\n     * @returns {*}\r\n     * @throw EventException\r\n     */\r\n    target.addEventListener = function (eventName, handler) {\r\n        let portNumber = null;\r\n        let arr = eventName.split('->');\r\n        if(arr.length === 2){\r\n            eventName = arr[0].trim();\r\n            portNumber = arr[1].trim();\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if (typeof handler !== 'function') throw new EventException('Type of handler is not a function');\r\n\r\n        if(portNumber !== null){\r\n            this.listen(eventName).onPort(portNumber, handler);\r\n        }else{\r\n            if (!Array.isArray(this.__.events[eventName])) this.__.events[eventName] = [];\r\n            if (this.__.events[eventName].indexOf(handler) >= 0) return;\r\n            this.__.events[eventName].push(handler);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Add pseudonym.\r\n    target.on = target.addEventListener;\r\n\r\n\r\n    /**\r\n     * Removes specified event listener.\r\n     * @param {string} eventName\r\n     * @param {function} [handler]\r\n     * @throw EventException\r\n     */\r\n    target.removeEventListener = function (eventName, handler) {\r\n        eventName = eventName.toLowerCase();\r\n        if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n        if(handler === undefined){\r\n            delete this.__.events[eventName];\r\n            this.__.events[eventName] = [];\r\n        }else{\r\n            if (typeof handler !== 'function') throw new EventException('Type of handler is not a function');\r\n            let index = this.__.events[eventName].indexOf(handler);\r\n            if (index < 0) return this;\r\n            this.__.events[eventName].splice(index, 1);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Add pseudonym.\r\n    target.off = target.removeEventListener;\r\n\r\n\r\n    /**\r\n     * Triggers event with name [[eventName]].\r\n     * There are few arguments can be passed instead of date.\r\n     * All the arguments (omitting event name) will be passed to the handlers.\r\n     * To trigger event with delay use next syntax:\r\n     *   target.triggerEvent('change ~250');\r\n     *\r\n     * In the example above '~250' means that event will be triggered with delay in 250 milliseconds.\r\n     *\r\n     * @param {string} eventName\r\n     * @param {*} [data]\r\n     */\r\n    target.triggerEvent = function (eventName, data) {\r\n        eventName = eventName.toLowerCase();\r\n\r\n        let delay = 0;\r\n        let arr = eventName.split('~');\r\n        if (arr.length > 1) delay = parseInt(arr[1].trim());\r\n        eventName = arr[0].trim();\r\n\r\n        let args = [];\r\n        for (let i = 1, len = arguments.length; i < len; i++) {\r\n            args.push(arguments[i]);\r\n        }\r\n\r\n        // Interrupt all delayed events.\r\n        if (this.__.eventsTimeouts !== undefined) {\r\n            clearTimeout(this.__.eventsTimeouts[eventName]);\r\n        }\r\n\r\n        if (this.__.dispatchers.hasOwnProperty(eventName)) {\r\n            if (delay > 0) {\r\n                this.__.eventsTimeouts[eventName] = setTimeout(function (_this, eventName, args) {\r\n                    _this.__.dispatchers[eventName].runHandlers(_this, args);\r\n                }, delay, this, eventName, args);\r\n            } else {\r\n                this.__.dispatchers[eventName].runHandlers(this, args);\r\n            }\r\n        }\r\n\r\n        if (!this.__.events.hasOwnProperty(eventName)) return;\r\n\r\n        if (delay > 0) {\r\n            this.__.eventsTimeouts[eventName] = setTimeout(function (_this, eventName, args) {\r\n                for (let i = 0; i < _this.__.events[eventName].length; i++) {\r\n                    _this.__.events[eventName][i].apply(_this, args);\r\n                }\r\n            }, delay, this, eventName, args);\r\n        } else {\r\n            for (let i = 0; i < this.__.events[eventName].length; i++) {\r\n                this.__.events[eventName][i].apply(this, args);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Interrupts all delayed events with given name.\r\n     * @param eventName\r\n     * @return {target}\r\n     */\r\n    target.interruptEvent = function (eventName) {\r\n        clearTimeout(this.__.eventsTimeouts[eventName]);\r\n        return this;\r\n    };\r\n\r\n\r\n    /**\r\n     * Removes handler of the given event from the given port.\r\n     * @param eventName {string}\r\n     * @param port {string}\r\n     */\r\n    target.offPort = function (eventName, port) {\r\n        if(port === undefined){\r\n            let arr = eventName.split('->');\r\n            if(arr.length === 2){\r\n                eventName = arr[0].trim();\r\n                port = arr[1].trim();\r\n            }\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        if(this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName].offPort(port);\r\n        }\r\n    };\r\n\r\n    target.offAllPorts = function (eventName) {\r\n        eventName = eventName.toLowerCase();\r\n        if(this.__.dispatchers.hasOwnProperty(eventName)){\r\n            this.__.dispatchers[eventName].offAllPorts();\r\n        }\r\n    };\r\n\r\n    target.trigger = target.triggerEvent;\r\n}\r\n\r\n\r\n/**\r\n * Object that encapsulates events ports.\r\n * Port is like named event handler.\r\n * It's useful when one event handler must be replaced with another one\r\n * when link on the previous handler is absent.\r\n * Also ports can be used with entity ids (to attach handler for some id).\r\n */\r\nclass EventsDispatcher\r\n{\r\n    constructor (eventName) {\r\n        this.eventName = eventName;\r\n        this.ports = {};\r\n    }\r\n\r\n    /**\r\n     * Attaches handler on the given port.\r\n     * @param port {string}\r\n     * @param handler {function}\r\n     */\r\n    onPort(port, handler){\r\n        if(this.ports.hasOwnProperty(port)){\r\n            delete this.ports[port];\r\n        }\r\n        if(typeof handler !== 'function'){\r\n            throw new EventException('Type of handler is not a function');\r\n        }\r\n        this.ports[port] = handler;\r\n    }\r\n\r\n    /**\r\n     * Runs all handlers (all ports).\r\n     * Binds context as [this] and passes arguments to the handlers.\r\n     * @param context {object}\r\n     * @param args {array}\r\n     */\r\n    runHandlers(context, args){\r\n        for(let p in this.ports){\r\n            if(this.ports.hasOwnProperty(p)){\r\n                this.ports[p].apply(context, args);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes event handler from the given port.\r\n     * @param port {string}\r\n     */\r\n    offPort(port){\r\n        if (this.ports.hasOwnProperty(port)) {\r\n            delete this.ports[port];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all event handlers.\r\n     */\r\n    offAllPorts(){\r\n        delete this.ports;\r\n        this.ports = {};\r\n    }\r\n}","/**\r\n * Returns true if object is empty.\r\n * @param {object} obj\r\n * @returns {boolean}\r\n */\r\nexport function isEmpty(obj) {\r\n    if (obj === null) return true;\r\n    if (obj.length > 0)    return false;\r\n    if (obj.length === 0)  return true;\r\n    if (typeof obj !== \"object\") return true;\r\n    for (let key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * Creates copy of the given object.\r\n * Note that only simple objects will be copied recursively.\r\n * Other objects will be copied as links.\r\n * @param {object} obj\r\n * @returns {{}}\r\n */\r\nexport function cloneSimpleObject(obj) {\r\n    let clone = {};\r\n    for(let i in obj) {\r\n        if(obj.hasOwnProperty(i)){\r\n            if(Array.isArray(obj[i])){\r\n                clone[i] = obj[i].slice(0);\r\n            }else if(obj[i] !== null && typeof obj[i] === \"object\" && obj[i].constructor === Object && obj[i] !== null) {\r\n                clone[i] = cloneSimpleObject(obj[i]);\r\n            }else{\r\n                clone[i] = obj[i];\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n}\r\n\r\nexport function cloneObjectTo(src, dst){\r\n    for(let p in src){\r\n        if(src.hasOwnProperty(p)){\r\n            if(Array.isArray(src[p])){\r\n                dst[p] = src[p].slice(0);\r\n            }else if(typeof src[p] === 'object'){\r\n                dst[p] = {};\r\n                cloneObjectTo(src[p], dst[p]);\r\n            }else{\r\n                dst[p] = src[p];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Extends object using another one.\r\n * Note that properties that are not simple objects will be copied as links without recursion.\r\n * It used when copying CSS styles: StyleGetter must be copied as link.\r\n * @param {object} src\r\n * @param {object} dst\r\n * @returns {*}\r\n */\r\nexport function extendObject(src, dst) {\r\n    for(let p in src){\r\n        if(src.hasOwnProperty(p)){\r\n            if(typeof src[p] !== 'object' || src[p].constructor !== Object){\r\n                dst[p] = src[p];\r\n            }else{\r\n                if(typeof dst[p] !== 'object'){\r\n                    dst[p] = {};\r\n                }\r\n                extendObject(src[p], dst[p]);\r\n            }\r\n        }\r\n    }\r\n    return dst;\r\n}","import addEventsMethods from '../utils/events-methods';\r\nimport {cloneSimpleObject} from '../utils/object-utils';\r\nimport {error} from '../utils/logging';\r\n\r\n/**\r\n * Class that represents single extension.\r\n *\r\n * @property name    {string}\r\n * @property options {object}\r\n *\r\n * @method on(eventName, handler)\r\n * @method off(eventName, handler)\r\n * @method triggerEvent(eventName, [args...])\r\n */\r\nclass Extension\r\n{\r\n    constructor(name, options) {\r\n        if (options === undefined) options = {};\r\n\r\n        this.name = name;\r\n        this.params = options.params || {};\r\n\r\n        // Add properties to store events handlers.\r\n        this.__ = {\r\n            events: {},\r\n            eventsTimeouts: {},\r\n            dispatchers: {}\r\n        };\r\n\r\n        // Add events listeners from properties that begins from 'on'.\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && typeof options[p] === 'function' && p.length > 2 && p.slice(0, 2) === 'on') {\r\n                this.on(p.slice(2).toLowerCase(), options[p]);\r\n            }else if (!this.hasOwnProperty(p)) {\r\n                this[p] = options[p];\r\n            }\r\n        }\r\n    }\r\n\r\n    applyTo(target, params) {\r\n        let ext = new ExtensionInstance(target, this);\r\n\r\n        for (let p in params) {\r\n            if (params.hasOwnProperty(p) && ext.params.hasOwnProperty(p)) {\r\n                ext.params[p] = params[p];\r\n            }\r\n        }\r\n\r\n        if (target.hasOwnProperty('__') && target.__.hasOwnProperty('extensions')) {\r\n            target.__.extensions[this.name] = ext;\r\n        }\r\n\r\n        this.triggerEvent('apply', ext, target, ext.params);\r\n        extensionsManager.triggerEvent('apply', ext);\r\n        return ext;\r\n    }\r\n\r\n    removeFrom(target) {\r\n        if (target.hasOwnProperty('__') && target.__.hasOwnProperty('extensions')) {\r\n            let ext = target.__.extensions[this.name];\r\n            if (ext instanceof ExtensionInstance) {\r\n                ext.triggerEvent('remove');\r\n                this.triggerEvent('remove', ext);\r\n            }\r\n        }\r\n    }\r\n}\r\n// Add events support.\r\naddEventsMethods(Extension.prototype);\r\n\r\n/**\r\n * Class that represents instance of the applied extension.\r\n * Holds information about extension, target and parameters.\r\n *\r\n * @property name   {string}\r\n * @property target {Element|Instance}\r\n * @property params {object}\r\n *\r\n * @method on(eventName, handler)\r\n * @method off(eventName, handler)\r\n * @method triggerEvent(eventName, [args...])\r\n */\r\nclass ExtensionInstance\r\n{\r\n    constructor(target, extension) {\r\n        this.name = extension.name;\r\n        this.target = target;\r\n        this.params = cloneSimpleObject(extension.params);\r\n        this.vars = {};\r\n    }\r\n\r\n    update(params) {\r\n        let ext = extensionsManager(this.name);\r\n        if (ext !== null) {\r\n            ext.triggerEvent('update', this, params);\r\n        }\r\n    }\r\n\r\n    remove() {\r\n        let ext = extensionsManager(this.name);\r\n        if (ext !== null) {\r\n            ext.triggerEvent('remove', this);\r\n        }\r\n    }\r\n}\r\naddEventsMethods(ExtensionInstance.prototype);\r\n\r\n/**\r\n * Object that holds all registered extensions.\r\n * @type {{Extension}}\r\n */\r\nlet extensions = {};\r\n\r\n\r\n/**\r\n * Exported function-helper that returns extension by name.\r\n * Also has methods to manage extensions.\r\n * @param name\r\n * @return {*}\r\n */\r\nexport default function extensionsManager(name) {\r\n    if (extensions.hasOwnProperty(name)) {\r\n        return extensions[name];\r\n    }\r\n    return null;\r\n}\r\naddEventsMethods(extensionsManager);\r\n\r\n/**\r\n * Registers new extension with given name.\r\n * @param name {string}\r\n * @param options {object}\r\n */\r\nextensionsManager.register = function(name, options) {\r\n    if (extensions.hasOwnProperty(name)) {\r\n        error('Extension with name \"' + name + '\" is already registered.');\r\n    }\r\n    let ext = new Extension(name, options);\r\n    extensionsManager.triggerEvent('register', ext);\r\n    extensions[name] = ext;\r\n};","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n * Data provider\r\n *\r\n * Data is a kind of data provider that used to retrieve data\r\n * from some storage or resource or generate it itself.\r\n * To get data use fetch() method.\r\n * Also Data provides events support.\r\n *\r\n * The data fetched by the Data can be cached.\r\n * To use cache define \"cacheLifetime\" property when configuring the Data.\r\n * If lifetime is null then cache will not be used.\r\n * If lifetime is Infinity then cached data will be returning until the page will be refreshed.\r\n *\r\n * If you need to use some data on fetching process (AJAX or generating depending on user input, etc.)\r\n * the parameters() method can be used for this purposes.\r\n *\r\n * The next events are available:\r\n * - fetch     fetch() method is called\r\n * - progress  another part of data is ready\r\n * - dataReady Data is ready to return data\r\n * - error     error is occurred during data fetching an error event will be triggered\r\n *\r\n * @method on(eventName, args...)\r\n * @param {object} params - Parameters that contains necessary data for fetching.\r\n * @constructor\r\n */\r\nexport default class Data\r\n{\r\n    constructor(params){\r\n        if (params === undefined) {\r\n            params = {};\r\n        }\r\n\r\n        // Define service property that encapsulates hidden data.\r\n        this.__ = {\r\n            events: {},\r\n            dispatchers: {},\r\n            eventsTimeouts: {}\r\n        };\r\n\r\n        /**\r\n         * Flag if last fetch was completed with error.\r\n         * @type {boolean}\r\n         */\r\n        this.hasError = false;\r\n\r\n        /**\r\n         * Flag if Data is ready to fetching.\r\n         * @type {boolean}\r\n         */\r\n        this.ready = true;\r\n\r\n        /**\r\n         * Data got by last fetch.\r\n         * @type {null|*}\r\n         */\r\n        this.cache = null;\r\n\r\n        /**\r\n         * Lifetime of cache. null - not used. Infinity - until page refresh.\r\n         * @type null|number|Infinity\r\n         */\r\n        this.cacheLifetime = null;\r\n\r\n        /**\r\n         * If true allows to fetch data if previous\r\n         * fetch process is not completed yet.\r\n         * Set is to false to prevent unnecessary fetching calls.\r\n         * @type {boolean}\r\n         */\r\n        this.allowMultiple = true;\r\n\r\n        /**\r\n         * Set the collector.\r\n         * Data collector is a function that provides data by the given parameters.\r\n         * If not set - defaultCollector will be used.\r\n         */\r\n        if (params.hasOwnProperty('collector')) {\r\n            if (typeof params.collector !== 'function')\r\n                throw new UIDataException('Collector must be a function but ' + typeof params.collector + ' given.');\r\n            this.collector = params.collector;\r\n        } else {\r\n            this.collector = defaultCollector;\r\n        }\r\n\r\n        // Add events handlers if any given with 'on' prefix.\r\n        let events = ['fetch', 'complete', 'error', 'progress'];\r\n        for(let i = 0; i < events.length; i++){\r\n            if (params.hasOwnProperty('on' + events[i]) && typeof params['on' + events[i]] === 'function') {\r\n                this.on(events[i], params['on' + events[i]]);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Time in which data should be loaded.\r\n         * If waiting time is elapsed - an error event will be triggered\r\n         * and [hasError] property will be set to true.\r\n         * @type {number}\r\n         */\r\n        this.waitingLimit = params.hasOwnProperty('waitingTime') ? parseInt(params['waitingTime']) : 3000;\r\n\r\n        /**\r\n         * Last data fetching time.\r\n         * @type {number}\r\n         */\r\n        this.timeElapsed = 0;\r\n\r\n        /**\r\n         * UNIX timestamp which indicates last fetching start time.\r\n         * @type {number}\r\n         */\r\n        this.lastFetchTime = Date.now();\r\n\r\n        /**\r\n         * Data to be used on fetching.\r\n         * For example it can be parameters to be sent via AJAX.\r\n         */\r\n        if(params.hasOwnProperty('data')){\r\n            this._parameters = params.data;\r\n        }else{\r\n            this._parameters = params.hasOwnProperty('parameters') ? params.parameters : {};\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets parameters of the Data. It can be used during fetching process.\r\n     * For example in DataAjax parameters will be send with request.\r\n     * @param [params] {object}\r\n     * @returns {Data}\r\n     */\r\n    parameters(params) {\r\n        if(params === undefined){\r\n            return this._parameters;\r\n        }\r\n        this._parameters = params;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Alias for the parameters() method.\r\n     * @param [params] {object}\r\n     * @return {Data}\r\n     */\r\n    params(params) {\r\n        return this.parameters(params);\r\n    }\r\n\r\n    /**\r\n     * Fetches data by executing collector.\r\n     * @param [callback] {function}\r\n     * @return {boolean|*}\r\n     */\r\n    fetch(callback) {\r\n        this.hasError = false;\r\n        if ((this.allowMultiple || this.ready) && typeof this.collector === 'function') {\r\n            this.triggerEvent('fetch');\r\n            this.ready = false;\r\n            return this.collector(callback);\r\n        }\r\n        if (typeof params === 'object') this.params = params;\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Alias for the fetch() method.\r\n     * @param [callback] {function}\r\n     * @return {boolean|*}\r\n     */\r\n    send(callback) {\r\n        return this.fetch(callback);\r\n    }\r\n}\r\n\r\n// Add events to the Data's instances.\r\naddEventsMethods(Data.prototype);\r\n\r\n// Also add events to the Data object globally.\r\naddEventsMethods(Data);\r\n\r\n\r\n/**\r\n * Data collector\r\n *\r\n * Data collectors are the functions that encapsulate\r\n * data fetching process and provide unified procedure of the\r\n * returning fetched data.\r\n * Data returning is implemented by using a callback function\r\n * that will be called just after data received.\r\n * Also data collectors triggers all necessary events of the\r\n * Data to which they was attached.\r\n *\r\n * Events that can be triggered:\r\n * - complete  When data fetching process is complete\r\n * - dataReady When data is successfully fetched\r\n * - error     If error is occurred\r\n * - progress  If a part of all data was fetched. Percentage of the data done must be passed in the second argument.\r\n *\r\n * @param {function} callback\r\n * @see Data\r\n */\r\nfunction defaultCollector(callback) {\r\n    if (typeof callback !== 'function') this.triggerEvent('error');\r\n    callback(this.cache, this);\r\n    this.triggerEvent('dataReady', this.cache);\r\n}\r\n\r\n\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport extensionsManager from './extension';\r\nimport {error, warn} from '../utils/logging';\r\nimport {cloneObjectTo} from '../utils/object-utils';\r\nimport Animation from './animation';\r\nimport Data from './data';\r\n\r\n/**\r\n * Element class represents simple DOM node.\r\n * It's actually wrapper of the node.\r\n * Elements provide few useful methods like [css()}, [val()] and so on.\r\n */\r\nexport default class Element\r\n{\r\n    constructor(params){\r\n        // Define service property that encapsulates hidden data.\r\n        Object.defineProperty(this, '__', {\r\n            value: {},\r\n            configurable: false,\r\n            enumerable: false,\r\n            writeable: false\r\n        });\r\n\r\n        // Set parameters\r\n        this.__.name = params.name !== undefined ? params.name : null;\r\n        this.__.child = params.child !== undefined ? params.child : null;\r\n        this.__.childParams = params.parameters || {};\r\n        this.__.class = params.class !== undefined ? params.class : null;\r\n        this.__.id = params.id !== undefined ? params.id : null;\r\n        this.__.tag = params.tag !== null && params.tag !== undefined ? params.tag.toLowerCase() : 'div';\r\n        this.__.inclusion = null;\r\n\r\n        // Create node.\r\n        if (this.__.tag === '') this.__.tag = 'div';\r\n        this.__.node = document.createElement(this.__.tag);\r\n        this.__.parent = null;\r\n        this.__.uiinstance = null;\r\n        this.__.instance = null;\r\n\r\n        this.__.node.instance = null;\r\n\r\n        // Deprecated property.\r\n        // Please use [instance] property.\r\n        this.__.node.uiinstance = null;\r\n\r\n\r\n        this.__.node.element = this;\r\n\r\n        // Deprecated property.\r\n        // Please use [element] property.\r\n        this.__.node.uielement = this;\r\n\r\n        /**\r\n         * Holds extensions that applied to the element.\r\n         * @type {{ExtensionInstance}}\r\n         */\r\n        this.__.extensions = {};\r\n\r\n        // Deprecated properties.\r\n        // Please use [extensions] property to store extensions data.\r\n        // Dragging options.\r\n        this.__.draggable = false;\r\n        this.__.dragX = false;\r\n        this.__.dragY = false;\r\n        this.__.isDragging = false;\r\n        this.__.dragWithinParent = false;\r\n        this.__.dragBoundaries = false;\r\n        this.__.localization = null;\r\n        this.__.translation = null;\r\n\r\n\r\n        // Tabs behaviour properties.\r\n        this.__.tabContainer = null;\r\n\r\n        this.__.animation = null;\r\n        this.__.fx = null;\r\n\r\n        // Set data collector.\r\n        // Not used at the moment.\r\n        // Desired behavior it's to link data provider with element to\r\n        // update data automatically.\r\n        this.__.data = params.data === undefined ? null : params.data;\r\n\r\n        // Children is an array for the instances of child UI or inclusions (defined in the scheme as '|item' for example).\r\n        // Do NOT add single child elements or other.\r\n        this.__.children = [];\r\n\r\n        // Events handlers container.\r\n        this.__.events = {};\r\n\r\n        // Attach attributes.\r\n        for (let p in params.attributes) {\r\n            if(params.attributes.hasOwnProperty(p)){\r\n                this.__.node.setAttribute(p, params.attributes[p]);\r\n            }\r\n        }\r\n\r\n        // Set properties.\r\n        for (let p in params.properties) {\r\n            if(params.properties.hasOwnProperty(p)){\r\n                // Use prototype method if available.\r\n                if (Element.prototype.hasOwnProperty(p) && typeof Element.prototype[p] === 'function') {\r\n                    Element.prototype[p].call(this, params.properties[p]);\r\n\r\n                    // Otherwise set node properties directly.\r\n                } else {\r\n                    this.__.node[p] = params.properties[p];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Set class and id.\r\n        if (typeof this.__.class === 'string') this.__.node.className = this.__.class;\r\n        if (typeof this.__.id === 'string') this.__.node.id = this.__.id;\r\n    }\r\n}\r\n\r\n/**\r\n * Applies extension to the element.\r\n * Returns true if applying was successful.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.applyExtension = function (name, params) {\r\n    // Log warning if extension is already applied to the element.\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        warn('Extension with name \"' + name + '\" is already applied to the element.');\r\n        return false;\r\n    }\r\n\r\n    // Log error if requested extension is absent.\r\n    let ext = extensionsManager(name);\r\n    if(ext === null){\r\n        error('Extension with name \"' + name + '\" is not registered yet.');\r\n        return false;\r\n    }\r\n\r\n    this.__.extensions[name] = ext.applyTo(this, params);\r\n    return true;\r\n};\r\n\r\n/**\r\n * Returns extension by name.\r\n * @param name {string}\r\n * @return {ExtensionInstance|null}\r\n */\r\nElement.prototype.extension = function (name) {\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        return this.__.extensions[name];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Removes extension from the element.\r\n * Returns true if removing was successful.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nElement.prototype.removeExtension = function (name) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n\r\n    let ext = this.__.extensions[name];\r\n    if (ext.remove !== undefined) {\r\n        ext.remove();\r\n        delete this.__.extensions[name];\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * Tries to update extension with given name by passing new parameters.\r\n * To make update possible extension must implement 'update' event handler.\r\n * @param name {string} Name of the extension.\r\n * @param params {object} Parameters to be updated.\r\n * @return {boolean}\r\n */\r\nElement.prototype.updateExtension = function (name, params) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n    let ext = this.__.extensions[name];\r\n    if (ext.update !== undefined) {\r\n        ext.update(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Applies localization to the element.\r\n * The localization category is stored in the \"localization\" attribute\r\n * and the translation is stored in the \"T\" property of the element node.\r\n * @param localization\r\n * @param translation\r\n * @returns {Element}\r\n */\r\nElement.prototype.applyLocalization = function (localization, translation) {\r\n    this.__.node.setAttribute('localization', localization);\r\n    this.__.node.T = translation;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Checks if element has child UI.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasChildUI = function () {\r\n    return this.__.child !== null;\r\n};\r\n\r\n/**\r\n * Returns node of the element.\r\n * Note that node can be not appended to another one.\r\n * @returns {Node}\r\n */\r\nElement.prototype.node = function(){\r\n    return this.__.node;\r\n};\r\n\r\n/**\r\n * Getter/setter of the node's [scrollTop] property.\r\n * @param value\r\n * @returns {Element}\r\n */\r\nElement.prototype.scrollTop = function(value){\r\n    if(value === undefined){\r\n        return this.__.node.scrollTop;\r\n    }\r\n    this.__.node.scrollTop = value;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Getter/setter of the node's [ScrollHeight] property.\r\n * @returns {number}\r\n */\r\nElement.prototype.scrollHeight = function(){\r\n    return this.__.node.scrollHeight;\r\n};\r\n\r\n/**\r\n * Sets child UI.\r\n * @param {string|UI} ui\r\n * @returns {Element}\r\n */\r\nElement.prototype.setChildUI = function (ui) {\r\n    if (typeof ui === 'string') {\r\n        this.__.child = ui;\r\n    } else if (ui.render !== undefined) {\r\n        this.__.child = ui.name;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns child UI.\r\n * @returns {UI|null}\r\n */\r\nElement.prototype.getChildUI = function () {\r\n    return uiRegistry.get(this.__.child);\r\n};\r\n\r\n/**\r\n * Checks if element includes another ui instance.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasInclusion = function () {\r\n    return this.__.inclusion !== null\r\n        && this.__.children.length === 1\r\n        && this.__.children[0].__ !== undefined;\r\n};\r\n\r\n/**\r\n * Finds parent element (Element) inside own Instance.\r\n * If element has no local parent null will be returned.\r\n * @returns {Element|null}\r\n */\r\nElement.prototype.findTopLocalParent = function () {\r\n    let p = this;\r\n    while (p instanceof Element) {\r\n        if (p.__.parent === null) break;\r\n        if (p.__.parent instanceof Element && p.__.parent.__.instance === this.__.instance) {\r\n            p = p.__.parent;\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n    if (p === this) return null;\r\n    return p;\r\n};\r\n\r\n/**\r\n * Returns element inclusion.\r\n * @returns {Element.inclusion|*|null}\r\n */\r\nElement.prototype.inclusion = function () {\r\n    return this.__.inclusion;\r\n};\r\n\r\n/**\r\n * Returns instance in which element is rendered.\r\n * @returns {Element.instance|*|null}\r\n */\r\nElement.prototype.instance = function () {\r\n    return this.__.instance;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Use [instance()] method instead.\r\n * @returns {Instance}\r\n * @deprecated\r\n * @see Element.instance\r\n */\r\nElement.prototype.UII = function () {\r\n    return this.__.instance;\r\n};\r\n\r\n/**\r\n * Returns prent element.\r\n * @returns {Element|null}\r\n */\r\nElement.prototype.parent = function () {\r\n    return this.__.parent;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Use [parentInstance()] method instead.\r\n * @returns {Instance|null}\r\n * @deprecated\r\n * @see Element.parentInstance\r\n */\r\nElement.prototype.parentUII = function () {\r\n    return this.instance() === null ? null : this.UII().parentUII();\r\n};\r\n\r\n/**\r\n * Returns parent instance.\r\n * @returns {*}\r\n */\r\nElement.prototype.parentInstance = function () {\r\n    return this.instance() === null ? null : this.UII().parentUII();\r\n};\r\n\r\n/**\r\n * Returns all children of the element.\r\n * Children are all the instances that rendered inside the element using child UI.\r\n * @returns {array}\r\n */\r\nElement.prototype.children = function () {\r\n    return this.__.children;\r\n};\r\n\r\n/**\r\n * Returns all child elements even if they are not instances of the child UI.\r\n * @returns {Element[]}\r\n */\r\nElement.prototype.getAllChildElements = function()\r\n{\r\n    let c = this.__.node.childNodes;\r\n    let res = [];\r\n    for(let i = 0, len = c.length; i < len; i++){\r\n        if(c[i].uielement instanceof Element) res.push(c[i].uielement);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns all nearby elements (siblings) even if they are not instances of the child UI.\r\n * @returns {Element[]}\r\n */\r\nElement.prototype.getAllNearbyElements = function()\r\n{\r\n    let c = this.__.node.parentNode.childNodes;\r\n    let res = [];\r\n    for(let i = 0, len = c.length; i < len; i++){\r\n        if(c[i].element instanceof Element && c[i].element !== this) res.push(c[i].element);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * List of events that will be attached directly to the node.\r\n * @type {string[]}\r\n */\r\nlet nativeEvents = ['submit', 'abort', 'beforeinput', 'blur', 'click', 'compositionen', 'paste',\r\n    'compositionstart', 'compositionupdate', 'dblclick', 'error', 'focus', 'change',\r\n    'focusin', 'focusout', 'input', 'keydown', 'keypress', 'keyup', 'load',\r\n    'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseout', 'mouseover', 'mousewheel',\r\n    'mouseup', 'resize', 'scroll', 'select', 'unload', 'wheel', 'touchstart', 'touchend', 'touchmove'\r\n];\r\n\r\n\r\n/**\r\n * Implements specific events system.\r\n * Elements need to handle native JS events so\r\n * do NOT use [addEventsImplementation] for Element!\r\n * Note that element's events system doesn't supports ports.\r\n * @param {string} eventName\r\n * @param {function} handler\r\n */\r\nElement.prototype.addEventListener = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if(typeof handler !== 'function'){\r\n        error('Invalid callback type given for the event \"'+ eventName + '\".');\r\n        return;\r\n    }\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) this.__.events[eventName] = [];\r\n\r\n    // Exit if handler is already added.\r\n    if (this.__.events[eventName].indexOf(handler) >= 0) {\r\n        warn('Handler for the event \"' + eventName + '\" already added.');\r\n        return this;\r\n    }\r\n\r\n    this.__.events[eventName].push(handler);\r\n\r\n    if (nativeEvents.indexOf(eventName) >= 0) {\r\n        this.__.node.addEventListener(eventName, runElementHandlers);\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n// Add some syntax sugar.\r\nElement.prototype.on = Element.prototype.addEventListener;\r\n\r\n/**\r\n * Removes events listener.\r\n * @param eventName\r\n * @param {function} handler\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeEventListener = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n\r\n    let index = this.__.events[eventName].indexOf(handler);\r\n    if (index < 0) return this;\r\n    this.__.events[eventName].splice(index, 1);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes all handlers for the given event.\r\n * @param {string} eventName\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeAllEventListeners = function (eventName) {\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n    this.__.events[eventName] = null;\r\n    delete this.__.events[eventName];\r\n    this.__.node.removeEventListener(eventName, runElementHandlers);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes given handler (or all handlers if omitted) of the given event.\r\n * @param {string} eventName\r\n * @param {function} [handler]\r\n * @returns {Element}\r\n */\r\nElement.prototype.off = function (eventName, handler) {\r\n    eventName = eventName.toLowerCase();\r\n    if (handler !== undefined) {\r\n        this.removeEventListener(eventName, handler);\r\n    } else {\r\n        this.removeAllEventListeners(eventName);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Triggers event with given name.\r\n * @param {string} eventName\r\n * @param {*} [data]\r\n * @returns {Element}\r\n */\r\nElement.prototype.triggerEvent = function (eventName, data) {\r\n    eventName = eventName.toLowerCase();\r\n    let args = [], i;\r\n    for (i = 1; i < arguments.length; i++) {\r\n        args.push(arguments[i]);\r\n    }\r\n\r\n    if (eventName.slice(0, 2) === 'on') eventName = eventName.slice(2);\r\n    if (!this.__.events.hasOwnProperty(eventName)) return this;\r\n\r\n    let handlers = this.__.events[eventName];\r\n    for (i = 0; i < handlers.length; i++) {\r\n        handlers[i].apply(this, args);\r\n    }\r\n};\r\n\r\nfunction runElementHandlers(e) {\r\n    let handlers = this.uielement.__.events[e.type];\r\n    for (let i = 0; i < handlers.length; i++) {\r\n        handlers[i].call(this.uielement, this.uiinstance, e);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Removes all children.\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeChildren = function () {\r\n    for (let i = 0, len = this.__.children.length; i < len; i++) {\r\n        this.__.children[0].remove();\r\n    }\r\n    this.__.children = [];\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Removes element from the parent and from the instance.\r\n */\r\nElement.prototype.remove = function () {\r\n    if (this.__.node.parentNode === null) return;\r\n    this.__.node.parentNode.removeChild(this.__.node);\r\n    delete this.__.node.uiinstance[this.__.name];\r\n};\r\n\r\n\r\n/**\r\n * Adds one instance of child UI to the element.\r\n * @param {boolean} [atStart] If true, builds UI at the start of the list\r\n * @param {object} [params] Parameters of the newly created UI.\r\n * @returns {Instance} - New instance of the UI, that was appended to the Element.node\r\n */\r\nElement.prototype.addOne = function (atStart, params) {\r\n    if (typeof params !== 'object') {\r\n        params = typeof atStart === 'object' ? atStart : this.__.childParams;\r\n    }\r\n    atStart = atStart === true;\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.add(ui, atStart, params);\r\n};\r\n\r\n/**\r\n *\r\n * @param target\r\n * @param params\r\n * @return {*}\r\n */\r\nElement.prototype.addOneAfter = function (target, params) {\r\n    if (typeof params !== 'object') {\r\n        params = {};\r\n    }\r\n    if(target.isImplementationOf === undefined){\r\n        return error('Invalid parameter given for the element method \"addOneAfter()\" - instance is required but ' + (typeof target) + ' given.');\r\n    }\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.addAfter(ui, target, params);\r\n};\r\n\r\n/**\r\n *\r\n * @param target\r\n * @param params\r\n * @return {*}\r\n */\r\nElement.prototype.addOneBefore = function (target, params) {\r\n    if (typeof params !== 'object') {\r\n        params = {};\r\n    }\r\n    if(target.isImplementationOf === undefined){\r\n        return error('Invalid parameter given for the element method \"addOneBefore()\" - instance is required but ' + (typeof target) + ' given.');\r\n    }\r\n    if (this.__.child === null) return null;\r\n    let ui = uiRegistry.get(this.__.child);\r\n    if (ui === null) return null;\r\n    return this.addBefore(ui, target, params);\r\n};\r\n\r\n\r\n/**\r\n * Renders UI inside element (itself).\r\n * @param {UI|string} ui\r\n * @param {boolean} [atStart] if true new elements will be added at start. Default is false.\r\n * @param {object} [params]\r\n * @returns {Instance}\r\n */\r\nElement.prototype.add = function (ui, atStart, params) {\r\n    if (atStart === undefined || atStart === null) atStart = false;\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = uiRegistry.get(ui);\r\n        if (ui === null) {\r\n            error('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.renderTo === undefined) {\r\n        error('First argument of the add() method must be UI or string');\r\n    }\r\n    let instance = ui.renderTo(this, atStart, params);\r\n\r\n    this.triggerEvent('add', instance);\r\n\r\n    instance.__.parent = this;\r\n    return instance;\r\n};\r\n\r\n\r\nElement.prototype.addAfter = function (ui, item, params) {\r\n    if (item.isImplementationOf === undefined){\r\n        error('First argument for the method \"addAfter()\" is not instance.');\r\n        return null;\r\n    }\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = _uibuilder(ui);\r\n        if (ui === null) {\r\n            throw new InvalidParamException('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.prepare === undefined) {\r\n        throw new InvalidParamException('First argument of the addAfter() method must be UI or string');\r\n    }\r\n    let instance = ui.prepare(params);\r\n\r\n    // EXPERIMENTAL\r\n    // Next event may be removed in the future so don't use it.\r\n    // Exit if user prevents adding.\r\n    let event = new Event('beforeAdd', {cancelable: true});\r\n    this.triggerEvent('beforeAdd', instance, event);\r\n    if (event.defaultPrevented) return null;\r\n\r\n    let lastElement = item.getLastRootElement();\r\n    instance.appendAfter(lastElement);\r\n    instance.__.parent = this;\r\n\r\n    // Put instance into the children array.\r\n    let parent = lastElement.parent();\r\n    if(parent.hasChildUI()){\r\n        let children = parent.__.children;\r\n        if(children.length <= 1){\r\n            parent.__.children.push(instance);\r\n        }else{\r\n            for(let i = 0; i < children.length; i++){\r\n                if(children[i] === item){\r\n                    parent.__.children.splice(i, 0, instance);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    instance.triggerEvent('render', params);\r\n    ui.triggerEvent('render', instance, params);\r\n    this.triggerEvent('add', instance);\r\n\r\n    return instance;\r\n};\r\n\r\n\r\nElement.prototype.addBefore = function (ui, item, params) {\r\n    if (item.isImplementationOf === undefined){\r\n        error('First argument for the method \"addAfter()\" is not instance.');\r\n        return null;\r\n    }\r\n\r\n    if (typeof ui === 'string') {\r\n        ui = _uibuilder(ui);\r\n        if (ui === null) {\r\n            throw new InvalidParamException('UI with name ' + ui + ' is absent.');\r\n        }\r\n    }\r\n\r\n    if (ui.prepare === undefined) {\r\n        throw new InvalidParamException('First argument of the addAfter() method must be UI or string');\r\n    }\r\n\r\n    let instance = ui.prepare(params);\r\n\r\n    // EXPERIMENTAL\r\n    // Next event may be removed in the future so don't use it.\r\n    // Exit if user prevents adding.\r\n    let event = new Event('beforeAdd', {cancelable: true});\r\n    this.triggerEvent('beforeAdd', instance, event);\r\n    if (event.defaultPrevented) return null;\r\n\r\n\r\n    let firstElement = item.getFirstRootElement();\r\n    instance.appendBefore(firstElement);\r\n    instance.__.parent = this;\r\n\r\n    // Put instance into the children array.\r\n    let parent = firstElement.parent();\r\n    if(parent.hasChildUI()){\r\n        let children = parent.__.children;\r\n        if(children.length <= 1){\r\n            parent.__.children.unshift(instance);\r\n        }else{\r\n            for(let i = 0; i < children.length; i++){\r\n                if(children[i] === item){\r\n                    if(i === 0){\r\n                        parent.__.children.unshift(instance);\r\n                    }else{\r\n                        parent.__.children.splice(i - 1, 0, instance);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    instance.triggerEvent('render', params);\r\n    ui.triggerEvent('render', instance, params);\r\n    this.triggerEvent('add', instance);\r\n\r\n    return instance;\r\n};\r\n\r\n/**\r\n * Functions to manage properties like in jQuery but working\r\n * with Element instances.\r\n * @returns {Element}\r\n */\r\nElement.prototype.html = function (html) {\r\n    if (html === undefined) return this.__.node.innerHTML;\r\n    this.__.node.innerHTML = html;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets text content of te node.\r\n * @param {string} [text]\r\n * @returns {Element}\r\n */\r\nElement.prototype.text = function (text) {\r\n    if (text === undefined) return this.__.node.textContent;\r\n    this.__.node.textContent = text;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets new or returns existing value of the attribute.\r\n * @param {string} name\r\n * @param {*} [value]\r\n * @returns {Element|*}\r\n * @see Element.src\r\n * @see Element.href\r\n */\r\nElement.prototype.attr = function (name, value) {\r\n    if (value === undefined) {\r\n        // Ensure to return correct value (empty string by DOM specification) if attribute is not defined.\r\n        if (!this.__.node.hasAttribute(name)) return '';\r\n        return this.__.node.getAttribute(name);\r\n    }\r\n    this.__.node.setAttribute(name, value);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if attribute with given name is set.\r\n * @param {string} name\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasAttr = function (name) {\r\n    return this.__.node.hasAttribute(name);\r\n};\r\n\r\n/**\r\n * Removes attribute with given name.\r\n * @param {string} name\r\n * @returns {boolean}\r\n */\r\nElement.prototype.removeAttr = function (name) {\r\n    return this.__.node.removeAttribute(name);\r\n};\r\n\r\n/**\r\n * Gets/sets value of the given property of the node.\r\n * @param {string} name\r\n * @param {*} [value]\r\n * @returns {*}\r\n */\r\nElement.prototype.prop = function (name, value) {\r\n    if (value === undefined) return this.__.node[name];\r\n    this.__.node[name] = value;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets value of the node (usable only for <input> tags).\r\n * @param {*} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.val = function (val) {\r\n    if (val === undefined) return this.__.node.value;\r\n    this.__.node.value = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets \"src\" property of the image.\r\n * @param {string} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.src = function (val) {\r\n    if(this.__.node.tagName !== 'IMG'){\r\n        warn('Calling [src()] method not on the image tag.');\r\n    }\r\n    if (val === undefined) return this.__.node.src;\r\n    this.__.node.src = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets \"href\" property of the node.\r\n * @param {string} [val]\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.href = function (val) {\r\n    if (val === undefined) return this.__.node.href;\r\n    this.__.node.href = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns context of the canvas.\r\n * @param {string} [val]\r\n * @returns {CanvasRenderingContext2D|*}\r\n */\r\nElement.prototype.getContext = function (val) {\r\n    if (val === undefined) return this.__.node.getContext('2d');\r\n    return this.__.node.getContext(val);\r\n};\r\n\r\n/**\r\n * Gets/sets width property of the node.\r\n * Usable only for image, video, canvas, etc.\r\n * @param {number} [val]\r\n * @returns {Element}\r\n * @see Element.height\r\n */\r\nElement.prototype.width = function (val) {\r\n    if (val === undefined) return this.__.node.width;\r\n    this.__.node.width = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets/sets height property of the node.\r\n * Usable only for image, video, canvas, etc.\r\n * @param {number} [val]\r\n * @returns {Element}\r\n * @see Element.width\r\n */\r\nElement.prototype.height = function (val) {\r\n    if (val === undefined) return this.__.node.height;\r\n    this.__.node.height = val;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns outer width of the node in pixels (alias of the offsetWidth property).\r\n * @returns {number}\r\n */\r\nElement.prototype.outerWidth = function () {\r\n    return this.__.node.offsetWidth;\r\n};\r\n\r\n/**\r\n * Returns outer height of the node in pixels (alias of the offsetHeight property).\r\n * @returns {number}\r\n */\r\nElement.prototype.outerHeight = function () {\r\n    return this.__.node.offsetHeight;\r\n};\r\n\r\n/**\r\n * Immediately hides element by setting \"display\" style property to \"none\".\r\n * Also stores previous value of the \"display\" style property.\r\n * @returns {Element}\r\n * @see Element.show\r\n * @see Element.css\r\n */\r\nElement.prototype.hide = function() {\r\n    if (this.__.node.style.display === 'none') return this;\r\n    this.__.node.oldDisplay = this.__.node.style.display;\r\n    this.__.node.style.display = 'none';\r\n    return this;\r\n};\r\n\r\n/**\r\n *\r\n * @returns {Element}\r\n * @see Element.hide\r\n * @see Element.css\r\n */\r\nElement.prototype.show = function (showAs) {\r\n    if(typeof showAs === 'string'){\r\n        this.__.node.style.display = showAs;\r\n        return this;\r\n    }\r\n    if (this.__.node.style.display !== 'none' && this.__.node.offsetParent !== null) return this;\r\n    if (this.__.node.hasOwnProperty('oldDisplay') && this.__.node.oldDisplay !== 'none') {\r\n        this.__.node.style.display = this.__.node.oldDisplay;\r\n    } else {\r\n        this.__.node.style.display = 'flex';\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if element is hidden.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isHidden = function () {\r\n    let style = this.computedStyle();\r\n    return style.display === 'none';\r\n};\r\n\r\n/**\r\n * Returns true if element is shown.\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isVisible = function () {\r\n    let style = this.computedStyle();\r\n    return style.display !== 'none' && style.visibility !== 'hidden';\r\n};\r\n\r\n/**\r\n * Returns content height of the element.\r\n * @returns {number}\r\n */\r\nElement.prototype.contentHeight = function () {\r\n    let node = this.__.node;\r\n    // Store initial height styles.\r\n    let h = node.style.cssText.match(/height\\s*:\\s*[\\d\\w%]+/i);\r\n    h = h === null ? '' : h[0];\r\n    // Set height to auto and store inner height.\r\n    node.style.height = 'auto';\r\n    let height = parseInt(window.getComputedStyle(node).getPropertyValue('height').replace(/[^.\\d]/i, ''));\r\n    // Restore height style.\r\n    node.style.cssText = node.style.cssText.replace(/height\\s*:\\s*auto/i, h);\r\n    return height;\r\n};\r\n\r\n/**\r\n * Slides down element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideDown = function (duration, callback) {\r\n    if (typeof duration !== 'number') duration = 250;\r\n    if(this.isHidden()) this.css({'height' : 0});\r\n    this.css({overflow : 'hidden', display : 'flex'});\r\n    this.animate({height: this.contentHeight()}, duration, function () {\r\n        this.css({height: 'auto'});\r\n        if(typeof callback === 'function') callback.call(this);\r\n    });\r\n    this.__.fx = 'slideDown';\r\n    return this;\r\n};\r\n\r\n/**\r\n * Slides up element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideUp = function (duration, callback) {\r\n    if (this.outerHeight() === 0 || this.isHidden()) return this;\r\n    if (typeof duration !== 'number') duration = 250;\r\n    this.animate({height: 0}, duration, callback);\r\n    this.__.fx = 'slideUp';\r\n    return this;\r\n};\r\n\r\n/**\r\n * Slides up element with specified duration.\r\n * @param {number} [duration] Animation duration in milliseconds (default is 250).\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n */\r\nElement.prototype.slideToggle = function (duration, callback) {\r\n    if (typeof duration !== 'number') duration = 250;\r\n    if (this.node().clientHeight === 0 || this.isHidden() || this.__.fx === 'slideUp') {\r\n        this.slideDown(duration, callback);\r\n    } else {\r\n        this.slideUp(duration, callback);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns true if element has given class.\r\n * @param {string} className\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasClass = function (className) {\r\n    return this.__.node.classList.contains(className);\r\n};\r\n\r\n/**\r\n * Returns true if element has all given classes.\r\n * If at least one class is absent - false will be returned.\r\n * @param {string[]} classNames\r\n * @returns {boolean}\r\n */\r\nElement.prototype.hasClasses = function (classNames) {\r\n    for(let i = 0; i < classNames.length; i++){\r\n        if(!this.__.node.classList.contains(classNames[i])){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\n/**\r\n * Adds class(es) to the element.\r\n * @param {string|Array} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.addClass = function (className) {\r\n    if (typeof className === 'string') {\r\n        this.__.node.classList.add(className);\r\n    } else if (Array.isArray(className)) {\r\n        for (let i = 0; i < className.length; i++) {\r\n            this.__.node.classList.add(className[i]);\r\n        }\r\n    } else {\r\n        return this;\r\n    }\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes given class(es) from the element.\r\n * @param {string|Array} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.removeClass = function (className) {\r\n    if (typeof className === 'string') {\r\n        this.__.node.classList.remove(className);\r\n    } else if (Array.isArray(className)) {\r\n        for (let i = 0; i < className.length; i++) {\r\n            this.__.node.classList.remove(className[i]);\r\n        }\r\n    } else {\r\n        return this;\r\n    }\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * If element has given class - it will be removed.\r\n * Otherwise class will be added.\r\n * @param {string} className\r\n * @returns {Element}\r\n */\r\nElement.prototype.toggleClass = function (className) {\r\n    this.__.node.classList.toggle(className);\r\n    this.__.class = this.__.node.className;\r\n    return this;\r\n};\r\n\r\n/**\r\n * If object given - sets given styles and returns element.\r\n * If string given - returns value of the given style property.\r\n * @param style\r\n * @returns {Element|*}\r\n */\r\nElement.prototype.css = function (style) {\r\n    if (typeof style === 'string') {\r\n        let s = this.computedStyle();\r\n        let val = s.hasOwnProperty(style) ? s[style] : null;\r\n        if (val !== null && val.indexOf('px') >= 0) val = parseFloat(val.replace('px', ''));\r\n        return val;\r\n    } else if (typeof style === 'object') {\r\n        for (let p in style) {\r\n            if(style.hasOwnProperty(p)) this.__.node.style[p] = style[p];\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Alias of the [getBoundingClientRect()] node method.\r\n * @returns {ClientRect}\r\n * @see https://developer.mozilla.org/ru/docs/Web/API/Element/getBoundingClientRect\r\n */\r\nElement.prototype.clientRect = function () {\r\n    return this.__.node.getBoundingClientRect();\r\n};\r\n\r\n/**\r\n * Returns tag name of the node.\r\n * Alias of the [tagName] property.\r\n * @returns {string}\r\n */\r\nElement.prototype.tagName = function () {\r\n    return this.__.node.tagName;\r\n};\r\n\r\n/**\r\n * Returns computed style of the element node.\r\n * Alias of the [getComputedStyle()] method.\r\n * @returns {CSSStyleDeclaration}\r\n */\r\nElement.prototype.computedStyle = function () {\r\n    return getComputedStyle(this.__.node);\r\n};\r\n\r\n\r\n/**\r\n * Smoothly shows element by changing opacity over the time.\r\n * @param {number} [duration] Fading duration in milliseconds.\r\n * @param {string|number} [displayAs] If set will be used to set display\r\n * css property before animation start.\r\n * @param {function|number} [callback]\r\n * @returns {Element}\r\n * @see Element.fadeToggle\r\n * @see Element.fadeOut\r\n */\r\nElement.prototype.fadeIn = function (duration, displayAs, callback) {\r\n    if (typeof duration === 'string' && displayAs === undefined) {\r\n        displayAs = duration;\r\n    }else if(typeof duration === 'function' && callback === undefined){\r\n        callback = duration;\r\n    }else if(typeof displayAs === 'function' && callback === undefined){\r\n        callback = displayAs;\r\n    }\r\n\r\n    // Default duration.\r\n    if (typeof duration !== 'number') duration = 250;\r\n\r\n    if (this.isVisible() && this.css('opacity') === 1) return this;\r\n    if (displayAs !== undefined) this.css({display: displayAs});\r\n    this.animate({opacity: 1}, duration, callback);\r\n    this.__.fx = 'fadeIn';\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Smoothly hides element by changing opacity over the time.\r\n * @param {int|function} [duration] Fading duration in milliseconds.\r\n * @param {boolean|function} [hideOnEnd] If true the css display property will be set to 'none'\r\n * on animation finish.\r\n * @param {function} [callback]\r\n * @returns {Element} (itself)\r\n * @see Element.fadeIn\r\n * @see Element.fadeToggle\r\n */\r\nElement.prototype.fadeOut = function (duration, hideOnEnd, callback) {\r\n    if (this.isHidden() || this.css('opacity') === 0) return this;\r\n\r\n    if(typeof duration === 'function' && callback === undefined){\r\n        callback = duration;\r\n    }else if(typeof hideOnEnd === 'function' && callback === undefined){\r\n        callback = hideOnEnd;\r\n    }\r\n\r\n    // Default duration.\r\n    if (typeof duration !== 'number') duration = 250;\r\n\r\n    // Default duration.\r\n    if (hideOnEnd === undefined) hideOnEnd = true;\r\n\r\n    this.animate({opacity: 0}, duration, callback);\r\n    this.__.fx = 'fadeOut';\r\n\r\n    let el = this;\r\n\r\n    if (hideOnEnd) {\r\n        setTimeout(function () {\r\n            el.css({display: 'none'});\r\n        }, duration);\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Toggles fading effect.\r\n * @param {number} [duration] Fading duration in milliseconds.\r\n * @param {string} [displayAs] If set will be used to set display\r\n * CSS property before animation start in case of fadeIn() method will be applied.\r\n * If fadeOut() method and displayAs property is specified - element will be hidden after\r\n * animation finish.\r\n * @param {function} [callback]\r\n * @returns {Element}\r\n * @see Element.fadeIn\r\n * @see Element.fadeOut\r\n */\r\nElement.prototype.fadeToggle = function (duration, displayAs, callback) {\r\n    if (this.isHidden() || this.css('opacity') === 0 || this.__.fx === 'fadeOut') {\r\n        this.fadeIn(duration, displayAs, callback);\r\n    } else {\r\n        this.fadeOut(duration, displayAs === true, callback);\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Animates CSS properties of the object.\r\n * @param {object} props Object with animated properties.\r\n * Keys are properties names and values are the end values.\r\n * @param {number} [duration] Duration in milliseconds.\r\n * @param {function} [callback] Function that will be called when animation will be finished.\r\n * @returns {Element}\r\n * @see Animation\r\n */\r\nElement.prototype.animate = function (props, duration, callback) {\r\n    let el = this;\r\n    let startValues = {};\r\n    let endValues = props;\r\n    let units = {};\r\n\r\n    // Get initial values.\r\n    let styles = this.computedStyle();\r\n    for (let p in endValues) {\r\n\r\n        units[p] = styles[p].replace(/[-\\d.]/g, '');\r\n        startValues[p] = parseFloat(styles[p].toString().replace(/[^-\\d.]/gi, ''));\r\n        if((p === 'width' || p === 'maxWidth' || p === 'minWidth') && (endValues[p] + \"\").indexOf('%') > 0){\r\n            units[p] = '%';\r\n            startValues[p] = startValues[p] / this.__.node.parentNode.offsetWidth * 100;\r\n        }else if((p === 'height' || p === 'maxHeight' || p === 'minHeight') && (endValues[p] + \"\").indexOf('%') > 0){\r\n            units[p] = '%';\r\n            startValues[p] = startValues[p] / this.__.node.parentNode.offsetHeight * 100;\r\n        }\r\n        endValues[p] = parseFloat(endValues[p].toString().replace(/[^-\\d.]/gi, ''));\r\n    }\r\n\r\n    this.stopAnimation();\r\n\r\n    // Create new animation.\r\n    let ani = new Animation({\r\n        duration: duration,\r\n        f: 'easeInOutQuad'\r\n    });\r\n\r\n    this.__.animation = ani;\r\n\r\n\r\n    // Run animation.\r\n    this.__.animation.run(function (k, isEnd) {\r\n        if (el.__.animation !== ani || el.__.animation.stopped) return;\r\n        let diff, cssObj = {};\r\n        for (let p in endValues) {\r\n            let k2 = k;\r\n            diff = endValues[p] - startValues[p];\r\n\r\n\r\n            if (diff === 0) continue;\r\n            cssObj[p] = parseFloat((diff * k2).toFixed(5)) + startValues[p] + units[p];\r\n        }\r\n        el.css(cssObj);\r\n        if (isEnd) {\r\n            if (typeof callback === 'function') callback.call(el);\r\n            el.stopAnimation();\r\n        }\r\n    });\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Stops current animation and set \"animation\" property to null.\r\n * @returns {Element}\r\n */\r\nElement.prototype.stopAnimation = function () {\r\n    if (this.__.animation !== null) this.__.animation.stop();\r\n    this.__.animation = null;\r\n    this.__.fx = null;\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Loads data into element.\r\n * @param data Data to be loaded into the element and/or children.\r\n * If [[data]] is object - all nested elements will be loaded with nested data.\r\n * String will be used as innerHTML.\r\n * Array produces child instances if child UI is specified for the element.\r\n * @param {boolean} [replace] If true - existing content of the element will be deleted before loading.\r\n * @param {boolean} [atStart] If new content will be inserted at the start of the element. Default is false.\r\n * This argument will be ignored if [[replace]] is true.\r\n * @returns {Element}\r\n */\r\nElement.prototype.load = function (data, replace, atStart) {\r\n    // Set default values.\r\n    if (typeof replace !== 'boolean') replace = true;\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    // If Data (data provider) is given through \"data\" argument\r\n    // use fetch() method and then load given data using load() method.\r\n    if (data instanceof Data) {\r\n\r\n        return data.fetch(function (replace, atStart, response) {\r\n            this.load(response, replace, atStart);\r\n        }.bind(this, replace, atStart));\r\n\r\n    } else {\r\n\r\n        let deleteContent = true;\r\n\r\n        if (this.inclusion() === null) {\r\n            if (typeof data === 'object' && !Array.isArray(data)) {\r\n                deleteContent = false;\r\n                for (let p in data) {\r\n                    if (data.hasOwnProperty(p) && !Element.prototype.hasOwnProperty(p) && uiRegistry.get(p) !== null) {\r\n                        deleteContent = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            deleteContent = false;\r\n        }\r\n\r\n        // Remove all children if \"replace\" argument is true.\r\n        if (replace === true && deleteContent) {\r\n            this.removeChildren();\r\n            this.html('');\r\n        }\r\n    }\r\n\r\n    // Trigger 'load' event if any element wants to handle it with specific logic.\r\n    let event = new Event('load', {cancelable: true});\r\n    this.triggerEvent('load', data, event);\r\n\r\n    // Stop loading if event was cancelled by preventDefault() method.\r\n    if (event.defaultPrevented) return this;\r\n\r\n    // If data is string - use is as innerHTML (for <img/> \"src\" attribute will be used).\r\n    if (typeof data === 'string' || typeof data === 'number') {\r\n\r\n        let tagName = this.tagName();\r\n\r\n        if (tagName === 'IMG' || tagName === 'VIDEO' || tagName === 'IFRAME') {\r\n            this.src(data);\r\n        } else {\r\n            if (tagName === 'INPUT' || tagName === 'SELECT') {\r\n                this.val(data);\r\n            } else {\r\n                this.text(data);\r\n            }\r\n\r\n        }\r\n\r\n    } else if (typeof data === 'object') {\r\n\r\n        if (this.inclusion() !== null) {\r\n            this.inclusion().load(data, replace, atStart);\r\n            return this;\r\n        }\r\n\r\n        // If array given - render child UI for each array element and load it into new instance.\r\n        if (Array.isArray(data)) {\r\n\r\n            if (this.__.child === null) {\r\n                warn('Trying to load children for Element \"' + this.__.name + ' @ ' + this.__.uiinstance.__.ui.name + '\" without child UI.');\r\n                return this;\r\n            }\r\n\r\n            let child;\r\n            for (let i = 0; i < data.length; i++) {\r\n                try {\r\n                    child = this.addOne(atStart);\r\n                    child.load(data[i], replace, atStart);\r\n                } catch (exception) {\r\n                    // Re-throw exception up.\r\n                    throw exception;\r\n                }\r\n            }\r\n\r\n            // If data is object - load it into the child elements or use as properties of the current.\r\n        } else {\r\n\r\n            for (let p in data) {\r\n                if(!data.hasOwnProperty(p)) continue;\r\n\r\n                // Load children ...\r\n                if (p === 'children' && Array.isArray(data[p]) && this.hasChildUI()) {\r\n                    this.load(data[p], replace, atStart);\r\n\r\n                    // ... or execute prototype method ...\r\n                } else if (Element.prototype.hasOwnProperty(p) && typeof Element.prototype[p] === 'function') {\r\n                    Element.prototype[p].call(this, data[p]);\r\n\r\n                    // ... otherwise render new UI.\r\n                } else {\r\n                    if (this.hasOwnProperty(p) && this[p] instanceof Element) {\r\n                        if (this[p].inclusion() !== null) {\r\n                            this[p].inclusion().load(data[p]);\r\n                        }else{\r\n                            this[p].load(data[p]);\r\n                        }\r\n                    }else{\r\n                        let ui = uiRegistry.get(p);\r\n                        if (ui !== null) {\r\n                            ui.renderTo(this).load(data[p], replace, atStart);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    } else {\r\n        warn('Trying to load unsupported data type (' + typeof data + ') to tye element. Only string or object can be used.');\r\n    }\r\n\r\n    this.triggerEvent('afterLoad', data);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Resets values of the inputs/selects inside the Element.\r\n * @param {boolean} [compact]\r\n * @returns {{}}\r\n */\r\nElement.prototype.resetValues = function (compact) {\r\n    // TODO Implement this method...\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates holder for the value.\r\n * Can be used as simple object for storing property or \r\n * as a callback:\r\n *\r\n * onGather(inst, data, event) {\r\n\t   data.someProperty = 'Hello world!';\r\n * \t   data.value('Hello world!');\r\n * } \r\n */\r\nfunction createValueHolder() {\r\n\tlet _value = undefined;\r\n\tfunction ValueHolder(value) {\r\n\r\n    }\r\n\tValueHolder.prototype.value = function(value) {\r\n\t\tif (value !== undefined) {\r\n\t\t\t_value = value;\r\n\t\t}\r\n\t\treturn _value;\r\n\t};\r\n\r\n\tValueHolder.prototype.isEmpty = function () {\r\n        for (let p in this) {\r\n            if (this.hasOwnProperty(p) && (this[p] === null || this[p] === undefined || this[p] === '')) return false;\r\n        }\r\n        return true;\r\n    };\r\n\treturn new ValueHolder();\r\n}\r\n\r\n\r\n/**\r\n * Gathers data of the Element.\r\n * @param {boolean} [compact]\r\n * @returns {{}}\r\n */\r\nElement.prototype.gatherData = function (compact) {\r\n    if (compact === undefined) compact = true;\r\n    let data = createValueHolder();\r\n\r\n    let event = new Event('gather');\r\n    this.triggerEvent('gather', data, event);\r\n\r\n    if (!event.defaultPrevented) {\r\n        gatherElementData(this, data, data, null, true);\r\n    }\r\n\r\n    if (data.value() === undefined) {\r\n        let value = {};\r\n        for (let p in data) if (data.hasOwnProperty(p)) value[p] = data[p];\r\n        data = value;\r\n    }else {\r\n        data = data.value();\r\n    }\r\n\r\n    if (compact && typeof data === 'object') compactData(data);\r\n    return data;\r\n};\r\n\r\n\r\n/**\r\n * @param target\r\n * @param data\r\n * @param curData\r\n * @param propName\r\n * @param gatherChildNodes\r\n * @returns {*}\r\n */\r\nfunction gatherElementData(target, data, curData, propName, gatherChildNodes) {\r\n    if (typeof curData !== 'object') curData = data;\r\n    let children;\r\n    let name = null;\r\n\r\n    if (target.hasAttr('name') && target.attr('name') !== '') {\r\n        name = target.attr('name');\r\n\r\n        let event = new Event('gather');\r\n        target.triggerEvent('gather', data, event);\r\n\r\n        // Get value if element is <input/> or <select/>.\r\n        if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(target.tagName()) >= 0) {\r\n            if (target.attr('type') === 'checkbox') {\r\n                if (!target.prop('checked')) return data;\r\n            }\r\n            data.value(target.val());\r\n            return data;\r\n        }\r\n    }\r\n\r\n    if (typeof propName !== 'string') propName = name;\r\n\r\n    // Process inclusion.\r\n    if (target.hasInclusion()) {\r\n        let tmp = createValueHolder();\r\n        gatherInstanceData(target.inclusion(), tmp, null, curData, propName);\r\n\r\n        if ((Object.keys(tmp).length > 0 || (typeof tmp.value === 'function' && tmp.value() !== undefined)) && !data.hasOwnProperty(propName)) {\r\n            if (name !== null) {\r\n                if (tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                    }\r\n                } else {\r\n                    data.value(tmp.value());\r\n                }\r\n            } else {\r\n                for (let p in tmp) {\r\n                    if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Gather child instances.\r\n    } else if (target.hasChildUI()) {\r\n        let res = [];\r\n        if (name !== null || propName !== null) {\r\n            children = target.children();\r\n            for (let i = 0; i < children.length; i++) {\r\n                let tmp = createValueHolder();\r\n                gatherInstanceData(children[i], tmp, null, curData, propName);\r\n                if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        let value = {};\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                        res.push(value);\r\n                    }\r\n                } else {\r\n                    res.push(tmp.value());\r\n                }\r\n            }\r\n            if (name !== null) {\r\n                data[name] = res;\r\n            } else if (propName !== null) {\r\n                curData !== null ? curData[propName] = res : data[propName] = res;\r\n            }\r\n        }\r\n\r\n\r\n        // Gather child instances.\r\n    } else if (target.children().length > 0) {\r\n        children = target.children();\r\n        for (let i = 0; i < children.length; i++) {\r\n            if (children[i].getRootElement !== undefined) {\r\n                let root = children[i].getRootElement();\r\n                if(root.hasAttr('name')){\r\n                    name = root.attr('name');\r\n                }\r\n                let tmp = createValueHolder();\r\n                gatherInstanceData(children[i], tmp, null, curData, propName);\r\n                if (name !== null) {\r\n                    if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                        if (Object.keys(tmp).length > 0) {\r\n                            let value = {};\r\n                            for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                            data[name] = value;\r\n                        }\r\n                    } else {\r\n                        data[name] = tmp.value();\r\n                    }\r\n                } else {\r\n                    for (let p in tmp) {\r\n                        if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Loop through native child nodes if target is an element on which gatherData() was called.\r\n    } else if (gatherChildNodes === true) {\r\n        let childNodes = target.__.node.childNodes;\r\n        for (let i = 0; i < childNodes.length; i++) {\r\n            if (childNodes[i] === undefined || childNodes[i].element === undefined) continue;\r\n            let elName = childNodes[i].element.attr('name');\r\n            let tmp = createValueHolder();\r\n            gatherElementData(childNodes[i].uielement, tmp, curData, elName === '' ? null : elName, true);\r\n            if (typeof elName === 'string' && elName !== '') {\r\n                if (typeof tmp.value !== 'function' || tmp.value() === undefined) {\r\n                    if (Object.keys(tmp).length > 0) {\r\n                        let value = {};\r\n                        for (let p in tmp) if (tmp.hasOwnProperty(p)) value[p] = tmp[p];\r\n                        data[elName] = value;\r\n                    }\r\n                } else {\r\n                    data[elName] = tmp.value();\r\n                }\r\n            } else {\r\n                for (let p in tmp) if (tmp.hasOwnProperty(p)) data[p] = tmp[p];\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @param instance\r\n * @param result\r\n * @param scheme\r\n * @param curData\r\n * @param propName\r\n */\r\nfunction gatherInstanceData(instance, result, scheme, curData, propName) {\r\n    if (scheme === undefined || scheme === null) scheme = instance.__.ui.scheme;\r\n    if (result === undefined) result = {};\r\n\r\n    // Allow developer to define custom data gathering logic.\r\n    let event = new Event('gather', {cancelable : true});\r\n    instance.triggerEvent('gather', result, event);\r\n    if(event.defaultPrevented){\r\n        return;\r\n    }\r\n    instance.ui().triggerEvent('gather', instance, result, event);\r\n    if(event.defaultPrevented) return;\r\n\r\n\r\n    let v, keys, res;\r\n    for (let p in scheme) {\r\n        if (!scheme.hasOwnProperty(p) || !instance.hasOwnProperty(p)) continue;\r\n\r\n        res = gatherElementData(instance[p], v = createValueHolder(), curData, propName);\r\n\r\n        let name = instance[p].attr('name');\r\n        if (typeof v.value === 'function' && v.value() !== undefined && name !== '') {\r\n            addGatheredData(result, name, v.value());\r\n        }else {\r\n            keys = Object.keys(v);\r\n\r\n            for(let k in v){\r\n                if(v.hasOwnProperty(k)){\r\n                    addGatheredData(result, k, v[k]);\r\n                }\r\n            }\r\n\r\n            v = typeof v[keys[0]] === 'object' ? v[keys[0]] : result;\r\n        }\r\n\r\n        let s = scheme[p];\r\n        if (typeof s === 'object') {\r\n            gatherInstanceData(instance, v, s, curData, propName);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param result\r\n * @param name\r\n * @param value\r\n */\r\nfunction addGatheredData(result, name, value) {\r\n    if (Array.isArray(result)) {\r\n        result.push(value);\r\n    } else {\r\n        if (result.hasOwnProperty(name)) {\r\n            if (!Array.isArray(result[name])) result[name] = [result[name]];\r\n            result[name].push(value);\r\n        } else {\r\n            result[name] = value;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Compacts data to simplify structure.\r\n * The main purpose is convert arrays of objects with one property to array with their values.\r\n * For example it converts [{id : 3}, {id : 5}, {id : 7}] to [3, 5, 7]\r\n */\r\nfunction compactData(data) {\r\n    for (let p in data) {\r\n        if(!data.hasOwnProperty(p)) continue;\r\n        if (Array.isArray(data[p])) {\r\n            let arr = [];\r\n            let propName = null;\r\n            for (let i = 0; i < data[p].length; i++) {\r\n                if (typeof data[p][i] === 'object') {\r\n                    let keys = Object.keys(data[p][i]);\r\n                    if (keys.length === 1) {\r\n                        // Stop converting if properties of objects don't match.\r\n                        if (propName !== null && propName !== keys[0]) {\r\n                            return;\r\n                        }\r\n                        arr.push(data[p][i][keys[0]]);\r\n                    } else {\r\n                        return;\r\n                    }\r\n                } else {\r\n                    return;\r\n                }\r\n            }\r\n            data[p] = arr;\r\n        } else if (typeof data[p] === 'object') {\r\n            compactData(data[p]);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Clones element.\r\n * @returns {Element}\r\n */\r\nElement.prototype.clone = function() {\r\n    let newEl = new Element({});\r\n    cloneObjectTo(this, newEl);\r\n    cloneObjectTo(this.__, newEl.__);\r\n    let oldNode = this.node();\r\n    let newNode = oldNode.cloneNode(true);\r\n    newNode.uielement = newEl;\r\n    newEl.__.node = newNode;\r\n    return newEl;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * !!! DEPRECATED !!!\r\n * In order to support old projects tabs functionality is kept.\r\n * Please use Tabs extension.\r\n *\r\n * Implements simple tabs behaviour.\r\n * @deprecated\r\n * @returns {boolean}\r\n */\r\nElement.prototype.isTab = function () {\r\n    return this.__.tabContainer !== null;\r\n};\r\n\r\n/**\r\n * Links element as tab for some container.\r\n * @deprecated\r\n * @param container\r\n */\r\nElement.prototype.makeTabFor = function (container) {\r\n    this.__.tabContainer = container;\r\n    container.hide();\r\n    let siblings = this.getAllNearbyElements();\r\n    this.on('click', tabClickHandler);\r\n\r\n    for(let i = 0, len = siblings.length; i < len; i++){\r\n        if(siblings[i].isTab()){\r\n            return this;\r\n        }\r\n    }\r\n\r\n    this.addClass('active');\r\n    container\r\n        .addClass('active')\r\n        .css({\r\n            display: 'flex',\r\n            opacity: 1\r\n        });\r\n\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Returns container which is linked contend for the element.\r\n * @deprecated\r\n * @returns {Element.tabContainer|*|null}\r\n */\r\nElement.prototype.tabContainer = function () {\r\n    return this.__.tabContainer;\r\n};\r\n\r\n\r\n/**\r\n * Click event handler of the tab.\r\n * @deprecated\r\n */\r\nfunction tabClickHandler() {\r\n    if (!this.isTab()) return;\r\n\r\n    // Toggle tabs class.\r\n    let c = this.getAllNearbyElements();\r\n    for (let i = 0, len = c.length; i < len; i++) {\r\n        if(c[i].isTab()){\r\n            c[i].removeClass('active');\r\n            c[i].__.tabContainer.fadeOut(100, function(){\r\n                this.hide();\r\n            });\r\n        }\r\n    }\r\n    this.addClass('active');\r\n\r\n\r\n\r\n    let container = this.__.tabContainer;\r\n\r\n    // Process fade-in animation.\r\n    setTimeout(function () {\r\n        container.fadeIn(100, 'flex');\r\n    }, 100);\r\n\r\n    container.addClass('active');\r\n}","import Settings from '../core/settings';\r\nimport {makeClassName} from './strings';\r\nimport {error} from './logging';\r\n\r\nimport {\r\n    UIRegistrationException,\r\n    InvalidSchemeException,\r\n    RenderingException\r\n} from './exceptions';\r\n\r\nimport uiRegistry from '../registries/ui-registry';\r\nimport Element from '../core/element';\r\n\r\n\r\n/**\r\n * Function used to recursively clone scheme elements into one object (target).\r\n * Each scheme element not depending on nesting level will be placed directly into the target.\r\n */\r\nexport function cloneSchemeLinear(scheme, target) {\r\n    for (let p in scheme) {\r\n        if(scheme.hasOwnProperty(p)){\r\n            if (typeof scheme[p] === 'object') {\r\n                cloneSchemeLinear(scheme[p], target);\r\n                target[p] = {\r\n                    name : p,\r\n                    rules : '',\r\n                    children: scheme[p]\r\n                };\r\n\r\n            } else if (typeof scheme[p] === 'string') {\r\n                target[p] = {\r\n                    name : p,\r\n                    rules : scheme[p],\r\n                    children: null\r\n                };\r\n\r\n            }else if(scheme[p] === false){\r\n                delete scheme[p];\r\n            } else {\r\n                throw new InvalidSchemeException('Value of the element must be string or object.');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Parses element's parameters string into the object.\r\n * All regular expressions used for parsing available in the settings.\r\n */\r\nexport function parseParameters(str) {\r\n    let _result = {};\r\n\r\n    // Parse parameters.\r\n    _result.parameters = {};\r\n    let prm = str.match(Settings.regexp_params);\r\n    str = str.replace(Settings.regexp_params, '');\r\n\r\n    // Get parameters array\r\n    prm = (prm !== null && prm.length > 0) ? prm[0].slice(1, -1) : '';  // Cut the brackets.\r\n    prm = prm.split(';');\r\n\r\n    // Put parameters into the result.\r\n    for (let i = 0; i < prm.length; i++) {\r\n        let p = prm[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.parameters[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n    // Parse attributes.\r\n    _result.attributes = {};\r\n\r\n    // Get attributes array.\r\n    let att = str.match(Settings.regexp_attribute);\r\n    str = str.replace(Settings.regexp_attribute, '');\r\n    att = (att !== null && att.length > 0) ? att[0].slice(1, -1) : ''; // Cut the brackets.\r\n    att = att.split(';');\r\n\r\n    // Put attributes into the result.\r\n    let p;\r\n    for (let i = 0; i < att.length; i++) {\r\n        p = att[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.attributes[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Parse properties.\r\n    _result.properties = {};\r\n    let pr = str.match(Settings.regexp_property);\r\n    str = str.replace(Settings.regexp_property, '');\r\n\r\n    // Get properties array\r\n    pr = (pr !== null && pr.length > 0) ? pr[0].slice(1, -1) : '';  // Cut the brackets.\r\n    pr = pr.split(';');\r\n\r\n    // Put properties into the result.\r\n    for (let i = 0; i < pr.length; i++) {\r\n        p = pr[i].split('=');\r\n        if (p.length === 2) {\r\n            if (p[0].trim() === '') continue;\r\n            _result.properties[p[0].trim()] = p[1].trim();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Define tag name, id, class and child UI using regular expressions.\r\n    _result.tag = str.match(Settings.regexp_tagName);\r\n    _result.id = str.match(Settings.regexp_id);\r\n    _result.class = str.match(Settings.regexp_class);\r\n    _result.child = str.match(Settings.regexp_childUI);\r\n    _result.include = str.match(Settings.regexp_include);\r\n\r\n    // Cut special characters from the start.\r\n    if (_result.tag !== null) _result.tag = _result.tag[0].slice(1).trim();\r\n    if (_result.id !== null) _result.id = _result.id[0].slice(1).trim();\r\n    if (_result.class !== null) _result.class = _result.class[0].slice(1).trim();\r\n    if (_result.child !== null) _result.child = _result.child[0].slice(1).trim();\r\n    if (_result.include !== null) _result.include = _result.include[0].slice(3).trim();\r\n\r\n    return _result;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * Recursively builds scheme into the target (Element or DOM node).\r\n * @param instance (Instance) - New instance of the UI.\r\n * @param ui (UI) - UI which is building.\r\n * @param scheme (object) -\r\n * @param target (node|Element)\r\n * @param atStart (boolean)\r\n */\r\nexport function buildScheme(instance, ui, scheme, target, atStart) {\r\n\r\n    // Set default atStart value if it's not specified.\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    let params;     // Parameters of the single element (Element).\r\n    let targetNode; // Node in which element will be placed.\r\n\r\n    if (typeof scheme === 'object') {\r\n        for (let elementName in scheme) {\r\n            if(!scheme.hasOwnProperty(elementName)) continue;\r\n\r\n            // Skip if element with the same name already exists.\r\n            if (instance.hasOwnProperty(elementName)) continue;\r\n\r\n            // Parse parameters for new element.\r\n            if (typeof scheme[elementName] === 'string') {\r\n                params = parseParameters(scheme[elementName]);\r\n            } else if (typeof scheme[elementName] === 'object') {\r\n                if (ui.rules.hasOwnProperty(elementName)) {\r\n                    params = parseParameters(ui.rules[elementName]);\r\n                } else {\r\n                    params = {\r\n                        id: null,\r\n                        class: makeClassName(elementName),\r\n                        tag: 'div',\r\n                        child: null,\r\n                        include: null,\r\n                        attributes: {},\r\n                        properties: {},\r\n                        parameters: {}\r\n                    };\r\n                }\r\n            }\r\n\r\n            // Check dependency only in development mode.\r\n            if (Settings.devMode) {\r\n                let childUI = uiRegistry.get(params.child);\r\n                if (childUI !== null) {\r\n                    if (ui.dependencies.hasOwnProperty(elementName)) {\r\n                        let deps = ui.dependencies[elementName];\r\n                        for (let i = 0, len = deps.length; i < len; i++) {\r\n                            if (!childUI.isImplementationOf(deps[i])) {\r\n                                error('UI \"' + childUI.name + '\" does\\'t implement interface \"' + deps[i] + '\".')\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Make default class if not set.\r\n            if (params.class === '' || params.class === null) {\r\n                params.class = makeClassName(elementName);\r\n            }\r\n\r\n            let uiClass = makeClassName(ui.name);\r\n            if (ui.scheme === scheme && params.class !== uiClass) {\r\n                params.class = uiClass + ' ' + params.class;\r\n            }\r\n\r\n            params.name = elementName;\r\n\r\n            // Create element.\r\n            let element = new Element(params);\r\n            element.__.uiinstance = instance;\r\n            element.__.node.uiinstance = instance;\r\n            element.__.instance = instance;\r\n            element.__.node.instance = instance;\r\n\r\n            // Render another UI if include is detected.\r\n            if (params.include !== null) {\r\n                let inclusionUI = uiRegistry.get(params.include);\r\n                if (inclusionUI !== null) {\r\n\r\n                    // Check dependency only in development mode.\r\n                    if (Settings.devMode) {\r\n                        if (ui.dependencies.hasOwnProperty(elementName)) {\r\n                            let deps = ui.dependencies[elementName];\r\n                            for (let i = 0, len = deps; i < len; i++) {\r\n                                if (!inclusionUI.isImplementationOf(deps[i])) {\r\n                                    error('UI \"' + inclusionUI.name + '\" does\\'t implement interface \"' + deps[i] + '\".')\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for(let p in inclusionUI.__.params){\r\n                        if(!params.parameters.hasOwnProperty(p) && inclusionUI.__.params.hasOwnProperty(p)){\r\n                            params.parameters[p] = inclusionUI.__.params[p];\r\n                        }\r\n                    }\r\n                    element.__.inclusion = element.add(inclusionUI, params.parameters);\r\n                } else {\r\n                    throw new RenderingException('Required for including UI \"' + params.include + '\" is not registered yet.');\r\n                }\r\n            }\r\n\r\n            if( instance.__.localization !== null\r\n                && instance.__.translations !== null\r\n                && instance.__.translations.hasOwnProperty(element.__.name)\r\n            ){\r\n                if(element.__.inclusion === null){\r\n                    element.__.node.setAttribute('localization', instance.__.localization);\r\n                    element.__.node.T = instance.__.translations[element.__.name];\r\n                }else{\r\n                    element.__.inclusion.triggerEvent('localization', instance.__.localization, instance.__.translations[element.__.name]);\r\n                }\r\n            }\r\n\r\n            // Attach element into instance.\r\n            instance[elementName] = element;\r\n\r\n            if(ui.translations.hasOwnProperty(elementName)){\r\n                let t = L10n.getTranslations(ui.localization);\r\n                if(element.__.node.tagName === 'INPUT'){\r\n                    element.attr('placeholder', t(ui.translations[elementName]));\r\n                }else if(element.__.inclusion === null){\r\n                    element.text(t(ui.translations[elementName]))\r\n                }\r\n            }\r\n\r\n            // Set parent Element and define target node.\r\n            if (target instanceof Element) {\r\n                element.__.parent = target;\r\n                target[elementName] = element;\r\n                targetNode = target.__.node;\r\n            } else if (typeof target === 'string') {\r\n                targetNode = document.querySelector(target);\r\n            } else {\r\n                targetNode = target;\r\n            }\r\n\r\n            // Append element to the container node.\r\n            if (target !== null) {\r\n                if (atStart) {\r\n                    let first = targetNode.firstChild;\r\n                    if (first !== null) {\r\n                        targetNode.insertBefore(element.__.node, first);\r\n                    } else {\r\n                        targetNode.appendChild(element.__.node);\r\n                    }\r\n                } else {\r\n                    targetNode.appendChild(element.__.node);\r\n                }\r\n            }\r\n\r\n            // Add nested schemes.\r\n            if (typeof scheme[elementName] === 'object') {\r\n                buildScheme(instance, ui, scheme[elementName], element);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Filters UI parameter:\r\n * - converts 'true' or 'false' to corresponding boolean value.\r\n * - converts 'null' to null value.\r\n * - parses string with numbers to the corresponding number value.\r\n */\r\nexport function filterUIParameterValue(value)\r\n{\r\n    let numberRegexp = /^\\d+(\\.?\\d+)?$/i;\r\n\r\n    if(value === 'null'){\r\n        value = null;\r\n    }else if(value === 'true'){\r\n        value = true;\r\n    }else if(value === 'false'){\r\n        value = false;\r\n    }else if(numberRegexp.test(value)){\r\n        value = Number(value);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Checks parameters that given on the UI registration.\r\n */\r\nexport function checkUIParameters(data)\r\n{\r\n    if (!data.hasOwnProperty('name'))\r\n        throw new UIRegistrationException('Name of a new UI is not defined.');\r\n\r\n    if (typeof data.name !== 'string')\r\n        throw new UIRegistrationException('Name of a new UI is ' + (typeof data.name) + '. String required.');\r\n\r\n    if (uiRegistry.get(data.name) !== null)\r\n        throw new UIRegistrationException('UI with name \"' + data.name + '\" already registered.');\r\n\r\n    if (!data.hasOwnProperty('scheme')) data.scheme = {};\r\n\r\n    if (typeof data.scheme !== 'object')\r\n        throw new UIRegistrationException('Scheme for a new UI \"' + data.name + '\" is ' + (typeof data.scheme) + '. Object required.');\r\n\r\n    if (!data.hasOwnProperty('rules')) data.rules = {};\r\n\r\n    if (typeof data.rules !== 'object')\r\n        throw new UIRegistrationException('Rules for a new UI \"' + data.name + '\" is ' + (typeof data.rules) + '. Object required.');\r\n}\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport Element from './element';\r\nimport Data from './data';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport extensionsManager from './extension';\r\nimport {error, warn} from '../utils/logging';\r\n\r\n/**\r\n * Class that represents single UI instance.\r\n * Its necessary to define class as function to allow use 'call()' method.\r\n */\r\nexport default function Instance(){\r\n    // Define service property that encapsulates hidden data.\r\n    Object.defineProperty(this, '__', {\r\n        value: {},\r\n        configurable: false,\r\n        enumerable: false,\r\n        writeable: false\r\n    });\r\n\r\n    this.__.extensions = {};\r\n    this.__.events = {};\r\n    this.__.dispatchers = {};\r\n    this.__.eventsTimeouts = {};\r\n    this.__.ui = null;\r\n    this.__.parent = null;\r\n    this.__.data = null;\r\n    this.__.params = {};\r\n}\r\n\r\n// Add events supporting for Instance.\r\naddEventsMethods(Instance.prototype);\r\n\r\n\r\n/**\r\n * Checks if UI implements interface with given name.\r\n * @param interfaceName {string}\r\n * @return {boolean}\r\n */\r\nInstance.prototype.isImplementationOf = function(interfaceName) {\r\n    return this.__.ui.__.implements.indexOf(interfaceName) >= 0;\r\n};\r\n\r\n/**\r\n * Removes Instance from the parent Element.\r\n */\r\nInstance.prototype.remove = function () {\r\n    // remove this instance from the parent children[] property\r\n    let parent = this.__.parent;\r\n    let scheme = this.__.ui.scheme;\r\n\r\n\r\n    for (let p in scheme) {\r\n        if (scheme.hasOwnProperty(p) && this[p].__.node.parentNode !== null){\r\n            this[p].__.node.parentNode.removeChild(this[p].__.node);\r\n        }\r\n    }\r\n\r\n    if (parent instanceof Element !== true) return;\r\n\r\n    for (let i = 0, len = parent.__.children.length; i < len; i++) {\r\n        if (parent.__.children[i] === this) {\r\n            parent.__.children.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n */\r\nInstance.prototype.ui = function () {\r\n    return this.__.ui;\r\n};\r\n\r\n/**\r\n * Deprecated method.\r\n * Please use [ui()] method instead.\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n * @deprecated\r\n * @see Instance.ui\r\n */\r\nInstance.prototype.UI = function () {\r\n    return this.__.ui;\r\n};\r\n\r\n/**\r\n * Returns UI of the instance.\r\n * @returns {UI|*}\r\n */\r\nInstance.prototype.loadLocalization = function (callback) {\r\n    let L = this.__.ui.localization;\r\n    if(L !== null){\r\n        L10n.loadTranslations(L, callback);\r\n    }else{\r\n        warn('Localization loading failed: localization category is not specified for the UI \"' + this.__.ui.name + '\".');\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns parameters of the instance.\r\n * @returns {UI|*}\r\n * @constructor\r\n */\r\nInstance.prototype.params = function () {\r\n    return this.__.params;\r\n};\r\n\r\n\r\n/**\r\n * Returns parent Instance.\r\n * @returns Instance|null\r\n */\r\nInstance.prototype.parentUII = function () {\r\n    let parent = this.__.parent;\r\n    if (parent instanceof Element) return parent.__.uiinstance;\r\n    return null;\r\n};\r\n\r\n\r\n/**\r\n * Loads data to the instance.\r\n * @param {object} data        Data to be loaded.\r\n * @param {boolean} [replace]        If true all existing data will be removed before loading.\r\n * @param {boolean} [atStart]        If true new data will be inserted into the start.\r\n */\r\nInstance.prototype.load = function (data, replace, atStart) {\r\n    if (typeof replace !== 'boolean') replace = true;\r\n    if (typeof atStart !== 'boolean') atStart = false;\r\n\r\n    if (data instanceof Data) {\r\n        try {\r\n            data.fetch(function (replace, atStart, response) {\r\n                this.load(response, replace, atStart);\r\n                this.triggerEvent('afterLoad', data);\r\n                this.__.ui.triggerEvent('afterLoad', this, data);\r\n            }.bind(this, replace, atStart));\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        return this;\r\n    }\r\n\r\n\r\n    // Trigger event on the UI.\r\n    let event = new Event('load', {cancelable: true});\r\n    this.__.ui.triggerEvent('load', this, data, event);\r\n    if (event.defaultPrevented){\r\n        this.triggerEvent('afterLoad', data);\r\n        this.__.ui.triggerEvent('afterLoad', this, data);\r\n        return this;\r\n    }\r\n\r\n    // Trigger event on the instance.\r\n    event = new Event('load', {cancelable: true});\r\n    this.triggerEvent('load', data, event);\r\n    if (event.defaultPrevented){\r\n        this.triggerEvent('afterLoad', data);\r\n        this.__.ui.triggerEvent('afterLoad', this, data);\r\n        return this;\r\n    }\r\n\r\n\r\n    if (typeof data !== 'object') {\r\n        //warn('Instance data loading error: invalid argument. Object is required but ' + typeof data + ' given.');\r\n    }\r\n\r\n    let root = this.getRootElement();\r\n    if (typeof data === 'string') {\r\n\r\n        if (root !== null) {\r\n            root.load(data, replace, atStart);\r\n            this.triggerEvent('afterLoad', data);\r\n            this.__.ui.triggerEvent('afterLoad', this, data);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    if (Array.isArray(data)) {\r\n        if (root !== null) {\r\n            root.load(data, replace, atStart);\r\n            this.triggerEvent('afterLoad', data);\r\n            this.__.ui.triggerEvent('afterLoad', this, data);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    for (let p in data) {\r\n        if (p === '__') continue; // Prevent from changing some initial properties.\r\n\r\n        if (this.hasOwnProperty(p)) {\r\n            let el = this[p];\r\n\r\n            if (this[p] instanceof Element) {\r\n\r\n                let inclusion = el.inclusion(); // Included Instance\r\n                if (inclusion instanceof Instance) {\r\n\r\n                    if (Array.isArray(data[p])) {\r\n                        let incRoot = inclusion.getRootElement();\r\n                        if (incRoot === null || !el.hasChildUI()) {\r\n                            inclusion.load(data[p], replace, atStart);\r\n                        } else {\r\n                            try {\r\n                                incRoot.load(data[p], replace, atStart);\r\n                            } catch (e) {\r\n                                error(e);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        inclusion.load(data[p], replace, atStart);\r\n                    }\r\n\r\n\r\n                } else {\r\n                    try {\r\n                        this[p].load(data[p], replace, atStart);\r\n                    } catch (e) {\r\n                        error(e);\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                el.load(data[p], replace, atStart);\r\n            }\r\n\r\n        }else{\r\n            let ui = uiRegistry.get(p);\r\n            if (ui !== null && root !== null) {\r\n                ui.renderTo(root, false, {}).load(data[p], true, false);\r\n            }\r\n        }\r\n    }\r\n    this.triggerEvent('afterLoad', data);\r\n    this.__.ui.triggerEvent('afterLoad', this, data);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Returns top level Element that contains all another element.\r\n * If top level has few elements - null will be returned.\r\n * @returns {Element}\r\n */\r\nInstance.prototype.getRootElement = function () {\r\n    let topLevel = Object.keys(this.__.ui.scheme);\r\n    return topLevel.length === 1 && this.hasOwnProperty(topLevel[0]) ? this[topLevel[0]] : null;\r\n};\r\n\r\n/**\r\n * Returns top level Element that contains all another element.\r\n * If top level has few elements - null will be returned.\r\n * @returns {Element}\r\n */\r\nInstance.prototype.getLastRootElement = function () {\r\n    let topLevel = Object.keys(this.__.ui.scheme);\r\n    let lastKey = topLevel[topLevel.length - 1];\r\n    return topLevel.length === 1 && this.hasOwnProperty(lastKey) ? this[lastKey] : null;\r\n};\r\n\r\n\r\n\r\nInstance.prototype.appendTo = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n\r\n    for(let p in scheme){\r\n        if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n            node.appendChild(this[p].node());\r\n            if(node.element instanceof Element){\r\n                this[p].__.parent = node.element;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\nInstance.prototype.appendAfter = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    // Check if node have parent.\r\n    let parent = node.parentNode;\r\n    if(parent === null){\r\n        error('Element given for the method instance \"appendAfter()\" have no parent node.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n    let next = node.nextSibling;\r\n    if (next) {\r\n        for(let p in scheme){\r\n            if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n                parent.insertBefore(this[p].node(), next);\r\n                if(parent.element instanceof Element){\r\n                    this[p].__.parent = parent.element;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        for(let p in scheme){\r\n            if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n                parent.appendChild(this[p].node());\r\n                if(parent.element instanceof Element){\r\n                    this[p].__.parent = parent.element;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nInstance.prototype.appendBefore = function (element) {\r\n    // Check argument.\r\n    let node = element instanceof Element ? element.node() : element;\r\n    if(node.appendChild === undefined){\r\n        error('Invalid argument given for the instance \"appendAfter()\" instance method: ' + (typeof element) + ' given but node or element is required.');\r\n        return;\r\n    }\r\n\r\n    // Check if node have parent.\r\n    let parent = node.parentNode;\r\n    if(parent === null){\r\n        error('Element given for the method instance \"appendAfter()\" have no parent node.');\r\n        return;\r\n    }\r\n\r\n    let scheme = this.UI().scheme;\r\n    for(let p in scheme){\r\n        if(scheme.hasOwnProperty(p) && this.hasOwnProperty(p)){\r\n            parent.insertBefore(this[p].node(), node);\r\n            if(parent.element instanceof Element){\r\n                this[p].__.parent = parent.element;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Applies extension to the instance.\r\n * Returns true if applying was successful.\r\n * @returns {boolean}\r\n */\r\nInstance.prototype.applyExtension = function (name, params) {\r\n    // Log warning if extension is already applied to the element.\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        warn('Extension with name \"' + name + '\" is already applied to the instance.');\r\n        return false;\r\n    }\r\n\r\n    // Log error if requested extension is absent.\r\n    let ext = extensionsManager(name);\r\n    if(ext === null){\r\n        error('Extension with name \"' + name + '\" is not registered yet.');\r\n        return false;\r\n    }\r\n\r\n    this.__.extensions[name] = ext.applyTo(this, params);\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Returns extension by name.\r\n * @param name {string}\r\n * @return {ExtensionInstance|null}\r\n */\r\nInstance.prototype.extension = function (name) {\r\n    if(this.__.extensions.hasOwnProperty(name)){\r\n        return this.__.extensions[name];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Removes extension from the instance.\r\n * Returns true if removing was successful.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nInstance.prototype.removeExtension = function (name) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n\r\n    let ext = this.__.extensions[name];\r\n    if (ext.remove !== undefined) {\r\n        ext.remove();\r\n        delete this.__.extensions[name];\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * Tries to update extension with given name by passing new parameters.\r\n * To make update possible extension must implement 'update' event handler.\r\n * @param name {string} Name of the extension.\r\n * @param params {object} Parameters to be updated.\r\n * @return {boolean}\r\n */\r\nInstance.prototype.updateExtension = function (name, params) {\r\n    // Return false if extension with given name was not applied yet.\r\n    if(!this.__.extensions.hasOwnProperty(name)){\r\n        return false;\r\n    }\r\n    let ext = this.__.extensions[name];\r\n    if (ext.update !== undefined) {\r\n        ext.update(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};","import {parseParameters} from '../utils/ui-utils';\r\nimport {makeClassName} from '../utils/strings';\r\n\r\nlet cssGenerator = {\r\n    generateUIStyles (ui) {\r\n        return generateCSS.call(ui, ui.css);\r\n    },\r\n\r\n    generateSimpleStyles (styles) {\r\n        let css = \"\\n\";\r\n        for(let p in styles){\r\n            if(styles.hasOwnProperty(p)){\r\n                if(typeof styles[p] !== 'object'){\r\n                    continue;\r\n                }\r\n                css += p + \" {\\n\";\r\n                for(let s in styles[p]){\r\n                    if(styles[p].hasOwnProperty(s)){\r\n                        let val = styles[p][s];\r\n                        if(val.getValue !== undefined){\r\n                            val = val.getValue();\r\n                        }\r\n                        css += '    ' + makeClassName('' + s) + ': ' + val + \";\\n\";\r\n                    }\r\n                }\r\n                css += \"}\\n\";\r\n            }\r\n        }\r\n        return css;\r\n    }\r\n};\r\n\r\nexport default cssGenerator;\r\n\r\n/**\r\n * Generates CSS of the UI.\r\n * @returns {string}\r\n */\r\nfunction generateCSS (data, parentSelector, parentEl)\r\n{\r\n    if(parentSelector === undefined) parentSelector = '';\r\n    let res = [];\r\n\r\n    for(let elName in data) {\r\n        if(!data.hasOwnProperty(elName)) continue;\r\n\r\n        let styles = data[elName];\r\n        let cssText = '';\r\n        let selector, params;\r\n\r\n        // Check if element exists in the UI.\r\n        if (!this.elements.hasOwnProperty(elName) && elName[0] === '@') {\r\n\r\n            // Process CSS animation.\r\n            if(elName.slice(0, 10) === '@keyframes'){\r\n                cssText += elName + \"{\\n\";\r\n                for (let p in styles) {\r\n                    if(!styles.hasOwnProperty(p)) continue;\r\n                    if (typeof styles[p] === 'string') {\r\n                        cssText += '    ' + makeClassName(p) + ': ' + (styles[p] === '' ? '\"\"' : styles[p]) + \";\\n\";\r\n                    } else if (typeof styles[p] === 'object') {\r\n                        let value = '    ' + p + \" {\\n\";\r\n                        for (let s in styles[p]) {\r\n                            if(styles[p].hasOwnProperty(s)){\r\n                                value += '        ' + makeClassName(s) + ': ' + styles[p][s] + \";\\n\";\r\n                            }\r\n                        }\r\n                        value += \"    }\\n\";\r\n                        cssText += value;\r\n                    }\r\n                }\r\n                cssText += \"}\\n\";\r\n                res.push(cssText);\r\n\r\n                // Otherwise generate nested styles in case it is media query, print or something else.\r\n            }else if(typeof styles === 'object'){\r\n                cssText += parentSelector + elName + \"{\\n\";\r\n                cssText += generateCSS.call(this, styles);\r\n                cssText += \"}\\n\";\r\n                res.push(cssText);\r\n            }\r\n            continue;\r\n        }\r\n\r\n        // Make selector.\r\n        if(this.elements.hasOwnProperty(elName)){\r\n            params = parseParameters(this.elements[elName].rules);\r\n            selector = params.id !== null ? '#' + params.id : '.' + (params.class !== null ? params.class.split(' ').join('.') : makeClassName(elName));\r\n            selector = (this.elements.hasOwnProperty(parentEl) && this.elements[parentEl].children.hasOwnProperty(elName) ? ' > ' : ' ') + selector;\r\n        }else{\r\n            selector = makeClassName(elName);\r\n        }\r\n\r\n        // Make root selector to encapsulate styles in the instance UI.\r\n        let rootSelector = makeClassName(this.name);\r\n        let root = this.getRootElement();\r\n        if(root !== null){\r\n            params = parseParameters(root.rules);\r\n            let rootClass = params.class !== null ? params.class.split(' ').join('.') : makeClassName(root.name);\r\n            if(root === this.elements[elName]){\r\n                selector = '';\r\n            }\r\n            rootSelector = params.id !== null ? '#' + params.id : '.' + makeClassName(this.name) + '.' + rootClass;\r\n        }\r\n        // Don't use root selector if it already presented.\r\n        if(parentSelector.indexOf(rootSelector) >= 0 || selector.indexOf(rootSelector) >= 0) rootSelector = '';\r\n\r\n        let index = res.length;\r\n        res.push('');\r\n\r\n        cssText += ((rootSelector + ' ' + parentSelector).trim() + selector)\r\n                .replace('  ', ' ')\r\n                .replace(' :', ':')\r\n                .replace('>:', ':') + \"{\\n\";\r\n\r\n        for(let styleName in styles){\r\n            if(!styles.hasOwnProperty(styleName)) continue;\r\n\r\n            let style = styles[styleName];\r\n\r\n            if(typeof style === 'string' || typeof style === 'number'){\r\n                let s = style;\r\n                if(styleName === 'content'){\r\n                    s = style.slice(0, 5) === 'attr(' ? style : (style === '' ? '\"\"' : '\"'+style+'\"');\r\n                }\r\n                cssText += '    ' + makeClassName(styleName) + ': ' + s + \";\\n\";\r\n\r\n            }else if(style.getValue !== undefined){\r\n                cssText += '    ' + makeClassName(styleName) + ': ' + style.getValue() + \";\\n\";\r\n\r\n            }else if(typeof style === 'object'){\r\n                let obj = {};\r\n                obj[styleName] = style;\r\n                res.push(generateCSS.call(this, obj, parentSelector + selector, elName));\r\n            }\r\n        }\r\n        cssText += \"}\\n\";\r\n        res[index] = cssText;\r\n    }\r\n    return res.join(\"\\n\");\r\n}","import {error, warn} from '../utils/logging';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport Settings from './settings';\r\nimport uiRegistry from '../registries/ui-registry';\r\n\r\n/**\r\n * Interface that holds information about methods set.\r\n * Main purpose - dependency description.\r\n *\r\n * @property name {string}      Name of the interface.\r\n * @property methods {{Method}} Methods of the interface.\r\n */\r\nclass Interface\r\n{\r\n    constructor(name, methods) {\r\n        this.name = name;\r\n        this.methods = {};\r\n        this.methodsQuantity = 0;\r\n\r\n        for (let i = 0, len = methods.length; i < len; i++) {\r\n            let method = new Method(methods[i]);\r\n            if (method.valid) {\r\n                this.methods[method.name] = method;\r\n                this.methodsQuantity++;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if given object implements interface.\r\n     * @param obj {object} Object which methods will be checked.\r\n     * @return {boolean}   Returns true if given object has all interface methods.\r\n     */\r\n    implementedBy(obj) {\r\n        for (let p in this.methods) {\r\n            if (this.methods.hasOwnProperty(p)) {\r\n                if (typeof obj[p] !== 'function' || !this.methods[p].checkSignature(obj[p])) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Interface string representation.\r\n     * @return {string}\r\n     */\r\n    toString() {\r\n        let res = this.name + \" {\\n\";\r\n        for (let p in this.methods) {\r\n            if (this.methods.hasOwnProperty(p)) {\r\n                res += '    ' + p + '(' + this.methods[p].arguments.join(', ') + \")\\n\";\r\n            }\r\n        }\r\n        return res + \"}\";\r\n    }\r\n}\r\n\r\n\r\nlet signatureRegexp = /^([\\w$_]+[$\\w\\d]*)\\s*\\(([\\w\\d\\s,$]*)\\)/i;\r\n\r\n/**\r\n * Class that represents single method.\r\n * Holds information about method name and accepted arguments.\r\n *\r\n * @property valid {boolean}      Flag if given signature is valid.\r\n * @property name {string}        Name of the method.\r\n * @property arguments {{string}} List of the accepted arguments.\r\n */\r\nclass Method\r\n{\r\n    constructor(signature) {\r\n        this.valid = true;\r\n\r\n        let res = (signature + '').match(signatureRegexp);\r\n        if (res === null || res.length < 2) {\r\n            error('Invalid method signature.');\r\n            this.valid = false;\r\n            return;\r\n        }\r\n\r\n        this.name = res[1];\r\n        if (res.length > 2) {\r\n            this.arguments = res[2].split(',');\r\n            for (let i = 0, len = this.arguments.length; i < len; i++) {\r\n                this.arguments[i] = this.arguments[i].trim();\r\n                if (this.arguments[i] === '') {\r\n                    this.arguments.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if signature of the given function is the same with method's one.\r\n     * @param func {function} Function that will be checked.\r\n     * @return {boolean}\r\n     */\r\n    checkSignature(func) {\r\n        let res = (func + '').match(signatureRegexp);\r\n\r\n        if (res === null || res.length < 2) {\r\n            return false;\r\n        }\r\n\r\n        if (this.arguments.length > 0) {\r\n            // If function don't accepts arguments but at least one argument required.\r\n            if (res.length < 3) {\r\n                return false;\r\n            }\r\n\r\n            // If function accepts too few arguments.\r\n            let args = res[2].split(',');\r\n            if (res[2] === '' || this.arguments.length > args.length) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n/**\r\n * Object that stores all registered interfaces.\r\n * @type {{Interface}}\r\n */\r\nlet interfaces = {};\r\n\r\n/**\r\n * Object that stores UIs that implements any interface.\r\n * The key is interface name and the value is UI.\r\n * Used for searching of the UI by the interface name.\r\n * @type {{}}\r\n */\r\nlet interfacesUIs = {};\r\n\r\n/**\r\n * Returns interface by name.\r\n * @param name {string} Name of the interface.\r\n * @return {Interface|null}\r\n * @method triggerEvent(eventName, args)\r\n * @method on(eventName, handler)\r\n */\r\nexport default function interfaceManager (name) {\r\n    if (interfaces.hasOwnProperty(name)) {\r\n        return interfaces[name];\r\n    }\r\n    return null;\r\n}\r\n\r\n// Add events support.\r\naddEventsMethods(interfaceManager);\r\n\r\n/**\r\n * Returns implementation of the interface with given name.\r\n * @param interfaceName {string}\r\n * @return {*}\r\n */\r\ninterfaceManager.getImplementation = function(interfaceName) {\r\n    if (interfacesUIs.hasOwnProperty(interfaceName) && interfacesUIs[interfaceName].length > 0) {\r\n        return interfacesUIs[interfaceName][0];\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Adds interface implementation.\r\n * @param interfaceName\r\n * @param ui\r\n */\r\ninterfaceManager.addImplementation = function(interfaceName, ui) {\r\n    if (!interfacesUIs.hasOwnProperty(interfaceName)) {\r\n        interfacesUIs[interfaceName] = [];\r\n    }\r\n    if (interfacesUIs[interfaceName].indexOf(ui) < 0) {\r\n        interfacesUIs[interfaceName].push(ui);\r\n    }\r\n};\r\n\r\n/**\r\n * Registers new interface.\r\n * @param name {string} Name of the interface.\r\n * Please don't use prefix or suffix 'interface'.\r\n * Any interface will be fetched by using global Interface function-helper.\r\n * Good name example: Calendar\r\n *\r\n * Example of usage:\r\n *\r\n * Interface.register('Calendar', [\r\n *     'val(value)',\r\n *     'format(template)',\r\n *     'from(date)',\r\n *     'to(date)'\r\n * ]);\r\n *\r\n * // Getting 'Calendar' interface using global function-helper.\r\n * let i = Interface('Calendar');\r\n *\r\n * // Defining UI to require this interface:\r\n * UI.register({\r\n *     name: 'Date picker',\r\n *\r\n *     scheme: {\r\n *         wrap: {\r\n *             field: '@input [type = text]',\r\n *             popup: '<<< Calendar\r\n *         }\r\n *     },\r\n *\r\n *     dependencies: {\r\n *         popup: 'Calendar'\r\n *     }\r\n * });\r\n *\r\n * @param methods\r\n * @fires interfaceManager:register\r\n */\r\ninterfaceManager.register = function (name, methods) {\r\n    name = name.trim();\r\n    if (typeof name !== 'string' || name === '') {\r\n        error('Interface name is invalid.');\r\n        return;\r\n    }\r\n\r\n    if (!Array.isArray(methods) || methods.length === 0) {\r\n        error('Interface method must contain at least one method signature.');\r\n        return;\r\n    }\r\n\r\n    if (interfaces.hasOwnProperty(name)) {\r\n        warn('Interface with name \"' + name + '\" is already registered.');\r\n        return;\r\n    }\r\n\r\n    interfaces[name] = new Interface(name, methods);\r\n\r\n    // Trigger 'register' event only in development mode because\r\n    // this event initiate implementations searching that costs some performance.\r\n    if (Settings.devMode) {\r\n        interfaceManager.triggerEvent('register', interfaces[name]);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Returns names of the interfaces that are implemented by the given object.\r\n * @param obj {object}\r\n * @return {string[]}\r\n */\r\ninterfaceManager.detectInterfacesFor = function (obj) {\r\n    let res = [];\r\n    for (let p in interfaces) {\r\n        if (interfaces.hasOwnProperty(p)) {\r\n            if (interfaces[p].implementedBy(obj)) {\r\n                res.push(interfaces[p].name);\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n// Store link to the uis list.\r\nlet uis = uiRegistry.getAll();\r\n\r\n/**\r\n * Handles 'register' event to find implementations of the newly created interface.\r\n */\r\ninterfaceManager.on('register', inter => {\r\n    let implementations = [];\r\n    for (let p in uis) {\r\n        if (uis.hasOwnProperty(p)) {\r\n            if (inter.implementedBy(uis[p].uiiConstructor.prototype)) {\r\n                uis[p].__.implements.push(inter.name);\r\n                implementations.push(uis[p]);\r\n            }\r\n        }\r\n    }\r\n    interfacesUIs[inter.name] = implementations;\r\n});","import cssGenerator from './css-generator';\r\n\r\n/**\r\n * Reset styles.\r\n * @type {{}}\r\n */\r\nlet resetStyles = {};\r\n\r\n/**\r\n * Generates reset styles.\r\n * Can be used after theme definition to include dynamically defined styles.\r\n *\r\n * Example:\r\n *\r\n * // Define theme.\r\n * Theme.register('Default', {\r\n *     colors : {\r\n *         primary: new Color('#ff0000)\r\n *     }\r\n * });\r\n *\r\n * // Set current theme.\r\n * Theme.switchTo('Default');\r\n *\r\n * // Add reset styles and render it.\r\n * UI.createResetStyles({\r\n *     button : {\r\n *         backgroundColor: Theme('colors.primary')\r\n *     }\r\n * });\r\n *\r\n * // Force to re-render reset styles on theme switch.\r\n * Theme.on('switch', UI.createResetStyles);\r\n */\r\nexport default function createResetStyles (styles)\r\n{\r\n    if(styles === undefined){\r\n        styles = resetStyles;\r\n    }else{\r\n        resetStyles = styles;\r\n    }\r\n\r\n    let styleTag = document.querySelector('style[data-reset=\"ui-builder\"]');\r\n    if(styleTag === null){\r\n        styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-reset', 'ui-builder');\r\n        let head = document.getElementsByTagName('head')[0];\r\n        head.appendChild(styleTag);\r\n    }\r\n\r\n    // Set new content of the reset style tag.\r\n    styleTag.innerHTML = cssGenerator.generateSimpleStyles(styles);\r\n};","import UI from './core/ui';\r\nimport Instance from './core/instance';\r\nimport Element from './core/element';\r\nimport uiRegistry from './registries/ui-registry';\r\nimport addEventsMethods from './utils/events-methods';\r\nimport {checkUIParameters} from './utils/ui-utils';\r\nimport createResetStyles from './core/reset-styles';\r\n\r\n/**\r\n * Main function/object-helper that contains all methods\r\n * of the application.\r\n * @param name {string} Name of the UI.\r\n * @returns {UI|null}\r\n */\r\nexport default function Builder(name) {\r\n    return uiRegistry.get(name);\r\n}\r\n\r\n// Add events support.\r\naddEventsMethods(Builder);\r\n\r\n/**\r\n * Registers new UI.\r\n * @param data (object)\r\n *\r\n * Structure:\r\n * {\r\n *      name         : {string},\r\n *      localization : {string},\r\n *      translations : {object},\r\n *      scheme       : {object},\r\n *      rules        : {object},\r\n *      params       : {object},\r\n *      method       : {object},\r\n *      styles       : {object}\r\n * }\r\n */\r\nBuilder.register = function(data) {\r\n    if(typeof data === 'string'){\r\n        data = {name : data};\r\n    }\r\n    checkUIParameters(data);\r\n    let ui = new UI(data);\r\n    uiRegistry.add(data.name, ui);\r\n    Builder.triggerEvent('register', ui);\r\n    return ui;\r\n};\r\n\r\n/**\r\n * Checks whether subject is instance of the UI.\r\n * @param subject\r\n * @returns {boolean}\r\n */\r\nBuilder.isInstance = function(subject){\r\n    return subject instanceof Instance;\r\n};\r\n\r\n/**\r\n * Checks whether subject is element of the UI instance.\r\n * @param subject\r\n * @returns {boolean}\r\n */\r\nBuilder.isElement = function(subject){\r\n    return subject instanceof Element;\r\n};\r\n\r\n// Attach helpers.\r\nBuilder.createResetStyles = createResetStyles;\r\n","import addEventsMethods from '../utils/events-methods';\r\nimport UI from './ui'\r\nimport {error} from '../utils/logging';\r\nimport {checkUIParameters} from '../utils/ui-utils';\r\nimport uiRegistry from '../registries/ui-registry';\r\n\r\nlet layouts = {};\r\n\r\nlet currentLayoutName = null;\r\nlet currentLayoutInst = null;\r\n\r\n/**\r\n * Returns layout by name.\r\n * @param name\r\n * @return {Instance|null}\r\n */\r\nfunction getLayout(name) {\r\n    if (layouts.hasOwnProperty(name)) {\r\n        return layouts[name];\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Returns currently rendered layout.\r\n * @returns {LayoutUI}\r\n * @private\r\n */\r\nexport default function Layout(name) {\r\n    if(layouts.hasOwnProperty(name)){\r\n        return new LayoutUI(name);\r\n    }\r\n    error('Layout with name \"' + name + '\" is not registered yet.');\r\n}\r\naddEventsMethods(Layout);\r\n\r\n/**\r\n * Registers new layout UI.\r\n * @param {object} data\r\n */\r\nLayout.register = function (data) {\r\n    checkUIParameters(data);\r\n    if (uiRegistry.get(data.name) !== null){\r\n        error('UI with name \"' + data.name + '\" already registered.');\r\n    }\r\n    layouts[data.name] = new UI(data);\r\n    Layout.triggerEvent('register', layouts[data.name]);\r\n    return layouts[data.name];\r\n};\r\n\r\n/**\r\n * Renders layout with given name.\r\n * @param name\r\n * @param params\r\n */\r\nLayout.render = function (name, params) {\r\n    let ui = getLayout(name);\r\n    if(ui === null){\r\n        error('Layout with name \"' + name + '\" is not registered yet.');\r\n    }\r\n    currentLayoutInst = ui.render(params);\r\n    currentLayoutName = name;\r\n    return currentLayoutInst;\r\n};\r\n\r\n/**\r\n * Returns instance of the current layout.\r\n * @returns {*}\r\n */\r\nLayout.getInstance = function () {\r\n    return currentLayoutInst;\r\n};\r\n\r\n/**\r\n * Object that provides all necessary methods.\r\n * Usage: Layout('Main').render();\r\n * @param name\r\n * @constructor\r\n */\r\nclass LayoutUI\r\n{\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n\r\n    render(params ){\r\n        let ui = getLayout(this.name);\r\n        currentLayoutInst = ui.render(params);\r\n        currentLayoutName = this.name;\r\n        return currentLayoutInst;\r\n    }\r\n}\r\n","/**\r\n *           Colors\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * Color is on object that represents color.\r\n * Can be used in any supported format: hex, RGBA, HSL.\r\n * Also provides few functions to manipulation: lighten(), darken(), saturated(), desaturated().\r\n */\r\nexport default function Color(c) {\r\n    Object.defineProperty(this, 'constructor', {\r\n        enumerable: false\r\n    });\r\n    if (!(this instanceof Color)) { return new Color(c); }\r\n    this.attachValues(typeof c === 'object' ? c : toColorObject(c));\r\n}\r\n\r\n\r\nfunction toColorObject(c) {\r\n    let x, y, typ, arr = [], arrLength, i, opacity, match, a, hue, sat, rgb, colorNames = [], colorHexes = [];\r\n    c = colorTrim(c.toLowerCase());\r\n    x = c.substr(0,1).toUpperCase();\r\n    y = c.substr(1);\r\n    a = 1;\r\n    if ((x === \"R\" || x === \"Y\" || x === \"G\" || x === \"C\" || x === \"B\" || x === \"M\" || x === \"W\") && !isNaN(y)) {\r\n        if (c.length === 6 && c.indexOf(\",\") === -1) {\r\n        } else {\r\n            c = \"ncol(\" + c + \")\";\r\n        }\r\n    }\r\n    if (c.length !== 3 && c.length !== 6 && !isNaN(c)) {c = \"ncol(\" + c + \")\";}\r\n    if (c.indexOf(\",\") > 0 && c.indexOf(\"(\") === -1) {c = \"ncol(\" + c + \")\";}\r\n    if (c.substr(0, 3) === \"rgb\" || c.substr(0, 3) === \"hsl\" || c.substr(0, 3) === \"hwb\" || c.substr(0, 4) === \"ncol\" || c.substr(0, 4) === \"cmyk\") {\r\n        if (c.substr(0, 4) === \"ncol\") {\r\n            if (c.split(\",\").length === 4 && c.indexOf(\"ncola\") === -1) {\r\n                c = c.replace(\"ncol\", \"ncola\");\r\n            }\r\n            typ = \"ncol\";\r\n            c = c.substr(4);\r\n        } else if (c.substr(0, 4) === \"cmyk\") {\r\n            typ = \"cmyk\";\r\n            c = c.substr(4);\r\n        } else {\r\n            typ = c.substr(0, 3);\r\n            c = c.substr(3);\r\n        }\r\n        arrLength = 3;\r\n        opacity = false;\r\n        if (c.substr(0, 1).toLowerCase() === \"a\") {\r\n            arrLength = 4;\r\n            opacity = true;\r\n            c = c.substr(1);\r\n        } else if (typ === \"cmyk\") {\r\n            arrLength = 4;\r\n            if (c.split(\",\").length === 5) {\r\n                arrLength = 5;\r\n                opacity = true;\r\n            }\r\n        }\r\n        c = c.replace(\"(\", \"\");\r\n        c = c.replace(\")\", \"\");\r\n        arr = c.split(\",\");\r\n        if (typ === \"rgb\") {\r\n            if (arr.length !== arrLength) {\r\n                return emptyObject();\r\n            }\r\n            for (i = 0; i < arrLength; i++) {\r\n                if (arr[i] === \"\" || arr[i] === \" \") {arr[i] = \"0\"; }\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i] / 100);\r\n                    if (i < 3 ) {arr[i] = Math.round(arr[i] * 255);}\r\n                }\r\n                if (isNaN(arr[i])) {return emptyObject(); }\r\n                if (parseInt(arr[i]) > 255) {arr[i] = 255; }\r\n                if (i < 3) {arr[i] = parseInt(arr[i]);}\r\n                if (i === 3 && Number(arr[i]) > 1) {arr[i] = 1;}\r\n            }\r\n            rgb = {r : arr[0], g : arr[1], b : arr[2]};\r\n            if (opacity === true) {a = Number(arr[3]);}\r\n        }\r\n        if (typ === \"hsl\" || typ === \"hwb\" || typ === \"ncol\") {\r\n            while (arr.length < arrLength) {arr.push(\"0\"); }\r\n            if (typ === \"hsl\" || typ === \"hwb\") {\r\n                if (parseInt(arr[0]) >= 360) {arr[0] = 0; }\r\n            }\r\n            for (i = 1; i < arrLength; i++) {\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i]);\r\n                    if (isNaN(arr[i])) {return emptyObject(); }\r\n                    arr[i] = arr[i] / 100;\r\n                } else {\r\n                    arr[i] = Number(arr[i]);\r\n                }\r\n                if (Number(arr[i]) > 1) {arr[i] = 1;}\r\n                if (Number(arr[i]) < 0) {arr[i] = 0;}\r\n            }\r\n            if (typ === \"hsl\") {rgb = hslToRgb(arr[0], arr[1], arr[2]); hue = Number(arr[0]); sat = Number(arr[1]);}\r\n            if (typ === \"hwb\") {rgb = hwbToRgb(arr[0], arr[1], arr[2]);}\r\n            if (typ === \"ncol\") {rgb = ncolToRgb(arr[0], arr[1], arr[2]);}\r\n            if (opacity === true) {a = Number(arr[3]);}\r\n        }\r\n        if (typ === \"cmyk\") {\r\n            while (arr.length < arrLength) {arr.push(\"0\"); }\r\n            for (i = 0; i < arrLength; i++) {\r\n                if (arr[i].indexOf(\"%\") > -1) {\r\n                    arr[i] = arr[i].replace(\"%\", \"\");\r\n                    arr[i] = Number(arr[i]);\r\n                    if (isNaN(arr[i])) {return emptyObject(); }\r\n                    arr[i] = arr[i] / 100;\r\n                } else {\r\n                    arr[i] = Number(arr[i]);\r\n                }\r\n                if (Number(arr[i]) > 1) {arr[i] = 1;}\r\n                if (Number(arr[i]) < 0) {arr[i] = 0;}\r\n            }\r\n            rgb = cmykToRgb(arr[0], arr[1], arr[2], arr[3]);\r\n            if (opacity === true) {a = Number(arr[4]);}\r\n        }\r\n    } else if (c.substr(0, 3) === \"ncs\") {\r\n        rgb = ncsToRgb(c);\r\n    } else {\r\n        match = false;\r\n        colorNames = getColorArr('names');\r\n        for (i = 0; i < colorNames.length; i++) {\r\n            if (c.toLowerCase() === colorNames[i].toLowerCase()) {\r\n                colorHexes = getColorArr('hexs');\r\n                match = true;\r\n                rgb = {\r\n                    r : parseInt(colorHexes[i].substr(0,2), 16),\r\n                    g : parseInt(colorHexes[i].substr(2,2), 16),\r\n                    b : parseInt(colorHexes[i].substr(4,2), 16)\r\n                };\r\n                break;\r\n            }\r\n        }\r\n        if (match === false) {\r\n            c = c.replace(\"#\", \"\");\r\n            if (c.length === 3) {c = c.substr(0,1) + c.substr(0,1) + c.substr(1,1) + c.substr(1,1) + c.substr(2,1) + c.substr(2,1);}\r\n            for (i = 0; i < c.length; i++) {\r\n                if (!isHex(c.substr(i, 1))) {return emptyObject(); }\r\n            }\r\n            arr[0] = parseInt(c.substr(0,2), 16);\r\n            arr[1] = parseInt(c.substr(2,2), 16);\r\n            arr[2] = parseInt(c.substr(4,2), 16);\r\n            for (i = 0; i < 3; i++) {\r\n                if (isNaN(arr[i])) {return emptyObject(); }\r\n            }\r\n            rgb = {\r\n                r : arr[0],\r\n                g : arr[1],\r\n                b : arr[2]\r\n            };\r\n        }\r\n    }\r\n    return colorObject(rgb, a, hue, sat);\r\n}\r\n\r\nfunction cmykToRgb(c, m, y, k) {\r\n    let r, g, b;\r\n    r = 255 - ((Math.min(1, c * (1 - k) + k)) * 255);\r\n    g = 255 - ((Math.min(1, m * (1 - k) + k)) * 255);\r\n    b = 255 - ((Math.min(1, y * (1 - k) + k)) * 255);\r\n    return {r : r, g : g, b : b};\r\n}\r\n\r\nfunction ncolToRgb(ncol, white, black) {\r\n    let letter, percent, h;\r\n    h = ncol;\r\n    if (isNaN(ncol.substr(0, 1))) {\r\n        letter = ncol.substr(0,1).toUpperCase();\r\n        percent = ncol.substr(1);\r\n        if (percent === \"\") {percent = 0;}\r\n        percent = Number(percent);\r\n        if (isNaN(percent)) {return false;}\r\n        if (letter === \"R\") {h = percent * 0.6;}\r\n        if (letter === \"Y\") {h = 60 + (percent * 0.6);}\r\n        if (letter === \"G\") {h = 120 + (percent * 0.6);}\r\n        if (letter === \"C\") {h = 180 + (percent * 0.6);}\r\n        if (letter === \"B\") {h = 240 + (percent * 0.6);}\r\n        if (letter === \"M\") {h = 300 + (percent * 0.6);}\r\n        if (letter === \"W\") {\r\n            h = 0;\r\n            white = 1 - (percent / 100);\r\n            black = (percent / 100);\r\n        }\r\n    }\r\n    return hwbToRgb(h, white, black);\r\n}\r\n\r\nfunction hwbToRgb(hue, white, black) {\r\n    let i, rgb, rgbArr = [], tot;\r\n    rgb = hslToRgb(hue, 1, 0.50);\r\n    rgbArr[0] = rgb.r / 255;\r\n    rgbArr[1] = rgb.g / 255;\r\n    rgbArr[2] = rgb.b / 255;\r\n    tot = white + black;\r\n    if (tot > 1) {\r\n        white = Number((white / tot).toFixed(2));\r\n        black = Number((black / tot).toFixed(2));\r\n    }\r\n    for (i = 0; i < 3; i++) {\r\n        rgbArr[i] *= (1 - (white) - (black));\r\n        rgbArr[i] += (white);\r\n        rgbArr[i] = Number(rgbArr[i] * 255);\r\n    }\r\n    return {r : rgbArr[0], g : rgbArr[1], b : rgbArr[2] };\r\n}\r\n\r\nfunction ncsToRgb(ncs){\r\n    let black, chroma, bc, percent, black1, chroma1, factor1, blue1, red1, red2, green2, blue2, max, factor2, grey, r, g, b;\r\n    ncs = colorTrim(ncs).toUpperCase();\r\n    ncs = ncs.replace(\"(\", \"\");\r\n    ncs = ncs.replace(\")\", \"\");\r\n    ncs = ncs.replace(\"NCS\", \"NCS \");\r\n    ncs = ncs.replace(/\\s+/g, \" \");\r\n    if (ncs.indexOf(\"NCS\") === -1) {ncs = \"NCS \" + ncs;}\r\n    ncs = ncs.match(/^(?:NCS|NCS\\sS)\\s(\\d{2})(\\d{2})-(N|[A-Z])(\\d{2})?([A-Z])?$/);\r\n    if (ncs === null) return false;\r\n    black = parseInt(ncs[1], 10);\r\n    chroma = parseInt(ncs[2], 10);\r\n    bc = ncs[3];\r\n    if (bc !== \"N\" && bc !== \"Y\" && bc !== \"R\" && bc !== \"B\" && bc !== \"G\") {return false;}\r\n    percent = parseInt(ncs[4], 10) || 0;\r\n    if (bc !== 'N') {\r\n        black1 = (1.05 * black - 5.25);\r\n        chroma1 = chroma;\r\n        if (bc === 'Y' && percent <= 60) {\r\n            red1 = 1;\r\n        } else if (( bc === 'Y' && percent > 60) || ( bc === 'R' && percent <= 80)) {\r\n            if (bc === 'Y') {\r\n                factor1 = percent - 60;\r\n            } else {\r\n                factor1 = percent + 40;\r\n            }\r\n            red1 = ((Math.sqrt(14884 - Math.pow(factor1, 2))) - 22) / 100;\r\n        } else if ((bc === 'R' && percent > 80) || (bc === 'B')) {\r\n            red1 = 0;\r\n        } else if (bc === 'G') {\r\n            factor1 = (percent - 170);\r\n            red1 = ((Math.sqrt(33800 - Math.pow(factor1, 2))) - 70) / 100;\r\n        }\r\n        if (bc === 'Y' && percent <= 80) {\r\n            blue1 = 0;\r\n        } else if (( bc === 'Y' && percent > 80) || ( bc === 'R' && percent <= 60)) {\r\n            if (bc ==='Y') {\r\n                factor1 = (percent - 80) + 20.5;\r\n            } else {\r\n                factor1 = (percent + 20) + 20.5;\r\n            }\r\n            blue1 = (104 - (Math.sqrt(11236 - Math.pow(factor1, 2)))) / 100;\r\n        } else if ((bc === 'R' && percent > 60) || ( bc === 'B' && percent <= 80)) {\r\n            if (bc ==='R') {\r\n                factor1 = (percent - 60) - 60;\r\n            } else {\r\n                factor1 = (percent + 40) - 60;\r\n            }\r\n            blue1 = ((Math.sqrt(10000 - Math.pow(factor1, 2))) - 10) / 100;\r\n        } else if (( bc === 'B' && percent > 80) || ( bc === 'G' && percent <= 40)) {\r\n            if (bc === 'B') {\r\n                factor1 = (percent - 80) - 131;\r\n            } else {\r\n                factor1 = (percent + 20) - 131;\r\n            }\r\n            blue1 = (122 - (Math.sqrt(19881 - Math.pow(factor1, 2)))) / 100;\r\n        } else if (bc === 'G' && percent > 40) {\r\n            blue1 = 0;\r\n        }\r\n        let green1;\r\n        if (bc === 'Y') {\r\n            green1 = (85 - 17/20 * percent) / 100;\r\n        } else if (bc === 'R' && percent <= 60) {\r\n            green1 = 0;\r\n        } else if (bc === 'R' && percent > 60) {\r\n            factor1 = (percent - 60) + 35;\r\n            green1 = (67.5 - (Math.sqrt(5776 - Math.pow(factor1, 2)))) / 100;\r\n        } else if (bc === 'B' && percent <= 60) {\r\n            factor1 = (1*percent - 68.5);\r\n            green1 = (6.5 + (Math.sqrt(7044.5 - Math.pow(factor1, 2)))) / 100;\r\n        } else if ((bc === 'B' && percent > 60) || ( bc === 'G' && percent <= 60)) {\r\n            green1 = 0.9;\r\n        } else if (bc === 'G' && percent > 60) {\r\n            factor1 = (percent - 60);\r\n            green1 = (90 - (1/8 * factor1)) / 100;\r\n        }\r\n        factor1 = (red1 + green1 + blue1)/3;\r\n        red2 = ((factor1 - red1) * (100 - chroma1) / 100) + red1;\r\n        green2 = ((factor1 - green1) * (100 - chroma1) / 100) + green1;\r\n        blue2 = ((factor1 - blue1) * (100 - chroma1) / 100) + blue1;\r\n        if (red2 > green2 && red2 > blue2) {\r\n            max = red2;\r\n        } else if (green2 > red2 && green2 > blue2) {\r\n            max = green2;\r\n        } else if (blue2 > red2 && blue2 > green2) {\r\n            max = blue2;\r\n        } else {\r\n            max = (red2 + green2 + blue2) / 3;\r\n        }\r\n        factor2 = 1 / max;\r\n        r = parseInt((red2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        g = parseInt((green2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        b = parseInt((blue2 * factor2 * (100 - black1) / 100) * 255, 10);\r\n        if (r > 255) {r = 255;}\r\n        if (g > 255) {g = 255;}\r\n        if (b > 255) {b = 255;}\r\n        if (r < 0) {r = 0;}\r\n        if (g < 0) {g = 0;}\r\n        if (b < 0) {b = 0;}\r\n    } else {\r\n        grey = parseInt((1 - black / 100) * 255, 10);\r\n        if (grey > 255) {grey = 255;}\r\n        if (grey < 0) {grey = 0;}\r\n        r = grey;\r\n        g = grey;\r\n        b = grey;\r\n    }\r\n    return {\r\n        r : r,\r\n        g : g,\r\n        b : b\r\n    };\r\n}\r\nfunction colorObject(rgb, a, h, s) {\r\n    let hsl, hwb, cmyk, ncol, color, hue, sat;\r\n    if (!rgb) {return emptyObject();}\r\n    if (!a) {a = 1;}\r\n    hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hwb = rgbToHwb(rgb.r, rgb.g, rgb.b);\r\n    cmyk = rgbToCmyk(rgb.r, rgb.g, rgb.b);\r\n    hue = (h || hsl.h);\r\n    sat = (s || hsl.s);\r\n    ncol = hueToNcol(hue);\r\n    color = {\r\n        red : rgb.r,\r\n        green : rgb.g,\r\n        blue : rgb.b,\r\n        hue : hue,\r\n        sat : sat,\r\n        lightness : hsl.l,\r\n        whiteness : hwb.w,\r\n        blackness : hwb.b,\r\n        cyan : cmyk.c,\r\n        magenta : cmyk.m,\r\n        yellow : cmyk.y,\r\n        black : cmyk.k,\r\n        ncol : ncol,\r\n        opacity : a,\r\n        valid : true\r\n    };\r\n    color = roundDecimals(color);\r\n    return color;\r\n}\r\nfunction roundDecimals(c) {\r\n    c.red = Number(c.red.toFixed(0));\r\n    c.green = Number(c.green.toFixed(0));\r\n    c.blue = Number(c.blue.toFixed(0));\r\n    c.hue = Number(c.hue.toFixed(0));\r\n    c.sat = Number(c.sat.toFixed(2));\r\n    c.lightness = Number(c.lightness.toFixed(2));\r\n    c.whiteness = Number(c.whiteness.toFixed(2));\r\n    c.blackness = Number(c.blackness.toFixed(2));\r\n    c.cyan = Number(c.cyan.toFixed(2));\r\n    c.magenta = Number(c.magenta.toFixed(2));\r\n    c.yellow = Number(c.yellow.toFixed(2));\r\n    c.black = Number(c.black.toFixed(2));\r\n    c.ncol = c.ncol.substr(0, 1) + Math.round(Number(c.ncol.substr(1)));\r\n    c.opacity = Number(c.opacity.toFixed(2));\r\n    return c;\r\n}\r\nfunction hueToNcol(hue) {\r\n    while (hue >= 360) {\r\n        hue = hue - 360;\r\n    }\r\n    if (hue < 60) {return \"R\" + (hue / 0.6); }\r\n    if (hue < 120) {return \"Y\" + ((hue - 60) / 0.6); }\r\n    if (hue < 180) {return \"G\" + ((hue - 120) / 0.6); }\r\n    if (hue < 240) {return \"C\" + ((hue - 180) / 0.6); }\r\n    if (hue < 300) {return \"B\" + ((hue - 240) / 0.6); }\r\n    if (hue < 360) {return \"M\" + ((hue - 300) / 0.6); }\r\n}\r\nfunction rgbToHwb(r, g, b) {\r\n    let h, w, bl;\r\n    r = r / 255;\r\n    g = g / 255;\r\n    b = b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let chroma = max - min;\r\n    if (chroma === 0) {\r\n        h = 0;\r\n    } else if (r === max) {\r\n        h = (((g - b) / chroma) % 6) * 360;\r\n    } else if (g === max) {\r\n        h = ((((b - r) / chroma) + 2) % 6) * 360;\r\n    } else {\r\n        h = ((((r - g) / chroma) + 4) % 6) * 360;\r\n    }\r\n    w = min;\r\n    bl = 1 - max;\r\n    return {h : h, w : w, b : bl};\r\n}\r\nfunction rgbToCmyk(r, g, b) {\r\n    let c, m, y, k;\r\n    r = r / 255;\r\n    g = g / 255;\r\n    b = b / 255;\r\n    let max = Math.max(r, g, b);\r\n    k = 1 - max;\r\n    if (k === 1) {\r\n        c = 0;\r\n        m = 0;\r\n        y = 0;\r\n    } else {\r\n        c = (1 - r - k) / (1 - k);\r\n        m = (1 - g - k) / (1 - k);\r\n        y = (1 - b - k) / (1 - k);\r\n    }\r\n    return {c : c, m : m, y : y, k : k};\r\n}\r\nfunction emptyObject() {\r\n    return {\r\n        red : 0,\r\n        green : 0,\r\n        blue : 0,\r\n        hue : 0,\r\n        sat : 0,\r\n        lightness : 0,\r\n        whiteness : 0,\r\n        blackness : 0,\r\n        cyan : 0,\r\n        magenta : 0,\r\n        yellow : 0,\r\n        black : 0,\r\n        ncol : \"R\",\r\n        opacity : 1,\r\n        valid : false\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Converts HSL color to the RGB color.\r\n * @param hue\r\n * @param sat\r\n * @param light\r\n * @returns {{r: (number|*), g: (number|*), b: (number|*)}}\r\n */\r\nfunction hslToRgb(hue, sat, light) {\r\n    let t1, t2, r, g, b;\r\n    hue = hue / 60;\r\n    if ( light <= 0.5 ) {\r\n        t2 = light * (sat + 1);\r\n    } else {\r\n        t2 = light + sat - (light * sat);\r\n    }\r\n    t1 = light * 2 - t2;\r\n    r = hueToRgb(t1, t2, hue + 2) * 255;\r\n    g = hueToRgb(t1, t2, hue) * 255;\r\n    b = hueToRgb(t1, t2, hue - 2) * 255;\r\n    return {r : r, g : g, b : b};\r\n}\r\n\r\n\r\nfunction hueToRgb(t1, t2, hue) {\r\n    if (hue < 0) hue += 6;\r\n    if (hue >= 6) hue -= 6;\r\n    if (hue < 1) return (t2 - t1) * hue + t1;\r\n    else if(hue < 3) return t2;\r\n    else if(hue < 4) return (t2 - t1) * (4 - hue) + t1;\r\n    else return t1;\r\n}\r\n\r\n\r\n/**\r\n * Converts RGB to the HSL.\r\n * @param r\r\n * @param g\r\n * @param b\r\n * @returns {{h: (number), s: (number), l: (number)}}\r\n */\r\nfunction rgbToHsl(r, g, b) {\r\n    let min, max, i, l, s, maxColor, h, rgb = [];\r\n    rgb[0] = r / 255;\r\n    rgb[1] = g / 255;\r\n    rgb[2] = b / 255;\r\n    min = rgb[0];\r\n    max = rgb[0];\r\n    maxColor = 0;\r\n    for (i = 0; i < rgb.length - 1; i++) {\r\n        if (rgb[i + 1] <= min) {min = rgb[i + 1];}\r\n        if (rgb[i + 1] >= max) {max = rgb[i + 1];maxColor = i + 1;}\r\n    }\r\n    if (maxColor === 0) {\r\n        h = (rgb[1] - rgb[2]) / (max - min);\r\n    }\r\n    if (maxColor === 1) {\r\n        h = 2 + (rgb[2] - rgb[0]) / (max - min);\r\n    }\r\n    if (maxColor === 2) {\r\n        h = 4 + (rgb[0] - rgb[1]) / (max - min);\r\n    }\r\n    if (isNaN(h)) {h = 0;}\r\n    h = h * 60;\r\n    if (h < 0) {h = h + 360; }\r\n    l = (min + max) / 2;\r\n    if (min === max) {\r\n        s = 0;\r\n    } else {\r\n        if (l < 0.5) {\r\n            s = (max - min) / (max + min);\r\n        } else {\r\n            s = (max - min) / (2 - max - min);\r\n        }\r\n    }\r\n    return {h : h, s : s, l : l};\r\n}\r\n\r\n\r\n/**\r\n * Converts number in decimal to the number in hex.\r\n * @param n {number}\r\n * @returns {string}\r\n */\r\nfunction toHex(n) {\r\n    let hex = n.toString(16);\r\n    while (hex.length < 2) {hex = \"0\" + hex; }\r\n    return hex;\r\n}\r\n\r\n\r\n/**\r\n * Checks if given value is hex number.\r\n * @param x\r\n * @returns {boolean}\r\n */\r\nfunction isHex(x) {\r\n    return ('0123456789ABCDEFabcdef'.indexOf(x) > -1);\r\n}\r\n\r\n\r\n\r\nColor.prototype = {\r\n    toRgbString : function () {\r\n        return \"rgb(\" + this.red + \", \" + this.green + \", \" + this.blue + \")\";\r\n    },\r\n    toRgbaString : function (alpha) {\r\n        if(alpha === undefined) alpha = this.opacity;\r\n        return \"rgba(\" + this.red + \", \" + this.green + \", \" + this.blue + \", \" + alpha + \")\";\r\n    },\r\n    toHwbString : function () {\r\n        return \"hwb(\" + this.hue + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%)\";\r\n    },\r\n    toHwbStringDecimal : function () {\r\n        return \"hwb(\" + this.hue + \", \" + this.whiteness + \", \" + this.blackness + \")\";\r\n    },\r\n    toHwbaString : function () {\r\n        return \"hwba(\" + this.hue + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%, \" + this.opacity + \")\";\r\n    },\r\n    toHslString : function () {\r\n        return \"hsl(\" + this.hue + \", \" + Math.round(this.sat * 100) + \"%, \" + Math.round(this.lightness * 100) + \"%)\";\r\n    },\r\n    toHslStringDecimal : function () {\r\n        return \"hsl(\" + this.hue + \", \" + this.sat + \", \" + this.lightness + \")\";\r\n    },\r\n    toHslaString : function () {\r\n        return \"hsla(\" + this.hue + \", \" + Math.round(this.sat * 100) + \"%, \" + Math.round(this.lightness * 100) + \"%, \" + this.opacity + \")\";\r\n    },\r\n    toCmykString : function () {\r\n        return \"cmyk(\" + Math.round(this.cyan * 100) + \"%, \" + Math.round(this.magenta * 100) + \"%, \" + Math.round(this.yellow * 100) + \"%, \" + Math.round(this.black * 100) + \"%)\";\r\n    },\r\n    toCmykStringDecimal : function () {\r\n        return \"cmyk(\" + this.cyan + \", \" + this.magenta + \", \" + this.yellow + \", \" + this.black + \")\";\r\n    },\r\n    toNcolString : function () {\r\n        return this.ncol + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%\";\r\n    },\r\n    toNcolStringDecimal : function () {\r\n        return this.ncol + \", \" + this.whiteness + \", \" + this.blackness;\r\n    },\r\n    toNcolaString : function () {\r\n        return this.ncol + \", \" + Math.round(this.whiteness * 100) + \"%, \" + Math.round(this.blackness * 100) + \"%, \" + this.opacity;\r\n    },\r\n    toName : function () {\r\n        let r, g, b, colorhexs = getColorArr('hexs');\r\n        for (i = 0; i < colorhexs.length; i++) {\r\n            r = parseInt(colorhexs[i].substr(0,2), 16);\r\n            g = parseInt(colorhexs[i].substr(2,2), 16);\r\n            b = parseInt(colorhexs[i].substr(4,2), 16);\r\n            if (this.red === r && this.green === g && this.blue === b) {\r\n                return getColorArr('names')[i];\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    toHexString : function () {\r\n        let r = toHex(this.red);\r\n        let g = toHex(this.green);\r\n        let b = toHex(this.blue);\r\n        return \"#\" +  r + g + b;\r\n    },\r\n    toRgb : function () {\r\n        return {r : this.red, g : this.green, b : this.blue, a : this.opacity};\r\n    },\r\n    toHsl : function () {\r\n        return {h : this.hue, s : this.sat, l : this.lightness, a : this.opacity};\r\n    },\r\n    toHwb : function () {\r\n        return {h : this.hue, w : this.whiteness, b : this.blackness, a : this.opacity};\r\n    },\r\n    toCmyk : function () {\r\n        return {c : this.cyan, m : this.magenta, y : this.yellow, k : this.black, a : this.opacity};\r\n    },\r\n    toNcol : function () {\r\n        return {ncol : this.ncol, w : this.whiteness, b : this.blackness, a : this.opacity};\r\n    },\r\n    isDark : function (n) {\r\n        let m = (n || 128);\r\n        return (((this.red * 299 + this.green * 587 + this.blue * 114) / 1000) < m);\r\n    },\r\n    saturate : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.sat += x;\r\n        if (this.sat > 1) {this.sat = 1;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    desaturate : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.sat -= x;\r\n        if (this.sat < 0) {this.sat = 0;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    lighter : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.lightness += x;\r\n        if (this.lightness > 1) {this.lightness = 1;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    darker : function (n) {\r\n        let x, rgb, color;\r\n        x = (n / 100 || 0.1);\r\n        this.lightness -= x;\r\n        if (this.lightness < 0) {this.lightness = 0;}\r\n        rgb = hslToRgb(this.hue, this.sat, this.lightness);\r\n        color = colorObject(rgb, this.opacity, this.hue, this.sat);\r\n        this.attachValues(color);\r\n        return this;\r\n    },\r\n    attachValues : function(color) {\r\n        this.red = color.red;\r\n        this.green = color.green;\r\n        this.blue = color.blue;\r\n        this.hue = color.hue;\r\n        this.sat = color.sat;\r\n        this.lightness = color.lightness;\r\n        this.whiteness = color.whiteness;\r\n        this.blackness = color.blackness;\r\n        this.cyan = color.cyan;\r\n        this.magenta = color.magenta;\r\n        this.yellow = color.yellow;\r\n        this.black = color.black;\r\n        this.ncol = color.ncol;\r\n        this.opacity = color.opacity;\r\n        this.valid = color.valid;\r\n    }\r\n};\r\n\r\nfunction getColorArr(x) {\r\n    if (x === \"names\") {return ['AliceBlue','AntiqueWhite','Aqua','Aquamarine','Azure','Beige','Bisque','Black','BlanchedAlmond','Blue','BlueViolet','Brown','BurlyWood','CadetBlue','Chartreuse','Chocolate','Coral','CornflowerBlue','Cornsilk','Crimson','Cyan','DarkBlue','DarkCyan','DarkGoldenRod','DarkGray','DarkGrey','DarkGreen','DarkKhaki','DarkMagenta','DarkOliveGreen','DarkOrange','DarkOrchid','DarkRed','DarkSalmon','DarkSeaGreen','DarkSlateBlue','DarkSlateGray','DarkSlateGrey','DarkTurquoise','DarkViolet','DeepPink','DeepSkyBlue','DimGray','DimGrey','DodgerBlue','FireBrick','FloralWhite','ForestGreen','Fuchsia','Gainsboro','GhostWhite','Gold','GoldenRod','Gray','Grey','Green','GreenYellow','HoneyDew','HotPink','IndianRed','Indigo','Ivory','Khaki','Lavender','LavenderBlush','LawnGreen','LemonChiffon','LightBlue','LightCoral','LightCyan','LightGoldenRodYellow','LightGray','LightGrey','LightGreen','LightPink','LightSalmon','LightSeaGreen','LightSkyBlue','LightSlateGray','LightSlateGrey','LightSteelBlue','LightYellow','Lime','LimeGreen','Linen','Magenta','Maroon','MediumAquaMarine','MediumBlue','MediumOrchid','MediumPurple','MediumSeaGreen','MediumSlateBlue','MediumSpringGreen','MediumTurquoise','MediumVioletRed','MidnightBlue','MintCream','MistyRose','Moccasin','NavajoWhite','Navy','OldLace','Olive','OliveDrab','Orange','OrangeRed','Orchid','PaleGoldenRod','PaleGreen','PaleTurquoise','PaleVioletRed','PapayaWhip','PeachPuff','Peru','Pink','Plum','PowderBlue','Purple','RebeccaPurple','Red','RosyBrown','RoyalBlue','SaddleBrown','Salmon','SandyBrown','SeaGreen','SeaShell','Sienna','Silver','SkyBlue','SlateBlue','SlateGray','SlateGrey','Snow','SpringGreen','SteelBlue','Tan','Teal','Thistle','Tomato','Turquoise','Violet','Wheat','White','WhiteSmoke','Yellow','YellowGreen']; }\r\n    if (x === \"hexs\") {return ['f0f8ff','faebd7','00ffff','7fffd4','f0ffff','f5f5dc','ffe4c4','000000','ffebcd','0000ff','8a2be2','a52a2a','deb887','5f9ea0','7fff00','d2691e','ff7f50','6495ed','fff8dc','dc143c','00ffff','00008b','008b8b','b8860b','a9a9a9','a9a9a9','006400','bdb76b','8b008b','556b2f','ff8c00','9932cc','8b0000','e9967a','8fbc8f','483d8b','2f4f4f','2f4f4f','00ced1','9400d3','ff1493','00bfff','696969','696969','1e90ff','b22222','fffaf0','228b22','ff00ff','dcdcdc','f8f8ff','ffd700','daa520','808080','808080','008000','adff2f','f0fff0','ff69b4','cd5c5c','4b0082','fffff0','f0e68c','e6e6fa','fff0f5','7cfc00','fffacd','add8e6','f08080','e0ffff','fafad2','d3d3d3','d3d3d3','90ee90','ffb6c1','ffa07a','20b2aa','87cefa','778899','778899','b0c4de','ffffe0','00ff00','32cd32','faf0e6','ff00ff','800000','66cdaa','0000cd','ba55d3','9370db','3cb371','7b68ee','00fa9a','48d1cc','c71585','191970','f5fffa','ffe4e1','ffe4b5','ffdead','000080','fdf5e6','808000','6b8e23','ffa500','ff4500','da70d6','eee8aa','98fb98','afeeee','db7093','ffefd5','ffdab9','cd853f','ffc0cb','dda0dd','b0e0e6','800080','663399','ff0000','bc8f8f','4169e1','8b4513','fa8072','f4a460','2e8b57','fff5ee','a0522d','c0c0c0','87ceeb','6a5acd','708090','708090','fffafa','00ff7f','4682b4','d2b48c','008080','d8bfd8','ff6347','40e0d0','ee82ee','f5deb3','ffffff','f5f5f5','ffff00','9acd32']; }\r\n}\r\n\r\nfunction colorTrim(x) {\r\n    return x.replace(/^\\s+|\\s+$/g, '');\r\n}","/**\r\n *          Geometry\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n */\r\n\r\nexport function XY(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.x = x === undefined ? 0 : x;\r\n\tthis.y = y === undefined ? 0 : y;\r\n}\r\n\r\nXY.prototype.add = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tx = x.x;\r\n\t}\r\n\tthis.x += x;\r\n\tthis.y += y;\r\n\treturn this;\r\n};\r\n\r\nXY.prototype.subtract = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tx = x.x;\r\n\t}\r\n\tthis.x -= x;\r\n\tthis.y -= y;\r\n\treturn this;\r\n};\r\n\r\nXY.prototype.multiply = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}else if(y === undefined){\r\n\t\ty = x;\r\n\t}\r\n\tthis.x *= x;\r\n\tthis.y *= y;\r\n\treturn this;\r\n};\r\n\r\n\r\nXY.prototype.divide = function(x, y)\r\n{\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('y')){\r\n\t\t\ty = x.y;\r\n\t\t}\r\n\t\tif(x.hasOwnProperty('x')){\r\n\t\t\tx = x.x;\r\n\t\t}\r\n\t}else if(y === undefined){\r\n\t\ty = x;\r\n\t}\r\n\tthis.x /= x;\r\n\tthis.y /= y;\r\n\treturn this;\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * Simple point coordinates.\r\n * @param x\r\n * @param y\r\n * @constructor\r\n */\r\nexport function Point(x, y)\r\n{\r\n\tXY.call(this, x, y);\r\n}\r\n\r\nPoint.prototype = Object.create(XY.prototype);\r\nPoint.prototype.constructor = Point;\r\nPoint.prototype.inRect = function(r){\r\n\t\treturn this.x >= r.x && this.x <= r.x + r.w && this.y >= r.y && this.y <= r.y + r.h;\r\n};\r\n\r\n\r\n/**\r\n * Rectangle.\r\n * @param x\r\n * @param y\r\n * @param w\r\n * @param h\r\n * @constructor\r\n */\r\nexport function Rect(x, y, w, h){\r\n\tPoint.call(this, x, y);\r\n\tif(typeof x === 'object'){\r\n\t\tif(x.hasOwnProperty('w')) w = x.w;\r\n\t\tif(x.hasOwnProperty('h')) h = x.h;\r\n\t}\r\n\r\n\tthis.w = w === undefined ? 0 : w;\r\n\tthis.h = h === undefined ? 0 : h;\r\n}\r\nRect.prototype = Object.create(Point.prototype);\r\nRect.prototype.constructor = Rect;\r\nRect.prototype.multiply = function(rect)\r\n{\r\n\tthis.x *= rect.x;\r\n\tthis.y *= rect.y;\r\n\tthis.w *= rect.w;\r\n\tthis.h *= rect.h;\r\n\treturn this;\r\n};\r\n\r\n/**\r\n * Fits Rect inside another Rect.\r\n * @param rect {Rect}\r\n */\r\nRect.prototype.fit = function(rect)\r\n{\r\n    let k1 = this.w/this.h;\r\n    let k2 = rect.w/rect.h;\r\n\tif(k1 >= k2){\r\n\t\tthis.h *= rect.w/this.w;\r\n\t\tthis.w = rect.w;\r\n\t}else{\r\n\t\tthis.w *= rect.h/this.h;\r\n\t\tthis.h = rect.h;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nRect.prototype.copyValuesFrom = function(rect)\r\n{\r\n\tthis.x = rect.x;\r\n\tthis.y = rect.y;\r\n\tthis.w = rect.w;\r\n\tthis.h = rect.h;\r\n};\r\n\r\n\r\n/**\r\n * Vector.\r\n * @param x\r\n * @param y\r\n * @constructor\r\n */\r\nexport function Vector(x, y)\r\n{\r\n\tPoint.call(this, x, y);\r\n}\r\nVector.prototype = Object.create(Point.prototype);\r\nVector.prototype.constructor = Vector;\r\nVector.prototype.normalize = function()\r\n{\r\n\tlet len = Math.sqrt((this.x * this.x) + (this.y * this.y));\r\n\tthis.x = x/len;\r\n\tthis.y = y/len;\r\n\treturn this;\r\n};","import StyleGetter from './style-getter';\r\nimport addEventsMethods from '../../utils/events-methods';\r\nimport Color from '../../utils/color';\r\nimport {warn, log} from '../../utils/logging';\r\nimport Settings from '../../core/settings';\r\nimport {extendObject} from '../../utils/object-utils';\r\nimport cssGenerator from '../../core/css-generator';\r\n\r\n/**\r\n * Themes\r\n *\r\n * Theme is a special object that encapsulates styles and\r\n * provides simple API to get/set properties, switching theme with\r\n * on-the-fly interface updating.\r\n */\r\n\r\n\r\n/**\r\n * Object that contains all registered themes.\r\n * All registered themes will be stored as values where keys are themes names.\r\n * @type {{string: Theme}}\r\n */\r\nlet themes = {};\r\nlet currentTheme = null;\r\n\r\n\r\n/**\r\n * Function that used in the UI definition\r\n * to retrieve style on CSS generating.\r\n * Returns StyleGetter for the given property name.\r\n *\r\n * Example of usage:\r\n *\r\n * style : {\r\n *     wrap : {\r\n *         backgroundColor: Theme('colors.primary')\r\n *     }\r\n * }\r\n *\r\n * In example above the backgroundProperty gets an instance\r\n * of the StyleGetter that indicates that when styles for\r\n * this UI will be generated the value must be fetched from the\r\n * theme dynamically.\r\n *\r\n * @param name\r\n * @returns {StyleGetter}\r\n */\r\nexport default function themesManager(name)\r\n{\r\n    return new StyleGetter(name);\r\n}\r\n\r\n\r\n/**\r\n * Add events support for the exported function.\r\n */\r\naddEventsMethods(themesManager);\r\n\r\n\r\n/**\r\n * Registers new theme.\r\n * Exported method.\r\n * Returns true if registration was successful or false if\r\n * theme with this name already exists.\r\n *\r\n * Example:\r\n *\r\n * Theme.register('Default', {\r\n *     colors : {\r\n *         primary : '#ff0000',\r\n *         secondary : '#366977'\r\n *     },\r\n *     // And so on...\r\n * });\r\n *\r\n * @param name {string}\r\n * @param {object} params\r\n * @param {boolean} [updateIfExists]\r\n * @return {boolean}\r\n */\r\nthemesManager.register = function(name, params, updateIfExists) {\r\n    updateIfExists = updateIfExists !== false;\r\n    if(!themes.hasOwnProperty(name)){\r\n        themes[name] = new Theme(name, params);\r\n        themesManager.triggerEvent('register', name);\r\n        return true;\r\n    }\r\n\r\n    if (updateIfExists) {\r\n        themes[name].updateStyles(params);\r\n        if (Settings.logging) {\r\n            log('Theme \"' + name + '\" has been updated.');\r\n        }\r\n        return true;\r\n    }\r\n\r\n    warn('Theme with name \"' + name + '\" is already registered.');\r\n    return false;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Switches to the theme with given name.\r\n * After theme switching all styles will be refreshed.\r\n * @param name {string}\r\n * @returns {boolean}\r\n */\r\nthemesManager.switchTo = function(name)\r\n{\r\n    if(!themes.hasOwnProperty(name)){\r\n        warn('Theme can\\'t be switched because theme \"' + name + '\" is not registered.');\r\n        return false;\r\n    }\r\n    currentTheme = themes[name];\r\n\r\n    // Update styles.\r\n    let styles = document.getElementsByTagName('style');\r\n    for(let i = 0, len = styles.length; i < len; i++){\r\n        if(styles[i].hasOwnProperty('ui')){\r\n            let ui = styles[i].ui;\r\n            styles[i].innerHTML = cssGenerator.generateUIStyles(ui);\r\n        }\r\n    }\r\n\r\n    this.triggerEvent('switch');\r\n\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Returns a value for the given style.\r\n * The name can be set using dot-syntax for the nested items.\r\n * If requested property is absent - 'initial' will be returned.\r\n *\r\n * Example:\r\n * var color = Theme('buttons.danger.bgColor');\r\n *\r\n * @param {string} name\r\n * @return {string|number|null|Color}\r\n */\r\nthemesManager.getStyle = function(name)\r\n{\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return null;\r\n    }\r\n\r\n    // Get path and style name.\r\n    let path = name.split('.');\r\n    let style = path.pop();\r\n\r\n    // If no path specified - return theme's style.\r\n    if(path.length === 0){\r\n        return currentTheme.getStyle(style);\r\n    }\r\n\r\n    // Look for style in the nested components (themes).\r\n    let theme = currentTheme;\r\n\r\n    do{\r\n        let n = path.shift();\r\n        if(!theme.components.hasOwnProperty(n)){\r\n            if (Settings.devMode) {\r\n                warn('Style with name \"' + name + '\" is absent in the current theme \"' + currentTheme.name + '\".');\r\n            }\r\n            return null;\r\n        }\r\n        theme = theme.components[n];\r\n    }while(path.length > 0);\r\n\r\n    return theme.getStyle(style);\r\n};\r\n\r\n\r\n/**\r\n * Returns name of the currently selected theme.\r\n * Can returns null if theme is not selected yet.\r\n * @return {string|null}\r\n */\r\nthemesManager.getThemeName = function(){\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return null;\r\n    }\r\n    return currentTheme.name;\r\n};\r\n\r\n\r\n/**\r\n * Adds new theme section (nested theme).\r\n * Sections usage example: Theme('button.backgroundColor')\r\n */\r\nthemesManager.addSection = function(name, params)\r\n{\r\n    if(currentTheme === null){\r\n        warn('Theme is not selected');\r\n        return false;\r\n    }\r\n\r\n    if(currentTheme.components.hasOwnProperty(name)){\r\n        warn('Component \"' + name + '\" already exists in the theme \"' + currentTheme.name + '\".');\r\n        return false;\r\n    }\r\n\r\n    currentTheme.components[name] = new Theme(name, params);\r\n    return true;\r\n};\r\n\r\n\r\n\r\n/**\r\n * Theme constructor.\r\n * Not available outside the library.\r\n * @param name\r\n * @param params\r\n * @constructor\r\n */\r\nclass Theme\r\n{\r\n    constructor(name, params){\r\n        this.name = name;\r\n        this.styles = {};\r\n        this.components = {};\r\n\r\n        if(typeof params === 'object'){\r\n            for(let p in params){\r\n                if(params.hasOwnProperty(p)){\r\n                    if(typeof params[p] === 'object' && !(params[p] instanceof Color)){\r\n                        this.components[p] = new Theme(p, params[p]);\r\n                    }else{\r\n                        this.styles[p] = params[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getStyle(name) {\r\n        if(!this.styles.hasOwnProperty(name)){\r\n            warn('Style with name \"' + name + '\" is absent in the current theme \"' + themesManager.getThemeName() + '\".');\r\n            return null;\r\n        }\r\n        return this.styles[name];\r\n    }\r\n\r\n    updateStyles(newStyles) {\r\n\r\n        for(let p in newStyles){\r\n            if(newStyles.hasOwnProperty(p)){\r\n                if(typeof newStyles[p] === 'object' && !(newStyles[p] instanceof Color)){\r\n                    if (this.components.hasOwnProperty(p)) {\r\n                        this.components[p].updateStyles(newStyles[p]);\r\n                    } else {\r\n                        this.components[p] = new Theme(p, newStyles[p]);\r\n                    }\r\n                }else{\r\n                    this.styles[p] = newStyles[p];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","/**\r\n * Allows to library use CSRF token.\r\n * If CSRF token is set it will be sent via AJAX requests.\r\n */\r\n\r\nexport let csrfParam = 'csrf';\r\nexport let csrfToken = null;\r\n\r\n\r\n/**\r\n * Token can be set as single string or as an object.\r\n * In case if token set as string it will be assigned into the \r\n * [csrfToken] variable, that is private inside wrapping function (IIFE).\r\n * If token is presented as an object then the name of the first property \r\n * will be used as token parameter name and the value as the token.\r\n * Token parameter name is used on sending CSRF token to the server using \r\n * AJAX queries for example.\r\n */\r\nexport function setCsrfToken(token){\r\n\tif(csrfToken === null){\r\n\t\tif(typeof token === 'object'){\r\n\t\t\tcsrfParam = Object.keys(token)[0];\r\n\t\t\tcsrfToken = token[csrfParam];\r\n\t\t}else if(typeof token === 'string'){\r\n\t\t\tcsrfToken = token;\r\n\t\t}\r\n\t}\r\n}","/**\r\n * List of the registered refiners.\r\n * Each refiner accepts one argument - url (string)\r\n * and returns another url (string) after some manipulations (adding language for example).\r\n * All refiners will be called one by one passing the result of previous as argument to the next one.\r\n * @type {{}}\r\n */\r\nlet urlRefiners = {};\r\n\r\n/**\r\n * List of registered parsers.\r\n * Each parser accepts 2 arguments:\r\n * - url {string} Urt to be parsed.\r\n * - params {object} Object in which url parameters can be added.\r\n * @type {{}}\r\n */\r\nlet urlParsers = {};\r\n\r\n\r\n/**\r\n * IMPORTANT!!!\r\n * All methods of the Url will be removed to the Route.\r\n * Don't use global Url object any more.\r\n *\r\n * Url is a function that creates url depending on the given route.\r\n * In other words it refines given url by adding/changing some parts of it.\r\n * The manipulations with url will be done by the functions from 'urlRefiners' object.\r\n * It can be changed using URL.setRefiner(function(){...});\r\n * @param {string} route\r\n * @param {object} [params]\r\n * @return string\r\n * @private\r\n * @deprecated\r\n */\r\nexport default function Url(route, params){\r\n    for(let p in urlRefiners){\r\n        route = urlRefiners[p](route, params);\r\n    }\r\n    return route;\r\n};\r\n\r\n\r\n/**\r\n * Registers refiner with the given name.\r\n * @param name {string}\r\n * @param refiner {function}\r\n */\r\nUrl.setRefiner = function(name, refiner){\r\n    if(typeof refiner === 'function'){\r\n        urlRefiners[name] = refiner;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Registers parser with the given name.\r\n * @param name {string}\r\n * @param parser {function}\r\n */\r\nUrl.setParser = function(name, parser){\r\n    if(typeof parser === 'function'){\r\n        urlParsers[name] = parser;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Parses url into route and parameters.\r\n * @param {string} url\r\n * @returns {{route: *, params: *}}\r\n */\r\nUrl.parse = function(url)\r\n{\r\n    let matches = url.match(/\\?(&?[\\w\\d-_%]+=[\\w\\d-_%]*)+/gi);\r\n\r\n    let query = matches !== null && matches.length > 0 ? matches[0] : '';\r\n    url = url.replace(query, '').replace(window.location.origin, '');\r\n    if(query[0] === '?') query = query.slice(1);\r\n\r\n    let params = {};\r\n    let queryParameters = query.split('&');\r\n    for(let i = 0; i < queryParameters.length; i++){\r\n        let v = queryParameters[i].split('=');\r\n        if(v.length > 1){\r\n            params[v[0]] = v[1];\r\n        }\r\n    }\r\n\r\n    for(let p in urlParsers){\r\n        let res = urlParsers[p](url, params);\r\n        url = res.url;\r\n        params = res.params;\r\n    }\r\n    return {route : url, params : params};\r\n};\r\n\r\n","/**\r\n * Class URL represents single url.\r\n * Creates objects with next structure:\r\n * {\r\n *     url: '/some/path?name=someName',\r\n *     path: '/some/path',\r\n *     params: {name: 'someName'}\r\n * ]\r\n * @param url\r\n * @constructor\r\n */\r\nexport default function URL (url) {\r\n    if (typeof url === 'string') {\r\n        this.url = url;\r\n        this.params = {};\r\n\r\n        let arr = url.split('?');\r\n        this.path = arr[0];\r\n\r\n        if (arr.length > 1) {\r\n            let paramsArr = arr[1].split('&');\r\n            for (let i = 0; i < paramsArr.length; i++) {\r\n                let pArr = paramsArr[i].split('=');\r\n                this.params[pArr[0]] = pArr.length > 1 ? decodeURIComponent(pArr[1]) : '';\r\n            }\r\n        }\r\n\r\n    } else if (url instanceof URL) {\r\n        this.url = url.url;\r\n        this.path = url.path;\r\n        this.params = {};\r\n        for (let p in url.params) {\r\n            if (url.params.hasOwnProperty(p)) {\r\n                this.params[p] = url.params[p];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nURL.prototype.gatherParams = function (element) {\r\n    let el = $(element);\r\n    if (el.length === 0) return this;\r\n\r\n    let url = this;\r\n\r\n    // Handle inputs.\r\n    el.find('input').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    // Handle selects.\r\n    el.find('select').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    // Handle textareas.\r\n    el.find('textarea').each(function() {\r\n        let name = $(this).attr('name');\r\n        if (typeof name === 'string' && name.length > 0) {\r\n            url.params[name] = this.value;\r\n        }\r\n    });\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Composes URL to the url string.\r\n */\r\nURL.prototype.toString = function () {\r\n    let queryArr = [];\r\n    for (let p in this.params) {\r\n        if (this.params.hasOwnProperty(p)) {\r\n            queryArr.push(encodeURIComponent(p) + '=' + encodeURIComponent(this.params[p]));\r\n        }\r\n    }\r\n    return this.path + (queryArr.length === 0 ? '' : '?' + queryArr.join('&'));\r\n};\r\n\r\n\r\nURL.prototype.removeParams = function (params) {\r\n    for (let i = 0; i < arguments.length; i++) {\r\n        delete this.params[arguments[i]];\r\n    }\r\n};","import addEventsMethods from '../utils/events-methods';\r\nimport {warn} from '../utils/logging';\r\nimport Url from './url';\r\n\r\n/**\r\n * List of the available routes.\r\n * @type {{}}\r\n */\r\nlet routes = {};\r\n\r\n/**\r\n * Link to the current route.\r\n * @type {Route|null}\r\n */\r\nlet curRoute = null;\r\n\r\nlet curRouteParams = null;\r\n\r\n/**\r\n * Link to the previous route.\r\n * @type {Route|null}\r\n */\r\nlet prevRoute = null;\r\n\r\n\r\n\r\n\r\n/**\r\n * Returns route by name.\r\n *\r\n * Also provides few global events:\r\n *\r\n * @event apply\r\n * The handlers accept 2 arguments: 'params' (object) and 'event' (UIEvent)\r\n * If event is canceled - the applying will be terminated.\r\n * Occurred just before route will be applied.\r\n *\r\n * @event leave\r\n * The handlers accept 3 arguments:\r\n * 'oldRoute' (string), 'newRoute' (string) and 'event' (UIEvent)\r\n * Occurred just after route has been applied.\r\n *\r\n * @return {Route|null}\r\n */\r\nexport default function RouteManager(route){\r\n    route = route.replace('\\\\', '/');\r\n    let r = null;\r\n    if(!routes.hasOwnProperty(route)){\r\n        let arr = route.split('/'),\r\n            placeholders = [],\r\n            cutRoute,\r\n            i, p;\r\n\r\n        // Check routes with ? from the start.\r\n        for(i = 1; i <= arr.length - 1; i++){\r\n            placeholders.push('?');\r\n            p = placeholders.join('/');\r\n            cutRoute = arr.slice(i).join('/');\r\n            if(routes.hasOwnProperty(p + '/' + cutRoute)){\r\n                r = routes[p + '/' + cutRoute];\r\n                break;\r\n            }\r\n            if(routes.hasOwnProperty('??/' + cutRoute)){\r\n                r = routes['??/' + cutRoute];\r\n                break;\r\n            }\r\n        }\r\n\r\n        placeholders = [];\r\n        // Check routes with ? from the end.\r\n        for(i = arr.length - 1; i >= 1; i--){\r\n            placeholders.push('?');\r\n            p = placeholders.join('/');\r\n            cutRoute = arr.slice(i).join('/');\r\n            if(routes.hasOwnProperty(cutRoute + '/' + p)){\r\n                r = routes[cutRoute + '/' + p];\r\n                break;\r\n            }\r\n            if(routes.hasOwnProperty(cutRoute + '/??')){\r\n                r = routes[cutRoute + '/??'];\r\n                break;\r\n            }\r\n        }\r\n\r\n    }else{\r\n        r = routes[route];\r\n    }\r\n    return r;\r\n};\r\n\r\n// Add global routing events support.\r\naddEventsMethods(RouteManager);\r\n\r\n\r\n\r\n/**\r\n * Registers new route.\r\n * @param route\r\n * @returns {*}\r\n */\r\nRouteManager.register = function(route){\r\n    routes[route] = new Route(route);\r\n    return routes[route];\r\n};\r\n\r\n/**\r\n * Simply returns current route.\r\n * @returns {Route|null}\r\n */\r\nRouteManager.current = function(){\r\n    return curRoute.clone();\r\n};\r\n\r\n/**\r\n * Simply returns current route.\r\n * @returns {Route|null}\r\n */\r\nRouteManager.previous = function(){\r\n    return prevRoute;\r\n};\r\n\r\nRouteManager.currentParams = function () {\r\n    return curRouteParams;\r\n};\r\n\r\n\r\n/**\r\n * Applies route with given name if exists.\r\n * Route can contain variable and placeholders.\r\n *\r\n * Examples:\r\n *  ?/company              - Any route that contains two elements where first is any and second is \"company\".\r\n *  companies/company/{id} - {id} will be replaced with \"id\" parameter.\r\n *  ??/settings            - Any route but ending with \"settings\".\r\n *\r\n * Usage:\r\n *  Route.apply('?/article/{id}', {\r\n *       id: 5\r\n *  });\r\n *\r\n * @param url {string}\r\n * @param params {object}\r\n * @return {boolean}\r\n */\r\nRouteManager.apply = function(url, params)\r\n{\r\n    let urlData = Url.parse(url);\r\n    url = urlData.route;\r\n    let newParams = urlData.params;\r\n    for(let p in newParams){\r\n        if (newParams.hasOwnProperty(p)) {\r\n            params[p] = newParams[p];\r\n        }\r\n    }\r\n\r\n    // Process Url variables.\r\n    for(let p in params){\r\n        if( url.indexOf('{' + p + '}') >= 0){\r\n            url.replace('{' + p + '}', encodeURIComponent(params[p]));\r\n            delete params[p];\r\n        }\r\n    }\r\n\r\n    let route = RouteManager(url);\r\n    if(route !== null){\r\n        route.apply(params);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n\r\nRouteManager.applyChain = function(url)\r\n{\r\n    if (url.length > 0 && url[0] === '/') {\r\n        url = url.slice(1);\r\n    }\r\n    let urlData = Url.parse(url),\r\n        arr = urlData.route.split('/'),\r\n        params = urlData.params,\r\n        route;\r\n\r\n    for(let i = 0; i < arr.length; i++){\r\n        route = RouteManager(arr.slice(0, i+1).join('/'));\r\n        if(route === null){\r\n            warn('Routes chain broken: route \"' + arr.slice(0, i).join('/') + '\" is absent.');\r\n            return;\r\n        }else{\r\n            route.apply(params);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Route that provides events for implementing routing logic.\r\n * @param route\r\n * @constructor\r\n */\r\nfunction Route(route) {\r\n    this.route = route;\r\n    this.params = {};\r\n\r\n    this.__ = {\r\n        events: {},\r\n        dispatchers: {}\r\n    };\r\n}\r\n\r\nRoute.prototype = {\r\n    constructor : Route,\r\n\r\n    clone: function () {\r\n        let route = new Route(this.route);\r\n        route.params = this.params;\r\n        route.__ = this.__;\r\n        return route;\r\n    },\r\n\r\n    /**\r\n     * Applies route with given parameters.\r\n     * Returns true if 'apply' event was triggered on the route.\r\n     * If 'apply' event was canceled globally - false will be returned.\r\n     * @return {boolean}\r\n     */\r\n    apply : function(params){\r\n        if(params === undefined || params === null){\r\n            params = this.params;\r\n        }\r\n        this.params = params;\r\n\r\n        // Trigger 'apply' event.\r\n        let event = new Event('apply', {cancelable: true});\r\n\r\n        if(params === undefined) params = {};\r\n\r\n        // Trigger globally and if user calls preventDefault()\r\n        // method - stop execution.\r\n        RouteManager.triggerEvent('apply', this.route, params, event);\r\n        if(event.defaultPrevented) return false;\r\n\r\n        // Trigger apply event on the route.\r\n        this.triggerEvent('apply', params, event);\r\n        if(event.defaultPrevented) return false;\r\n\r\n\r\n\r\n        let curUrlData = Url.parse(window.location.pathname);\r\n        let curUrlArray = curUrlData.route.split('/');\r\n        if(curUrlArray.length > 1 && curUrlArray[0] === '') curUrlArray.shift();\r\n\r\n        let routeArray = this.route.split('/');\r\n        for(let i = 0; i < routeArray.length; i++){\r\n            if(curUrlArray.length > i){\r\n                if(routeArray[i] === '??'){\r\n                    routeArray[i] = curUrlArray.slice(0, i+1).join('/');\r\n                }else if(routeArray[i] === '?'){\r\n                    routeArray[i] = curUrlArray[i];\r\n                }\r\n            }\r\n        }\r\n\r\n        history.pushState(params, '', Url('/' + routeArray.join('/'), params).replace('//', ''));\r\n\r\n        // Store old route.\r\n        prevRoute = curRoute;\r\n\r\n        // Set new current route.\r\n        curRoute = this;\r\n        curRouteParams = params;\r\n\r\n        // Trigger globally and if user calls preventDefault()\r\n        // method - stop execution.\r\n        if(prevRoute instanceof Route){\r\n            // Trigger 'leave' event.\r\n            event = new Event('leave', {cancelable: true});\r\n\r\n            RouteManager.triggerEvent('leave', prevRoute.route, curRoute.route, event);\r\n            if(event.defaultPrevented) return true;\r\n\r\n            prevRoute.triggerEvent('leave', prevRoute.route, curRoute.route, event);\r\n        }\r\n        return true;\r\n    },\r\n\r\n    runParentRoute : function(params){\r\n        let arr = this.route.split('/');\r\n        if(arr.length < 2){\r\n            return false;\r\n        }\r\n        arr.pop();\r\n        let parentRoute = arr.join('/');\r\n        let route = RouteManager(parentRoute);\r\n\r\n        if(route !== null){\r\n            let event = new Event('apply', {cancelable: true});\r\n            route.triggerEvent('apply', params, event);\r\n            if (!event.defaultPrevented) {\r\n                route.apply();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    revert: function () {\r\n\r\n    }\r\n};\r\n\r\n// Add events support for the Route.\r\naddEventsMethods(Route.prototype);\r\n\r\n// Create default route.\r\ncurRoute = RouteManager.register('/');","import addEventsMethods from '../utils/events-methods';\r\nimport {warn} from '../utils/logging';\r\n\r\n/**\r\n * @var {string} Current application language.\r\n */\r\nlet language = 'en';\r\n\r\n\r\n/**\r\n * Sets interface language.\r\n * @param {string} lang\r\n */\r\nL10n.setLanguage = function(lang) {\r\n    switchLanguageTo(lang);\r\n};\r\n\r\n\r\nL10n.switchLanguageTo = L10n.setLanguage;\r\n\r\n/**\r\n * Returns interface language.\r\n * @return {string}\r\n */\r\nL10n.getLanguage = function() {\r\n    return language;\r\n};\r\n\r\n\r\n/**\r\n * Changes application language to the given one.\r\n * Switches only language.\r\n * @param lang\r\n */\r\nfunction switchLanguageTo(lang) {\r\n    language = lang;\r\n    if(translations.hasOwnProperty(lang)){\r\n        curTranslation = translations[lang];\r\n    }else{\r\n        curTranslation = translations.en;\r\n    }\r\n\r\n    // TODO langChange event was fired on the global UI object. Make sure that you not use this event or replace it.\r\n\r\n    // Trigger 'langChange' event on the global UI object.\r\n    // Any instance or element can listen for this event to update it's translations.\r\n    L10n.triggerEvent('langChange', lang);\r\n}\r\n\r\n/**\r\n * Private variable that encapsulates translations.\r\n * @type {object}\r\n */\r\nlet translations = {\r\n    en : {},\r\n    ru : {},\r\n    es : {},\r\n    de : {},\r\n    pt : {},\r\n    br : {},\r\n    it : {},\r\n    fr : {},\r\n    jp : {},\r\n    ko : {},\r\n    zh : {}\r\n};\r\n\r\n\r\n/**\r\n * Cache for translators.\r\n * @type {{CategoryTranslator}}\r\n */\r\nlet translators = {\r\n    en : {},\r\n    ru : {},\r\n    es : {},\r\n    de : {},\r\n    pt : {},\r\n    br : {},\r\n    it : {},\r\n    fr : {},\r\n    jp : {},\r\n    ko : {},\r\n    zh : {}\r\n};\r\n\r\n/**\r\n * Current translations.\r\n * @type {object}\r\n */\r\nlet curTranslation = translations.en;\r\n\r\n\r\n/**\r\n * Function-object-helper that encapsulates all localization functionality.\r\n * Also used for translation messages from any category without getting translator.\r\n * @param message\r\n * @param [category]\r\n * @param [params]\r\n * @returns {string}\r\n */\r\nexport default function L10n(message, category, params)\r\n{\r\n    return translate(curTranslation, message, category, params);\r\n}\r\n\r\n// Add events support for the localization object.\r\naddEventsMethods(L10n);\r\n\r\n\r\n/**\r\n * Returns translation of the given message.\r\n * @param {object} t\r\n * @param {string} message\r\n * @param {string} [category]\r\n * @param {object} [params]\r\n * @returns {string}\r\n */\r\nfunction translate(t, message, category, params)\r\n{\r\n    if(params === undefined && typeof category === 'object'){\r\n        params = category;\r\n    }\r\n\r\n    // Find translation.\r\n    if(t.hasOwnProperty(category) && t[category].hasOwnProperty(message)){\r\n        message = t[category][message];\r\n    }else{\r\n        // If translations absent - try to load it.\r\n        L10n.loadTranslations(category);\r\n    }\r\n\r\n    // Replace placeholders like {name} with their value.\r\n    for(let p in params){\r\n        if(params.hasOwnProperty(p)){\r\n            message = message.replace('{' + p + '}', params[p]);\r\n        }\r\n    }\r\n\r\n    return message;\r\n}\r\n\r\n/**\r\n * Saves loaded translations.\r\n * @param category\r\n * @param data\r\n */\r\nL10n.addTranslation = function(category, data)\r\n{\r\n    if( ! translations.hasOwnProperty(category) && typeof data === 'object'){\r\n        for(let lang in translations){\r\n            if(data.hasOwnProperty(lang)){\r\n                translations[lang][category] = data[lang];\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Function that will loads translations.\r\n * Can be replaced with user-defined one.\r\n * @type {function|null}\r\n */\r\nlet translationsLoader = defaultTranslationsLoader;\r\n\r\n/**\r\n * Path with localization files.\r\n * @type {string}\r\n */\r\nlet localizationsPath = '/localizations';\r\n\r\n/**\r\n * Sets path with localization files.\r\n * @param path {string}\r\n */\r\nL10n.setLocalizationsPath = function(path) {\r\n    localizationsPath = path;\r\n};\r\n\r\n/**\r\n * Returns path of the localizations that was specified by setLocalizationsPath() method.\r\n * @return {string}\r\n */\r\nL10n.getLocalizationsPath = function() {\r\n    return localizationsPath;\r\n};\r\n\r\n/**\r\n * Default localization loader.\r\n * @param category\r\n * @param callback\r\n */\r\nfunction defaultTranslationsLoader(category, callback) {\r\n    let ajax = new DataAjax({\r\n        url: (localizationsPath + '/' + category + '.json').replace('//', '/'),\r\n        method: 'GET'\r\n    });\r\n    ajax.fetch(function(data){\r\n        L10n.addTranslation(category, data);\r\n        L10n.triggerEvent('translations', category);\r\n        if(typeof callback === 'function'){\r\n            callback();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Object that holds information about currently loading translations.\r\n * @type {{}}\r\n */\r\nlet currentlyLoading = {};\r\n\r\n/**\r\n * Functions that will be called after corresponding translations will be loaded.\r\n * @type {{}}\r\n */\r\nlet translationsLoadingCallbacks = {};\r\n\r\n/**\r\n * Listen for category complete loading and run corresponding callbacks.\r\n * @see translationsLoadingCallbacks\r\n */\r\nL10n.on('categoryLoaded', function(t, cat) {\r\n    if(translationsLoadingCallbacks.hasOwnProperty(cat)){\r\n        let callbacks = translationsLoadingCallbacks[cat];\r\n        for(let i = 0; i < callbacks.length; i++){\r\n            if(typeof callbacks[i] === 'function') callbacks[i](t);\r\n        }\r\n    }\r\n    delete translationsLoadingCallbacks[cat];\r\n});\r\n\r\n/**\r\n * Loads translation of the given category using\r\n * registered translation loader.\r\n * @param category\r\n * @param [callback]\r\n * @returns {boolean}\r\n */\r\nL10n.loadTranslations = function(category, callback)\r\n{\r\n    // Remove leading slash.\r\n    category = category.replace('\\\\', '/');\r\n    if(category[0] === '/'){\r\n        category = category.slice(1);\r\n    }\r\n\r\n    // If category is loading at the moment - add callback to the handlers queue.\r\n    // Pay attention that we skip checking for callback existence because this situation\r\n    // probably will not be occurred.\r\n    if(currentlyLoading[category] === true){\r\n        if(!translationsLoadingCallbacks.hasOwnProperty(category)){\r\n            translationsLoadingCallbacks[category] = [];\r\n        }\r\n        if (typeof callback === 'function') {\r\n            translationsLoadingCallbacks[category].push(callback);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // If loader is not specified yet - return false and log warning.\r\n    if(translationsLoader === null){\r\n        warn('Translations loader is not specified.');\r\n        return false;\r\n    }\r\n\r\n    // If translations already loaded - return.\r\n    if (curTranslation.hasOwnProperty(category)) {\r\n        if(typeof callback === 'function'){\r\n            let t = L10n.getTranslations(category);\r\n            callback(t);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Mark that category is loading yet.\r\n    currentlyLoading[category] = true;\r\n\r\n    // Disable flag after 10 seconds to allow script to retry.\r\n    let to = setTimeout(function() {\r\n        delete currentlyLoading[category];\r\n    }, 10000);\r\n\r\n    // Runt translations loader.\r\n    translationsLoader(category, function(){\r\n        delete currentlyLoading[category];\r\n        clearTimeout(to);\r\n        let t = L10n.getTranslations(category);\r\n\r\n        if (translationsLoadingCallbacks.hasOwnProperty(category) && Array.isArray(translationsLoadingCallbacks[category])) {\r\n            for (let i = 0; i < translationsLoadingCallbacks[category].length; i++) {\r\n                translationsLoadingCallbacks[category][i](t);\r\n            }\r\n        }\r\n\r\n        L10n.triggerEvent('categoryLoaded', t, category);\r\n        if(typeof callback === 'function') {\r\n            callback(t);\r\n        }\r\n    });\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Registers translation loader if it was not registered yet.\r\n * @param {function} loader\r\n */\r\nL10n.registerTranslationsLoader = function(loader)\r\n{\r\n    if(typeof loader === 'function' && (translationsLoader === null || translationsLoader === defaultTranslationsLoader)){\r\n        translationsLoader = loader;\r\n    }\r\n};\r\n\r\n/**\r\n * Returns translator for the given category.\r\n *\r\n * Example of usage:\r\n *\r\n * var t = L10n.getTranslations('common');\r\n * button.innerText = t('Save');\r\n * alert.innerText = t('Do you really want to delete user {name}?', {name: 'John Doe'});\r\n *\r\n * @param category\r\n * @returns {CategoryTranslator}\r\n */\r\nL10n.getTranslations = function(category) {\r\n    if(translators[language].hasOwnProperty(category)){\r\n        return translators[language][category];\r\n    }\r\n    let t = curTranslation;\r\n\r\n    if(t.hasOwnProperty(category)){\r\n        t = t[category];\r\n    }\r\n\r\n    function CategoryTranslator(message, params)\r\n    {\r\n        if(t.hasOwnProperty(message)){\r\n            message = t[message];\r\n        }\r\n        // Replace placeholders like {name} with their value.\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                message = message.replace('{' + p + '}', params[p]);\r\n            }\r\n        }\r\n        return message;\r\n    }\r\n\r\n    if(t !== curTranslation){\r\n        translators[language][category] = CategoryTranslator;\r\n    }\r\n\r\n    return CategoryTranslator;\r\n};\r\n\r\n\r\n/**\r\n * Updates translations for all interface.\r\n */\r\nfunction updateTranslations()\r\n{\r\n    let items = document.querySelectorAll('*[localization]');\r\n    for(let i = 0; i < items.length; i++){\r\n        if(items[i].T !== undefined) {\r\n            let cat = items[i].getAttribute('localization');\r\n            let t = L10n.getTranslations(cat);\r\n            if(items[i].tagName === 'INPUT'){\r\n                items[i].setAttribute('placeholder', t(items[i].T));\r\n            }else{\r\n                items[i].innerText = t(items[i].T);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Updates translations for the interface with specific localization category.\r\n * @param category {string}\r\n */\r\nfunction updateTranslationsByCategory(category)\r\n{\r\n    let t = L10n.getTranslations(category);\r\n    let items = document.querySelectorAll('*[localization=\"' + category + '\"]');\r\n    for(let i = 0; i < items.length; i++){\r\n        if(items[i].T !== undefined) {\r\n            if(items[i].tagName === 'INPUT'){\r\n                items[i].setAttribute('placeholder', t(items[i].T));\r\n            }else{\r\n                items[i].innerText = t(items[i].T);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nL10n.on('langChange', updateTranslations);\r\nL10n.on('translations', updateTranslationsByCategory);","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n * Simple object helper that manages global events.\r\n * Usage:\r\n *\r\n *  // Add first listener.\r\n *  GlobalEvents.listen('ws:incomingMessage').onPort(500, message => {\r\n *      // Do something with message...\r\n *  });\r\n *\r\n *  // Add another event listener.\r\n *  GlobalEvents.listen('ws:incomingMessage -> 501', message => {\r\n *      // Do something with message...\r\n *  });\r\n *\r\n *  // Then trigger this event.\r\n *  GlobalEvents.triggerEvent('ws:incomingMessage', {\r\n *      author: 'Roman',\r\n *      text: 'Hello world!'\r\n *  });\r\n *\r\n *  GlobalEvents will be deleted in the next versions.\r\n *  Please use EventsChannel instead.\r\n *\r\n * @returns {string}\r\n * @deprecated\r\n * @see {EventsChannel}\r\n */\r\nexport default function GlobalEvents()\r\n{\r\n    return '1.0.0';\r\n}\r\n\r\n\r\naddEventsMethods(GlobalEvents);","import Data from '../core/data';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport {warn, error} from '../utils/logging';\r\nimport {csrfParam, csrfToken} from '../modules/CSRF';\r\n\r\nexport default class Ajax extends Data\r\n{\r\n    constructor(params) {\r\n        super(params);\r\n        this.useCsrf = params.hasOwnProperty('useCsrf') ? params.useCsrf : true;\r\n        this.url = params.hasOwnProperty('url') ? params.url : '';\r\n        this.method = params.method || 'POST';\r\n        this.collector = ajaxCollector;\r\n        this.headers = params.headers || {'X-Requested-With': 'XMLHttpRequest'};\r\n        this.hasError = false;\r\n    }\r\n\r\n    triggerErrorEvents(statusCode) {\r\n        this.hasError = true;\r\n        let event = new Event('error', {cancelable: true});\r\n        this.triggerEvent('error', statusCode, event);\r\n        Ajax.triggerEvent('error', this, statusCode, event);\r\n        return event;\r\n    }\r\n\r\n\r\n    triggerRedirectionEvents(statusCode, newUrl) {\r\n        let event = new Event('redirect', {cancelable: true});\r\n        this.triggerEvent('redirect', statusCode, newUrl, event);\r\n        Ajax.triggerEvent('redirect', this, statusCode, newUrl, event);\r\n        return event;\r\n    }\r\n}\r\n\r\n// Add events to the Ajax object globally.\r\naddEventsMethods(Ajax);\r\n\r\n\r\n/**\r\n * Object that stores permanent redirections (301 and 308 status codes).\r\n * @type {{}}\r\n */\r\nlet permanentRedirections = {};\r\n\r\n\r\n/**\r\n * Data collector that used in the Ajax.\r\n * The AJAX request will be used to fetch data.\r\n * UIData object to which this collector is attached must have\r\n * next properties:\r\n * - url (URL address of the resources)\r\n * - method (POST or GET)\r\n *\r\n * @param {function} callback\r\n * @see UIDataAjax\r\n */\r\nfunction ajaxCollector(callback) {\r\n    if (typeof this.url !== 'string') {\r\n        this.triggerEvent('error');\r\n        error('URL for the ajaxCollector is not a string (' + typeof this.url + ' given).');\r\n        return false;\r\n    }\r\n\r\n    // If requested resource was permanently moved - use redirection url instead.\r\n    let url = permanentRedirections.hasOwnProperty(this.url) ? permanentRedirections[this.url] : this.url;\r\n\r\n    // Store link for the Data object for using via closure.\r\n    let _uidata = this;\r\n\r\n    // Create request object.\r\n    let xhttp = new XMLHttpRequest();\r\n\r\n\r\n    // Track progress.\r\n    xhttp.onprogress = e => {\r\n        if (e.lengthComputable) {\r\n            this.triggerEvent('progress', Math.ceil(e.loaded / e.total * 100));\r\n        }\r\n    };\r\n\r\n    // Handle status.\r\n    xhttp.onreadystatechange = function (e) {\r\n        if (this.readyState !== 4) return;\r\n\r\n\r\n        if([302, 303, 307].indexOf(this.status) >= 0) {\r\n            let newUrl = this.getResponseHeader('Location');\r\n\r\n            /**\r\n             * Handle permanent redirections.\r\n             * @see [https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections#Permanent_redirections]\r\n             */\r\n            if (this.status === 301 || this.status === 308) {\r\n                // If invalid \"Location\" header given - fire error event.\r\n                if (newUrl === '' || newUrl === null) {\r\n                    error('Invalid redirection url for \"' + _uidata.url + '\" (empty \"Location\" header).');\r\n                    _uidata.triggerErrorEvents(this.status);\r\n                }\r\n            }\r\n\r\n\r\n            // Store redirection rule for the initial URL to make redirection automatically in the future.\r\n            permanentRedirections[_uidata.url] = newUrl;\r\n            let event = _uidata.triggerRedirectionEvents(this.status, newUrl);\r\n            if (event.defaultPrevented) {\r\n                e.preventDefault();\r\n            }\r\n\r\n\r\n        // Process success status.\r\n        }else if (this.status === 200) {\r\n\r\n            /** Make redirection if X-Redirect header is specified.\r\n             *\r\n             */\r\n            try{\r\n                let redirectionUrl = this.getResponseHeader('X-Redirect');\r\n\r\n                if (redirectionUrl !== null) {\r\n                    let event = _uidata.triggerRedirectionEvents(this.status, redirectionUrl);\r\n                    if (!event.defaultPrevented) {\r\n                        window.location.replace(redirectionUrl);\r\n                    }\r\n                }\r\n            }catch(e){\r\n                // warn('X-Redirect header is not allowed here.');\r\n            }\r\n\r\n\r\n            // Get data depending on content-type header.\r\n            let data;\r\n            let contentType = this.getResponseHeader(\"content-type\");\r\n            if (typeof contentType === 'string' && contentType.indexOf('json') >= 0) {\r\n                data = JSON.parse(this.responseText);\r\n            } else {\r\n                data = this.responseText;\r\n            }\r\n            _uidata.cache = _uidata.cacheLifetime === null || _uidata.cacheLifetime > 0 ? data : null;\r\n            _uidata.triggerEvent('dataReady', data);\r\n\r\n            _uidata.triggerEvent('complete', data);\r\n            DataAjax.triggerEvent('complete', _uidata);\r\n\r\n            _uidata.triggerEvent('progress', 100);\r\n            if (typeof callback === 'function') callback(data, _uidata);\r\n\r\n        // Otherwise trigger error events.\r\n        } else {\r\n            _uidata.hasError = true;\r\n            let event = new Event('error', {cancelable: true});\r\n            _uidata.triggerEvent('error', this.status, event);\r\n            Ajax.triggerEvent('error', _uidata, this.status, event);\r\n\r\n            event = new Event('complete', {cancelable: true});\r\n\r\n            _uidata.triggerEvent('complete', this.status, event);\r\n            Ajax.triggerEvent('complete', _uidata, this.status, event);\r\n        }\r\n\r\n        _uidata.lastFetchTime = Date.now();\r\n        _uidata.ready = true;\r\n    };\r\n\r\n    let data = [];\r\n    if( !(this._prameters instanceof FormData) ) {\r\n        for (let p in this._parameters) {\r\n            if (typeof this._parameters[p] === 'object') {\r\n                data.push(encodeURIComponent(p) + '=' + encodeURIComponent(JSON.stringify(this._parameters[p])));\r\n            } else {\r\n                data.push(encodeURIComponent(p) + '=' + encodeURIComponent(this._parameters[p]));\r\n            }\r\n        }\r\n    }\r\n\r\n    xhttp.open(this.method, url + (this.method === 'GET' && data.length > 0 ? (url.indexOf('?') < 0 ? '?' : '&')+data.join('&') : ''), true);\r\n\r\n    Ajax.triggerEvent('send', _uidata);\r\n    _uidata.triggerEvent('send');\r\n\r\n    // Set headers.\r\n    for(let h in _uidata.headers){\r\n        xhttp.setRequestHeader(h, _uidata.headers[h]);\r\n    }\r\n\r\n    // Add CSRF token to the header if it's set and method is POST.\r\n    if(_uidata.useCsrf && csrfToken !== null){\r\n        xhttp.setRequestHeader(csrfParam, csrfToken);\r\n    }\r\n\r\n    if (this.method.toUpperCase() === 'POST') {\r\n        if(this._parameters instanceof FormData){\r\n            // Add CSRF token to the request if it's set and method is POST.\r\n            if(_uidata.useCsrf && csrfToken !== null){\r\n                this._parameters.append(csrfParam, csrfToken);\r\n            }\r\n            xhttp.send(this._parameters);\r\n            return true;\r\n        }\r\n\r\n        xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n        // Add CSRF token.\r\n        if(_uidata.useCsrf && csrfToken !== null){\r\n            data.push(csrfParam + '=' + csrfToken);\r\n        }\r\n        xhttp.send(data.join('&'));\r\n    } else {\r\n        xhttp.send();\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n","import addEventsMethods from '../utils/events-methods';\r\nimport Data from '../core/data';\r\nimport {warn} from '../utils/logging';\r\n\r\n\r\n/**\r\n * WebSocket data provider.\r\n * Established connection and provides methods and events\r\n * to work with it.\r\n * Uses UIWebSocketCollector as data collector.\r\n * @param params\r\n * @constructor\r\n */\r\nexport class WSData extends Data\r\n{\r\n    constructor(params) {\r\n        super(params);\r\n        this.ws = params.ws;\r\n        this.collector = UIWebSocketCollector;\r\n    }\r\n}\r\n\r\n// Add events to the WSData object globally.\r\naddEventsMethods(WSData);\r\n\r\n\r\n\r\n/**\r\n * Create custom data collector for the WSData.\r\n @param {function} callback\r\n */\r\nfunction UIWebSocketCollector(callback)\r\n{\r\n    this.ws.send(this._parameters, data => {\r\n        callback.call(this, data);\r\n        this.triggerEvent('dataReady', this, data);\r\n    });\r\n}\r\n\r\n\r\n\r\n/**\r\n * Represents WebSocket connection.\r\n * @params {object} params\r\n */\r\nexport function WS(params)\r\n{\r\n    if(!window.WebSocket){\r\n        warn('WebSocket is not supported by this browser.');\r\n    }\r\n\r\n    let formats = [WS.FORMAT_JSON, WS.FORMAT_TOKENIZED_JSON, WS.FORMAT_RAW];\r\n\r\n    this.format = params.hasOwnProperty('format') && formats.indexOf(params.format) >= 0 ? params.format : WS.FORMAT_TOKENIZED_JSON;\r\n    this.url = params.url;\r\n    this.authRequestMessage = params.authRequestMessage ? params.authRequestMessage : null;\r\n    this.authSuccessMessage = params.authSuccessMessage ? params.authSuccessMessage : 'authorized';\r\n    this.authFailMessage = params.authFailMessage ? params.authFailMessage : 'authorization failed';\r\n    this.conn = null;\r\n    this.authorized = false;\r\n    this.reconnectionInterval = params.reconnectionInterval ? params.reconnectionInterval : 5000;\r\n    this.tokens = {};\r\n    this.__ = {\r\n        events : {},\r\n        dispatchers: {}\r\n    }\r\n}\r\n\r\nWS.FORMAT_JSON = 'json';\r\nWS.FORMAT_TOKENIZED_JSON = 'tokenized-json';\r\nWS.FORMAT_RAW = 'text';\r\n\r\n\r\nWS.prototype = {};\r\naddEventsMethods(WS.prototype);\r\n\r\n\r\n/**\r\n * Events:\r\n * - connect\r\n * - disconnect\r\n * - authStart\r\n * - authSuccess\r\n * - authFail\r\n * - message\r\n * - response\r\n * - send\r\n */\r\nWS.prototype.connect = function()\r\n{\r\n    if(this.conn !== null) return;\r\n    let conn = new WebSocket(this.url);\r\n    this.conn = conn;\r\n\r\n    let _this = this;\r\n    let ti;\r\n\r\n    // Handle connection establishing.\r\n    conn.onopen = function(){\r\n        if(_this.authRequestMessage !== null){\r\n            _this.conn.send(_this.authRequestMessage);\r\n        }\r\n        clearInterval(ti);\r\n        _this.triggerEvent('connect');\r\n    };\r\n\r\n    // Handle losing connection and try to reconnect.\r\n    conn.onclose = function() {\r\n        _this.authorized = false;\r\n        _this.conn = null;\r\n        _this.tokens = {};\r\n        ti = setTimeout(function(){\r\n            _this.connect();\r\n        }, _this.reconnectionInterval);\r\n        _this.triggerEvent('disconnect');\r\n    };\r\n\r\n    // Handle incoming messages.\r\n    conn.onmessage = function (e) {\r\n        // Handle authorization if it's enabled.\r\n        if(_this.authRequestMessage !== null) {\r\n            if (e.data === _this.authSuccessMessage) {\r\n                _this.authorized = true;\r\n                _this.triggerEvent('authSuccess');\r\n                return;\r\n            } else if (e.data === _this.authFailMessage) {\r\n                _this.authorized = false;\r\n                _this.triggerEvent('authFail');\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Trigger onmessage event if there is a raw message format is using.\r\n        if(_this.format === WS.FORMAT_RAW){\r\n            _this.triggerEvent('message', e.data);\r\n\r\n\r\n        }else if(_this.format === WS.FORMAT_JSON){\r\n            _this.triggerEvent('message', JSON.parse(e.data));\r\n\r\n        }else if(_this.format === WS.FORMAT_TOKENIZED_JSON) {\r\n            let data = JSON.parse(e.data);\r\n            if(!data.hasOwnProperty('Token')){\r\n                _this.triggerEvent('message', data);\r\n                return;\r\n            }\r\n\r\n            let token = data.Token;\r\n            delete data.Token;\r\n\r\n            // Ignore unregistered tokens.\r\n            if(!_this.tokens.hasOwnProperty(token)){\r\n                return;\r\n            }\r\n\r\n            if(data.hasOwnProperty('Data')){\r\n                data = data.Data;\r\n            }\r\n\r\n            _this.triggerEvent('message', data);\r\n            _this.triggerEvent('response', data);\r\n            _this.tokens[token](data);\r\n            delete _this.tokens[token];\r\n        }\r\n    };\r\n};\r\n\r\n\r\n\r\nWS.prototype.send = function(data, callback) {\r\n    if(this.conn === null) return;\r\n    let d = new Message(data);\r\n    this.tokens[d.token] = callback;\r\n    let dataWrapper = {data: d};\r\n    // Allow user to modify data sent.\r\n    this.triggerEvent('beforeSend', dataWrapper);\r\n    this.conn.send(JSON.stringify(dataWrapper.data));\r\n    this.triggerEvent('send', dataWrapper.data);\r\n};\r\n\r\n\r\n\r\nfunction randomId(length)\r\n{\r\n    let text = \"\";\r\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (let i=0; i < length; i++)\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n}\r\n\r\n\r\n\r\nexport function Message(data)\r\n{\r\n    this.token = randomId(12) + Date.now();\r\n    for(let p in data){\r\n        if(!data.hasOwnProperty(p)) continue;\r\n        this[p] = data[p];\r\n    }\r\n}","import addEventsMethods from '../utils/events-methods';\r\n\r\n/**\r\n *       Identity module\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n *\r\n * Identity is an object helper that stores information about user.\r\n * To set current user use [changeUser()] method:\r\n *\r\n * Identity.changeUser({\r\n *     firstName: 'John',\r\n *     secondName: 'Doe',\r\n *     email: 'john.doe@gmail.com',\r\n *     phone: '5165468548',\r\n *     photo: {\r\n *         small : '/url/to-the/small-photo.jpg',\r\n *         medium : '/url/to-the/medium-photo.jpg',\r\n *         large : '/url/to-the/large-photo.jpg'\r\n *     }\r\n * });\r\n *\r\n * To get user data use next syntax:\r\n * var name = Identity.getUser().getFullName();\r\n *\r\n * @constructor\r\n */\r\n\r\n\r\n/**\r\n * Currently authorized used.\r\n * @type {null|User}\r\n */\r\nlet currentUser = null;\r\n\r\n\r\n/**\r\n * Utility function|object helper.\r\n * Don't use this function to get current user because\r\n * behavior of this function may be changed in future.\r\n * Use Identity.getUser() instead.\r\n * @event changeUser - Occurred when current user changes.\r\n * @returns {null|User}\r\n */\r\nexport default function Identity()\r\n{\r\n    return currentUser;\r\n}\r\n/**\r\n * Add events support to the Identity object.\r\n */\r\naddEventsMethods(Identity);\r\n\r\n/**\r\n * Returns true if user is guest.\r\n * @returns {boolean}\r\n */\r\nIdentity.isGuest = function () {\r\n    return currentUser === null;\r\n};\r\n\r\n/**\r\n * Returns currently authorized user.\r\n * @returns {User|null}\r\n */\r\nIdentity.getUser = function () {\r\n    return currentUser;\r\n};\r\n\r\n/**\r\n * User constructor.\r\n * @param userData\r\n * @constructor\r\n */\r\nfunction User(userData)\r\n{\r\n    this.id = userData.id || null;\r\n    this.role = userData.role || null;\r\n    this.firstName = userData.firstName || '';\r\n    this.secondName = userData.secondName || '';\r\n    this.email = userData.email || '';\r\n    this.phone = userData.phone || '';\r\n    this.photo = new Photo(userData.photo || {});\r\n\r\n    this.sign = userData.sign || '';\r\n\r\n    this.position = userData.position || '';\r\n    this.companyId = userData.companyId || '';\r\n    this.companyName = userData.companyName || '';\r\n}\r\n\r\n/**\r\n * Photo of the user.\r\n * Can be represented in three variants.\r\n *\r\n * Example:\r\n * photo = new Photo({\r\n *     small : '/url/to-the/small-photo.jpg',\r\n *     medium : '/url/to-the/medium-photo.jpg',\r\n *     large : '/url/to-the/large-photo.jpg'\r\n * });\r\n *\r\n * @param photoData\r\n * @constructor\r\n */\r\nfunction Photo(photoData)\r\n{\r\n    this.small = photoData.small || '';\r\n    this.medium = photoData.medium || '';\r\n    this.large = photoData.large || '';\r\n}\r\n\r\n/**\r\n * Prototype of the User.\r\n * @type {{constructor: User, fullName: User.fullName}}\r\n */\r\nUser.prototype = {\r\n    constructor: User,\r\n\r\n    /**\r\n     * Returns full name of the user.\r\n     * @returns {string}\r\n     */\r\n    fullName : function () {\r\n        return this.firstName + ' ' + this.secondName;\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @param userData\r\n */\r\nIdentity.changeUser = function(userData)\r\n{\r\n    let newUser = new User(userData);\r\n    Identity.triggerEvent('changeUser', currentUser, newUser);\r\n    currentUser = newUser;\r\n};","import L10n from '../core/localization';\r\n\r\nexport default function Format(value){\r\n    return Format.date(value);\r\n}\r\n\r\n\r\n/**\r\n * Formats number as ordinal.\r\n * The value will be converted to integer.\r\n * @param {number} value\r\n * @returns {string}\r\n */\r\nFormat.ordinal = function (value) {\r\n    value = parseFloat(value);\r\n    let ends = ['th','st','nd','rd','th','th','th','th','th','th'];\r\n    if (((value % 100) >= 11) && ((value % 100) <= 13))\r\n        return value + 'th';\r\n    else\r\n        return value + ends[value % 10];\r\n};\r\n\r\n/**\r\n * @param {number} month\r\n * @param {string} [lang]\r\n * @return {string}\r\n */\r\nFormat.monthShortName = function(month, lang) {\r\n    if(lang === undefined) lang = L10n.getLanguage();\r\n    let names = {\r\n        en: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        ru: ['.', '.', '.', '.', '', '.', '.', '.', '.', '.', '.', '.'],\r\n    };\r\n    return names[lang][month];\r\n};\r\n\r\n/**\r\n * Formats given date in the given format.\r\n * @param {string|number} date\r\n * @param {string} [format]\r\n */\r\nFormat.date = function(date, format){\r\n    if(format === undefined) format = 'd m Y';\r\n    return formatDate(date, format);\r\n};\r\n\r\n\r\nfunction formatDate(date, format) {\r\n    if(date === null || date === '') return '';\r\n    if(date.indexOf(' ') < 0) date += ' 01:00:00';\r\n    let dt = new Date(date);\r\n\r\n    let Y = dt.getFullYear();\r\n    let m, d;\r\n    if(L10n.getLanguage() === 'ru'){\r\n        m = Format.monthShortName(dt.getMonth()).toLowerCase();\r\n        d = dt.getDate()\r\n    }else{\r\n        m = Format.monthShortName(dt.getMonth());\r\n        d = Format.ordinal(dt.getDate());\r\n    }\r\n    let result = '';\r\n    for(let i = 0; i < format.length; i++){\r\n        if(format[i] === 'Y'){\r\n            result += Y;\r\n        }else if(format[i] === 'm'){\r\n            result += m;\r\n        }else if(format[i] === 'd'){\r\n            result += d;\r\n        }else{\r\n            result += format[i];\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Formats given time in given format.\r\n * @param {string|number} time\r\n * @param {string} [format]\r\n * @returns {string}\r\n */\r\nFormat.time = function (time, format) {\r\n    return Format.date(time, format === undefined ? 'H:i' : format);\r\n};\r\n\r\n\r\n/**\r\n * Formats given amount as money.\r\n * @param amount\r\n * @param currency\r\n * @returns {*}\r\n */\r\nFormat.money = function (amount, currency) {\r\n    if(amount === null) return '';\r\n    return ((currency === 'EUR' ? '' : '$') + ' ' + parseFloat(amount)).replace(',', '.');\r\n};","import addEventsMethods from '../utils/events-methods';\r\nimport {error} from '../utils/logging';\r\n\r\n/**\r\n * Private object that holds registered events channels.\r\n * @type {Object}\r\n */\r\nlet channels = {};\r\n\r\n\r\n/**\r\n * Class that represents single events channel with name.\r\n * Usage:\r\n *\r\n * // Products channel creation.\r\n * let prodChannel = new EventsChannel('products');\r\n *\r\n * // Somewhere in the product form.\r\n * ajax.send(response => prodChannel.triggerEvent('update', response));\r\n *\r\n * // Somewhere in the products list.\r\n * prodChannel.on('update', data => list.updateProductInfo(data));\r\n */\r\nfunction EventsChannel (name) {\r\n    this.name = name;\r\n\r\n    this.__ = {\r\n        events: {},\r\n        dispatchers: {},\r\n        eventsTimeouts: {}\r\n    };\r\n}\r\n\r\n// Add events methods to the prototype to prevent code duplicating.\r\nEventsChannel.prototype = {};\r\naddEventsMethods(EventsChannel.prototype);\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Returns channel by name.\r\n * For example channel can be created in one place but must be accessed from another one.\r\n * If channel not exists the new one will be created.\r\n *\r\n * Usage:\r\n * let prodChannel = EventsChannel('products');\r\n *\r\n * @param name\r\n * @return {EventsChannel}\r\n */\r\nexport default function channelsManager (name) {\r\n\r\n    if (typeof name !== 'string' && Selection.logging) {\r\n        error('EventsChannel name must be a string but ' + typeof name + ' given.');\r\n        return null;\r\n    }\r\n\r\n    if (channels.hasOwnProperty(name)) {\r\n        return channels[name];\r\n    }\r\n    let channel = new EventsChannel(name);\r\n    channels[name] = channel;\r\n    return channel;\r\n}","/**\r\n *         Animation\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n *\r\n * Animation is an object that calculates state changing\r\n * during period of the time.\r\n *\r\n * To start animation simply call run() method using callback function\r\n * as argument.\r\n *\r\n * On each step coefficient from 0 to 1 will be calculated and\r\n * passed to the callback function.\r\n *\r\n * To stop animation stop() method should be called or [[stopped]] property\r\n * can be set to true.\r\n *\r\n * @class\r\n * @param {object} options\r\n */\r\nexport default class Animation {\r\n    constructor(options){\r\n        let duration = typeof options === 'number' ? options : 250;\r\n        if(typeof options !== 'object') {\r\n            options = {};\r\n        }\r\n        this.start = options.start || 0;\r\n        this.end = options.end || 1;\r\n        this.duration = options.duration || duration;\r\n        this.f = options.f || 'easeOutQuad';\r\n        this.callback = options.callback;\r\n        this.stopped = false;\r\n    }\r\n\r\n    /**\r\n     * Runs animation.\r\n     * @param {function} callback\r\n     */\r\n    run (callback) {\r\n        let t_start = performance.now();\r\n        let dur = this.duration;\r\n\r\n        let step = () => {\r\n            if (this.stopped) return;\r\n            let t = performance.now();\r\n            let n = t - t_start;\r\n            let state = n / this.duration;\r\n\r\n            let k = f[this.f](state, n, 0, 1, this.duration);\r\n\r\n            if (typeof callback === 'function') {\r\n                callback(k);\r\n            }\r\n\r\n            if (t < t_start + dur) {\r\n                requestAnimationFrame(step);\r\n            } else if (k !== 1) {\r\n                if (typeof callback === 'function') {\r\n                    callback(1, true);\r\n                }\r\n            }\r\n        };\r\n        step();\r\n    }\r\n\r\n    /**\r\n     * Stops the animation.\r\n     */\r\n    stop () {\r\n        this.stopped = true;\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Animation functions.\r\n */\r\nlet f = {\r\n    default: 'easeOutQuad',\r\n    swing: function (x, t, b, c, d) {\r\n        return f[f.default](x, t, b, c, d);\r\n    },\r\n    easeInQuad: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t + b;\r\n    },\r\n    easeOutQuad: function (x, t, b, c, d) {\r\n        return -c * (t /= d) * (t - 2) + b;\r\n    },\r\n    easeInOutQuad: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t + b;\r\n        return -c / 2 * ((--t) * (t - 2) - 1) + b;\r\n    },\r\n    easeInCubic: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t + b;\r\n    },\r\n    easeOutCubic: function (x, t, b, c, d) {\r\n        return c * ((t = t / d - 1) * t * t + 1) + b;\r\n    },\r\n    easeInOutCubic: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\r\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\r\n    },\r\n    easeInQuart: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t * t + b;\r\n    },\r\n    easeOutQuart: function (x, t, b, c, d) {\r\n        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\r\n    },\r\n    easeInOutQuart: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\r\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n    },\r\n    easeInQuint: function (x, t, b, c, d) {\r\n        return c * (t /= d) * t * t * t * t + b;\r\n    },\r\n    easeOutQuint: function (x, t, b, c, d) {\r\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n    },\r\n    easeInOutQuint: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\r\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\r\n    },\r\n    easeInSine: function (x, t, b, c, d) {\r\n        return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\r\n    },\r\n    easeOutSine: function (x, t, b, c, d) {\r\n        return c * Math.sin(t / d * (Math.PI / 2)) + b;\r\n    },\r\n    easeInOutSine: function (x, t, b, c, d) {\r\n        return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\r\n    },\r\n    easeInExpo: function (x, t, b, c, d) {\r\n        return (t === 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\r\n    },\r\n    easeOutExpo: function (x, t, b, c, d) {\r\n        return (t === d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\r\n    },\r\n    easeInOutExpo: function (x, t, b, c, d) {\r\n        if (t === 0) return b;\r\n        if (t === d) return b + c;\r\n        if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\r\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n    },\r\n    easeInCirc: function (x, t, b, c, d) {\r\n        return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\r\n    },\r\n    easeOutCirc: function (x, t, b, c, d) {\r\n        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\r\n    },\r\n    easeInOutCirc: function (x, t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\r\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\r\n    },\r\n    easeInElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d) === 1) return b + c;\r\n        if (!p) p = d * .3;\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\r\n    },\r\n    easeOutElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d) === 1) return b + c;\r\n        if (!p) p = d * .3;\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\r\n    },\r\n    easeInOutElastic: function (x, t, b, c, d) {\r\n        let s = 1.70158;\r\n        let p = 0;\r\n        let a = c;\r\n        if (t === 0) return b;\r\n        if ((t /= d / 2) === 2) return b + c;\r\n        if (!p) p = d * (.3 * 1.5);\r\n        if (a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else s = p / (2 * Math.PI) * Math.asin(c / a);\r\n        if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\r\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\r\n    },\r\n    easeInBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n    },\r\n    easeOutBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n    },\r\n    easeInOutBack: function (x, t, b, c, d, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\r\n        return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\r\n    },\r\n    easeInBounce: function (x, t, b, c, d) {\r\n        return c - f.easeOutBounce(x, d - t, 0, c, d) + b;\r\n    },\r\n    easeOutBounce: function (x, t, b, c, d) {\r\n        if ((t /= d) < (1 / 2.75)) {\r\n            return c * (7.5625 * t * t) + b;\r\n        } else if (t < (2 / 2.75)) {\r\n            return c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\r\n        } else if (t < (2.5 / 2.75)) {\r\n            return c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\r\n        } else {\r\n            return c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\r\n        }\r\n    },\r\n    easeInOutBounce: function (x, t, b, c, d) {\r\n        if (t < d / 2) return f.easeInBounce(x, t * 2, 0, c, d) * .5 + b;\r\n        return f.easeOutBounce(x, t * 2 - d, 0, c, d) * .5 + c * .5 + b;\r\n    }\r\n};","/**       Settings\r\n * ___________________________\r\n * ---------------------------\r\n *\r\n * Settings object stores options which are used by the framework like RegExp used for parsing, etc.\r\n * To change some settings it's necessary to use setters which are defined in this section.\r\n * If you're going to add some settings, please implement setters for it.\r\n * For handling errors - write your own exception.\r\n * Settings object is not available as property of exported object. It's private.\r\n *\r\n * Available settings:\r\n * regexp_... - RegExp used for parsing scheme rules. Setter - setParsingRule().\r\n * If you implements your own settings - add it below.\r\n */\r\n\r\n\r\nlet Settings = {\r\n    // Regular expressions.\r\n    regexp_id: /#\\w+[_\\-\\w]*/ig,\r\n    regexp_tagName: /@\\w+[_\\-\\w]*/ig,\r\n    regexp_class: /\\.\\w+[_\\-\\w\\s\\d]*/ig,\r\n    regexp_attribute: /\\[(\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\]/ig,\r\n    regexp_property: /\\((\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\)/ig,\r\n    regexp_params: /\\{(\\w+[_\\-\\w]*\\s*=\\s*[^;=]+[#\\(\\),/_\\-\\w\\d.\\s]*(\\s*;\\s*)?)+\\}/ig,\r\n    regexp_childUI: /\\|\\s*\\w*[_\\-\\w\\s/]+[_\\-\\w\\d\\s]*/ig,\r\n    regexp_include: /<<<\\s*\\w*[/_\\-\\w\\s]+[/_\\-\\w\\d\\s]*/ig,\r\n\r\n    // Flag if development mode is enabled.\r\n    // In this mode all interfaces will be checked so app can run a little bit slowly.\r\n    devMode: true,\r\n\r\n    // Flat that indicates whether logging is enabled.\r\n    logging: true\r\n};\r\n\r\nexport default Settings;\r\n\r\n/**\r\n * Setter of the rules parsing RegExp.\r\n * @param subjectOrRules (string)\r\n * @param regularExpression (RegExp | Object)\r\n * @throws InvalidParsingRuleException\r\n *\r\n * Example: UIBuilder.setParsingRule('include', /~\\w*[_-\\w\\s]+/ig);\r\n */\r\nSettings.setParsingRule = function (subjectOrRules, regularExpression) {\r\n    if (typeof subjectOrRules === 'string') {\r\n\r\n        if (!Settings.hasOwnProperty('regexp_' + subjectOrRules))\r\n            throw new SettingsException('Rule \"' + subjectOrRules + '\" is absent in the settings.');\r\n\r\n        if (a.constructor !== RegExp)\r\n            throw new SettingsException('Trying to assign '\r\n                + typeof regularExpression + ' as parsing regular expression for ' + subjectOrRules + '.'\r\n            );\r\n\r\n        Settings['regexp_' + subjectOrRules] = regularExpression;\r\n\r\n\r\n    } else if (typeof subjectOrRules === 'object') {\r\n\r\n        for (let p in subjectOrRules) {\r\n\r\n            if (Settings.hasOwnProperty('regexp_' + p)) {\r\n                if (a.constructor !== RegExp)\r\n                    throw new SettingsException('Trying to assign '\r\n                        + typeof regularExpression + ' as parsing regular expression for '\r\n                        + subjectOrRules + '.'\r\n                    );\r\n\r\n                if(subjectOrRules.hasOwnProperty(p)){\r\n                    Settings['regexp_' + p] = subjectOrRules[p];\r\n                }\r\n\r\n            } else {\r\n                throw new SettingsException('Rule \"' + p + '\" is absent in the settings.');\r\n            }\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Disables logging if false given.\r\n * @param {boolean} enable\r\n */\r\nSettings.enableLogging = function (enable) {\r\n    Settings.logging = enable !== false;\r\n};","// Registry that stores registered UIExtending.\r\n// Don't implement any other logic here cause this file is just a simple storage.\r\n\r\n/**\r\n * Private variable that holds registered UIs as properties where property name is an UI name.\r\n * @type {{UI}}\r\n * @private\r\n */\r\nlet _extendings = {};\r\n\r\n\r\nlet extendingsRegistry = {\r\n    /**\r\n     * Adds UI with the given name to the registry.\r\n     * @param {string} name\r\n     * @param {UIExtending} extending\r\n     */\r\n    add (name, extending) {\r\n        _extendings[name] = extending;\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns Extending by name if it's already registered.\r\n     * If Extending is not registered yet - null will be returned.\r\n     * @param name\r\n     * @returns {null}\r\n     */\r\n    get (name) {\r\n        return _extendings.hasOwnProperty(name) ? _extendings[name] : null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Deletes Extending with the given name.\r\n     * @param name\r\n     */\r\n    delete (name) {\r\n        delete _extendings[name];\r\n    }\r\n};\r\n\r\n\r\nexport default extendingsRegistry;\r\n","// Registry that stores registered UI.\r\n// This registry additionally resolves extendings.\r\n\r\nimport extendingsRegistry from './extendings-registry';\r\n\r\n/**\r\n * Private variable that holds registered UIs as properties where property name is an UI name.\r\n * @type {{UI}}\r\n * @private\r\n */\r\nlet _uis = {};\r\n\r\n\r\nlet uiRegistry = {\r\n    /**\r\n     * Adds UI with the given name to the registry.\r\n     * @param {string} name\r\n     * @param {UI} ui\r\n     */\r\n    add (name, ui) {\r\n        _uis[name] = ui;\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns UI by name if it's already registered.\r\n     * If UI is not registered yet - null will be returned.\r\n     * @param name\r\n     * @returns {UI|null}\r\n     */\r\n    get (name) {\r\n        let ui = _uis.hasOwnProperty(name) ? _uis[name] : null;\r\n        if(ui === null){\r\n            let extending = extendingsRegistry.get(name);\r\n            if(extending !== null){\r\n                _uis[name] = extending.extend();\r\n                extendingsRegistry.delete(name);\r\n                return _uis[name];\r\n            }\r\n            return null;\r\n        }\r\n        return ui;\r\n    },\r\n\r\n    /**\r\n     * Returns all uis.\r\n     * @return {{UI}}\r\n     */\r\n    getAll() {\r\n        return _uis;\r\n    },\r\n\r\n    remove(name) {\r\n        delete _uis[name];\r\n    }\r\n};\r\n\r\n\r\nexport default uiRegistry;\r\n","import uiRegistry from '../registries/ui-registry';\r\nimport Instance from './instance';\r\nimport interfaceManager from './interface';\r\nimport {extendObject, cloneSimpleObject} from '../utils/object-utils';\r\nimport {cloneSchemeLinear} from '../utils/ui-utils';\r\n\r\n\r\n/**\r\n * Class that represents UI extending.\r\n * It must be implemented as class because all UIs can be registered in any sequence.\r\n * So we will provide functionality to resolve extending when extending UI is needed by developer.\r\n */\r\nexport default class UIExtending\r\n{\r\n    /**\r\n     * Stores all necessary data that will be used later when extending will be resolved.\r\n     * @param extendingUI\r\n     * @param extendedUIName\r\n     * @param options\r\n     */\r\n    constructor (extendingUI, extendedUIName, options) {\r\n        this.extendingUI = extendingUI;\r\n        this.extendedUIName = extendedUIName;\r\n        this.options = options;\r\n    }\r\n\r\n\r\n    /**\r\n     * Completes UI extending and UI that makes extending.\r\n     * @returns {UI}\r\n     */\r\n    extend () {\r\n        let extendedUI = uiRegistry.get(this.extendedUIName);\r\n        if(extendedUI === null){\r\n            throw new UIRegistrationException('UI which be extended is not found.');\r\n        }\r\n\r\n        let extendingUI = this.extendingUI;\r\n        let options = this.options;\r\n\r\n        if(!options.hasOwnProperty('scheme')) options.scheme = {};\r\n        if(!options.hasOwnProperty('rules')) options.rules = {};\r\n        if(!options.hasOwnProperty('styles')) options.styles = {};\r\n        if(!options.hasOwnProperty('translations')) options.translations = {};\r\n        if(!options.hasOwnProperty('params')) options.params = {};\r\n\r\n        extendingUI.uiiConstructor = extendedUI.uiiConstructor;\r\n        extendingUI.elements       = {};\r\n        extendingUI.scheme         = extendObject(options.scheme, cloneSimpleObject(extendedUI.scheme));\r\n        extendingUI.rules          = extendObject(options.rules, cloneSimpleObject(extendedUI.rules));\r\n        extendingUI.translations   = extendObject(options.translations, cloneSimpleObject(extendedUI.translations));\r\n        extendingUI.css            = extendObject(options.styles, cloneSimpleObject(extendedUI.css));\r\n        extendingUI.params         = extendObject(options.params, cloneSimpleObject(extendedUI.params));\r\n        extendingUI.localization   = options.hasOwnProperty('localization') ? options.localization : extendedUI.localization;\r\n        extendingUI.cssLoaded      = false;\r\n\r\n        extendingUI.__.events      = cloneSimpleObject(extendedUI.__.events);\r\n        extendingUI.__.styleNode   = null;\r\n        extendingUI.__.data        = options.hasOwnProperty('data') ? options.data : null;\r\n        extendingUI.__.url         = null;\r\n\r\n        // Define instance constructor to implement methods.\r\n        extendingUI.uiiConstructor = !options.hasOwnProperty('methods') ? extendedUI.uiiConstructor : (function(){\r\n            function AnotherInstance(options){\r\n                Instance.call(this, options);\r\n            }\r\n            AnotherInstance.prototype = Object.create(extendedUI.uiiConstructor.prototype);\r\n            AnotherInstance.prototype.constructor = Instance;\r\n            for(let p in options.methods){\r\n                if(options.methods.hasOwnProperty(p) && typeof options.methods[p] === 'function' && !Instance.prototype.hasOwnProperty(p)){\r\n                    AnotherInstance.prototype[p] = options.methods[p];\r\n                }\r\n            }\r\n\r\n            extendingUI.__.implements = interfaceManager.detectInterfacesFor(options.methods);\r\n            return AnotherInstance;\r\n        })();\r\n\r\n        // Parameters to be used on rendering.\r\n        if(options.hasOwnProperty('parameters')){\r\n            extendingUI.__.params = extendObject(options.parameters, cloneSimpleObject(extendedUI.__.params));\r\n        }else if(options.hasOwnProperty('params')){\r\n            extendingUI.__.params = extendObject(options.params, cloneSimpleObject(extendedUI.__.params));\r\n        }\r\n\r\n        // Clone all elements from scheme to 'elements' property.\r\n        cloneSchemeLinear(extendingUI.scheme, extendingUI.elements);\r\n\r\n        // Override rules property for the elements if they are defined separately from the scheme.\r\n        for(let p in extendingUI.elements){\r\n            if(extendingUI.elements.hasOwnProperty(p) && extendingUI.rules.hasOwnProperty(p) && extendingUI.elements[p].rules === ''){\r\n                extendingUI.elements[p].rules = extendingUI.rules[p];\r\n            }\r\n        }\r\n\r\n        // Add necessary event listeners.\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && p.slice(0, 2) === 'on' && typeof options[p] === 'function') {\r\n                extendingUI.addEventListener(p.slice(2), options[p]);\r\n            }\r\n        }\r\n\r\n        return extendingUI;\r\n    }\r\n}\r\n\r\n","import {cloneSchemeLinear, buildScheme, filterUIParameterValue} from '../utils/ui-utils';\r\nimport {cloneSimpleObject} from '../utils/object-utils';\r\nimport {InvalidSchemeException} from '../utils/exceptions';\r\nimport addEventsMethods from '../utils/events-methods';\r\nimport {error} from '../utils/logging';\r\nimport Element from './element';\r\nimport Instance from './instance';\r\nimport cssGenerator from './css-generator';\r\nimport Extending from './extending';\r\nimport interfaceManager from './interface';\r\nimport uiRegistry from '../registries/ui-registry';\r\nimport extendingsRegistry from '../registries/extendings-registry';\r\n\r\n/**\r\n * @class\r\n * @method addEventListener(eventName, handler)\r\n * @method on(eventName, handler)\r\n * @method triggerEvent(eventName, options)\r\n */\r\nexport default class UI\r\n{\r\n    constructor (options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        this.namespace    = '';\r\n        this.elements     = {};\r\n        this.scheme       = options.hasOwnProperty('scheme') ? options.scheme : {};\r\n        this.rules        = options.hasOwnProperty('rules') ? options.rules : {};\r\n        this.prefix       = options.hasOwnProperty('prefix') ? options.prefix : '';\r\n        this.name         = options.hasOwnProperty('name') ? options.name : '';\r\n        this.css          = options.hasOwnProperty('css') ? options.css : null;\r\n\r\n        // Object that holds information about dependencies.\r\n        this.dependencies = {};\r\n\r\n        this.localization = options.hasOwnProperty('localization') ? options.localization : null;\r\n        this.translations = options.hasOwnProperty('translations') ? options.translations : {};\r\n\r\n        this.css          = options.css || options.styles || {};\r\n        this.cssLoaded    = false;\r\n\r\n        if (typeof this.scheme !== 'object'){\r\n            throw new InvalidSchemeException('Scheme must be an object. ' + typeof this.scheme + ' given.');\r\n        }\r\n\r\n        // Define service property that encapsulates hidden data.\r\n        this.__ = {};\r\n\r\n        // Add some properties for the events supporting.\r\n        this.__.dispatchers = {};\r\n        this.__.events    = {};\r\n        this.__.eventsTimeouts = {};\r\n\r\n        this.__.implements = [];\r\n\r\n        this.__.styleNode = null;\r\n        this.__.data      = options.hasOwnProperty('data') ? options.data : null;\r\n        this.__.url       = null;\r\n        this.__.params    = options.params || options.parameters || {};\r\n\r\n        if (options.hasOwnProperty('methods')) {\r\n\r\n            // Detect which interfaces this scheme implements.\r\n            this.__.implements = interfaceManager.detectInterfacesFor(options.methods);\r\n\r\n            // Add UI to the interfaces implementations.\r\n            for (let i = 0; i < this.__.implements.length; i++) {\r\n                interfaceManager.addImplementation(this.__.implements[i], this);\r\n            }\r\n\r\n            // Define instance constructor to implement methods.\r\n            this.uiiConstructor = (function(){\r\n                function AnotherInstance(options){\r\n                    Instance.call(this, options);\r\n                }\r\n                AnotherInstance.prototype = Object.create(Instance.prototype);\r\n                AnotherInstance.prototype.constructor = Instance;\r\n                for(let p in options.methods){\r\n                    if(options.methods.hasOwnProperty(p)){\r\n                        if(typeof options.methods[p] === 'function' && !Instance.prototype.hasOwnProperty(p)){\r\n                            AnotherInstance.prototype[p] = options.methods[p];\r\n                        }\r\n                    }\r\n                }\r\n                return AnotherInstance;\r\n            })();\r\n        }else{\r\n            this.uiiConstructor = Instance;\r\n        }\r\n\r\n\r\n        // Clone all elements from scheme to 'elements' object.\r\n        cloneSchemeLinear(this.scheme, this.elements);\r\n\r\n        if (options.hasOwnProperty('dependencies')) {\r\n            let deps = options.dependencies;\r\n            for (let p in deps) {\r\n                // Skip dependency if element with given key is absent in the scheme.\r\n                if (!this.elements.hasOwnProperty(p)) {\r\n                    continue;\r\n                }\r\n\r\n                if (Array.isArray(deps[p])) {\r\n                    this.dependencies[p] = deps[p];\r\n                }else if(typeof deps[p] === 'string') {\r\n                    let d = deps[p].split(',');\r\n                    for (let i = 0, len = d.length; i < len; i++) {\r\n                        d[i] = d[i].trim();\r\n                    }\r\n                    this.dependencies[p] = d;\r\n                }\r\n            }\r\n        }\r\n\r\n        for(let p in this.elements){\r\n            if(this.elements.hasOwnProperty(p) && this.rules.hasOwnProperty(p) && this.elements[p].rules === '') {\r\n                this.elements[p].rules = this.rules[p];\r\n            }\r\n        }\r\n\r\n        for (let p in options) {\r\n            if (options.hasOwnProperty(p) && p.slice(0, 2) === 'on' && typeof options[p] === 'function') {\r\n                this.addEventListener(p.slice(2), options[p]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all instances of this UI from the given container.\r\n     * @param container\r\n     * @return {UI}\r\n     */\r\n    removeFrom(container) {\r\n        if (typeof container === 'string') {\r\n            container = document.querySelector(container);\r\n        }\r\n        if (container instanceof Element) {\r\n            container = container.node();\r\n        }\r\n\r\n        let items = container.childNodes;\r\n\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].instance instanceof Instance && items[i].instance.UI() === this) {\r\n                let event = new Event('remove', {cancelable: true});\r\n                items[i].instance.triggerEvent('remove', event);\r\n                if (!event.defaultPrevented) {\r\n                    items[i].instance.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if UI implements interface with given name.\r\n     * @param interfaceName {string}\r\n     * @return {boolean}\r\n     */\r\n    isImplementationOf(interfaceName) {\r\n        return this.__.implements.indexOf(interfaceName) >= 0;\r\n    }\r\n\r\n    /**\r\n     * Returns root element of the UI scheme.\r\n     * @returns {Element}\r\n     */\r\n    getRootElement() {\r\n        let topLevel = Object.keys(this.scheme);\r\n        return topLevel.length === 1 ? this.elements[topLevel[0]] : null;\r\n    }\r\n\r\n    prepare(params) {\r\n\r\n        params = cloneSimpleObject(params);\r\n\r\n        // Create new UI instance.\r\n        let instance = new this.uiiConstructor();\r\n        instance.__.ui = this; // Set UI property.\r\n\r\n        // Lets allow users to modify options using \"prepare\" event.\r\n        let options = {\r\n            container : null,\r\n            atStart : false,\r\n            params : params,\r\n            localization : this.localization,\r\n            translations : Object.assign({}, this.translations)\r\n        };\r\n\r\n        this.triggerEvent('prepare', instance, options);\r\n\r\n        params = options.params;\r\n\r\n        // Set localization configuration for the whole instance.\r\n        // __.localization property is defines localization category.\r\n        // The category is a string that used to load localization data by packs.\r\n        // The loading logic MUST be implemented by the developer (see L10n module).\r\n        instance.__.localization = options.localization;\r\n        instance.__.translations = options.translations;\r\n\r\n        // Build scheme recursively but not define target.\r\n        try {\r\n            buildScheme(instance, this, this.scheme, null);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n\r\n        // Filter given parameters.\r\n        if (typeof params !== 'object') params = {};\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                params[p] = filterUIParameterValue(params[p]);\r\n            }\r\n        }\r\n\r\n        // Append default parameters that absent in the given by user.\r\n        for (let p in this.__.params) {\r\n            if (this.__.params.hasOwnProperty(p) && !params.hasOwnProperty(p)) {\r\n                params[p] = this.__.params[p];\r\n            }\r\n        }\r\n\r\n        instance.__.params = params;\r\n\r\n        // Trigger 'render' event.\r\n        let event = new Event('create', {cancelable: true});\r\n        this.triggerEvent('create', instance, params, event);\r\n\r\n        return instance;\r\n    };\r\n\r\n\r\n    /**\r\n     * Renders UI into the container.\r\n     *\r\n     * Example: UIBuilder('searchBar').renderTo('body');\r\n     *\r\n     * @param {node|string|Element} container - element in which Instance will be built\r\n     * @param {boolean} [atStart] - if true, builds UI into start of the list (default - false)\r\n     * @param {object} [params]\r\n     *\r\n     * @event beforeRender\r\n     * @event render\r\n     *\r\n     * @returns {Instance}\r\n     **/\r\n    renderTo (container, atStart, params) {\r\n\r\n        // Set parameters if atStart flag is missing.\r\n        // It allows to pass atStart argument.\r\n        // Examples:\r\n        //     UI('Spinner').renderTo('#container', {size: 2})\r\n        //     UI('Spinner').render({size: 2}) // Renders into the document.body. See [render()] method.\r\n        if (typeof atStart === 'object' && typeof params !== 'object') params = atStart;\r\n\r\n        // Create new UI instance that will be returned by this function.\r\n        let instance = this.prepare(params);\r\n\r\n        params = instance.__.params;\r\n\r\n        // Lets allow users to modify rendering options during 'beforeRender' event.\r\n        let options = {\r\n            container : container,\r\n            atStart : atStart,\r\n            params : instance.__.params,\r\n            localization : this.localization,\r\n            translations : Object.assign({}, this.translations)\r\n        };\r\n        this.triggerEvent('beforeRender', options);\r\n\r\n        // Apply changing.\r\n        container = options.container;\r\n        atStart = options.atStart;\r\n\r\n\r\n\r\n        // Set localization configuration for the whole instance.\r\n        // __.localization property is defines localization category.\r\n        // The category is a string that used to load localization data by packs.\r\n        // The loading logic MUST be implemented by the developer (see L10n module).\r\n        instance.__.localization = options.localization;\r\n        instance.__.translations = options.translations;\r\n\r\n\r\n        // If we render UI into the Element of another Instance - make necessary links.\r\n        let containerNode = container;\r\n        if (container instanceof Element) {\r\n            instance.__.parent = container;       // Set parent element for newly created instance.\r\n            container.__.children.push(instance); // Add instance to the children list of the container.\r\n            containerNode = container.node();\r\n        }else if (typeof container === 'string') {\r\n            containerNode = document.querySelector(container);\r\n        }\r\n\r\n        // Generate styles if CSS property specified and styles are not loaded yet.\r\n        if (!this.cssLoaded && this.css !== null) {\r\n            this.createStyles();\r\n        }\r\n\r\n        // Set flag if instance should be built at the start or at the end.\r\n        atStart = atStart === true;\r\n\r\n        // Append root instance nodes to the container.\r\n        let scheme = this.scheme;\r\n        for (let p in scheme) {\r\n            if (scheme.hasOwnProperty(p)) {\r\n                if (!atStart || containerNode.childNodes.length === 0) {\r\n                    containerNode.appendChild(instance[p].node());\r\n                }else {\r\n                    containerNode.insertBefore(instance[p].node(), containerNode.childNodes[0]);\r\n                }\r\n\r\n                if (container instanceof Element) {\r\n                    instance[p].__.parent = container;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Filter given parameters.\r\n        if (typeof params !== 'object') params = {};\r\n        for(let p in params){\r\n            if(params.hasOwnProperty(p)){\r\n                params[p] = filterUIParameterValue(params[p]);\r\n            }\r\n        }\r\n\r\n        // Append default parameters that absent in the given by user.\r\n        for (let p in this.__.params) {\r\n            if ( ! params.hasOwnProperty(p) && this.__.params.hasOwnProperty(p)){\r\n                params[p] = this.__.params[p];\r\n            }\r\n        }\r\n\r\n        // Trigger 'render' event.\r\n        this.triggerEvent('render', instance, params);\r\n\r\n        // Return instance of the UI.\r\n        return instance;\r\n    }\r\n\r\n\r\n    /**\r\n     * Renders UI to the <body>.\r\n     * @param params\r\n     */\r\n    render (params) {\r\n        return this.renderTo('body', params);\r\n    }\r\n\r\n\r\n    /**\r\n     * Generates CSS for the UI using [generageCSS()] method\r\n     * and appends it as new <style> tag.\r\n     */\r\n    createStyles () {\r\n        this.cssLoaded = true;\r\n        let css = cssGenerator.generateUIStyles(this);\r\n        if (css === '') return;\r\n        let head = document.getElementsByTagName('head')[0];\r\n        let styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-ui', this.name);\r\n        styleTag.ui = this;\r\n        styleTag.innerHTML = css;\r\n        head.appendChild(styleTag);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Adds event handler for the UI.\r\n *\r\n * There are few events available:\r\n * - beforeRender\r\n * - render\r\n * - destroy\r\n * - change\r\n */\r\naddEventsMethods(UI.prototype);\r\n\r\n\r\n\r\n/**\r\n * Extends another UI.\r\n * We must define this method directly in the prototype because it reserved.\r\n * @param name\r\n * @param options\r\n */\r\nUI.prototype.extends = function (name, options) {\r\n    let extending = new Extending(this, name, options);\r\n    uiRegistry.remove(this.name);\r\n    extendingsRegistry.add(this.name, extending);\r\n};\r\n","/**\r\n * Class that represents some style from the theme.\r\n * This class is used of tell UI that some style property will be change depending on the theme.\r\n * Also it provides style changing \"on the fly\" functionality.\r\n *\r\n * Usage example:\r\n *\r\n * styles: {\r\n *     wrap: {\r\n *         color: Theme('colors.primary').darker(10).default('#5887f4')\r\n *     }\r\n * }\r\n */\r\nexport default class StyleGetter\r\n{\r\n    constructor(name) {\r\n        this.name = name;\r\n        this._darker = 0;\r\n        this._lighter = 0;\r\n        this._alpha = undefined;\r\n        this._default = 'initial';\r\n    }\r\n\r\n    /**\r\n     * Returns value of the style.\r\n     * Also applies color changes.\r\n     * @return {string}\r\n     */\r\n    getValue() {\r\n        let value = Theme.getStyle(this.name);\r\n        if(value instanceof Color){\r\n            let c = new Color(value.toRgbaString());\r\n            if(this._darker > 0) c.darker(this._darker);\r\n            if(this._lighter > 0) c.lighter(this._lighter);\r\n            value = c.toRgbaString(this._alpha);\r\n        }\r\n        if(value === null){\r\n            return this._default;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Sets transparency of the color style.\r\n     * @param value {number} Transparency amount (from 0 to 1).\r\n     * @return {StyleGetter}\r\n     */\r\n    alpha(value) {\r\n        this._alpha = value;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Makes color style darker for the amount.\r\n     * @param amount {number} How darker color will become (from 0 to 100).\r\n     * @return {StyleGetter}\r\n     */\r\n    darker(amount) {\r\n        this._darker += amount;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Makes color style lighter for the amount.\r\n     * @param amount {number} How lighter color will become (from 0 to 100).\r\n     * @return {StyleGetter}\r\n     */\r\n    lighter(amount) {\r\n        this._lighter += amount;\r\n        return this;\r\n    }\r\n}\r\n\r\n/**\r\n * Sets default value of the style if it will be absent in the theme.\r\n * Always use this method to prevent errors or unwanted appearance on theme switching.\r\n * @param value {string}\r\n * @return {StyleGetter}\r\n */\r\nStyleGetter.prototype.default = function(value) {\r\n    this._default = value;\r\n    return this;\r\n};","import Data from '../core/data';\r\nimport addEventsMethods from '../utils/events-methods';\r\n\r\nlet isAdded = Symbol('isAdded');\r\n\r\n/**\r\n * Reactive storage of the entities.\r\n * Stores entities of the one type and provides events triggering\r\n * on any entity change.\r\n *\r\n * Example of usage:\r\n *\r\n * // Create user entity.\r\n * class User\r\n * {\r\n *    constructor(opts) {\r\n *        this.firstName = opts.firstName;\r\n *        this.secondName = opts.secondName;\r\n *        this.age = opts.age;\r\n *    }\r\n * }\r\n *\r\n * // Create storage of users.\r\n * let usersStorage = new Storage(User);\r\n *\r\n * // Create new user (entity of the storage).\r\n * let user = usersStorage.createEntity({firstName: 'John', secondName: 'Doe', age: 32});\r\n *\r\n * // Add user to the storage.\r\n * // From now any changes of the user will trigger 'change' event on the storage.\r\n * usersStorage.add(user);\r\n *\r\n * // Render some form to make changes of user.\r\n * UI('User form').render({model: user});\r\n */\r\n\r\nexport default class Storage extends Data\r\n{\r\n    constructor(entityClass, params) {\r\n        if (params === undefined) {\r\n            params = {};\r\n        }\r\n        super(params);\r\n\r\n        this.throttle = params.throttle || 0;\r\n        this.entityClass = entityClass;\r\n\r\n        // Adds events support to the entity class.\r\n        addEventsMethods(this.entityClass.prototype);\r\n\r\n        this.entities = [];\r\n    }\r\n\r\n    /**\r\n     * Adds entity to the storage.\r\n     * @param entity {Object}\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {boolean}\r\n     */\r\n    add(entity, triggerEvents) {\r\n        if (!(entity instanceof this.entityClass)) {\r\n            entity = this.createEntity(entity);\r\n        }\r\n        if (this.entities.indexOf(entity) < 0 && entity[isAdded] === false) {\r\n            entity[isAdded] = true;\r\n            this.entities.push(entity);\r\n\r\n            if (triggerEvents !== false) {\r\n                this.triggerEvent('add ~' + this.throttle, entity);\r\n                this.triggerEvent('change ~' + this.throttle, entity);\r\n            }\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Adds few entities and returns quantity of successfully added entities.\r\n     * @param entities {Array}\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {Number}\r\n     */\r\n    addMultiple(entities, triggerEvents) {\r\n        let k = 0;\r\n        for (let i = 0; i < entities.length; i++) {\r\n            if (this.add(entities[i], false)) k++;\r\n        }\r\n\r\n        if (triggerEvents !== false) {\r\n            this.triggerEvent('add ~' + this.throttle, null);\r\n            this.triggerEvent('change ~' + this.throttle, null);\r\n        }\r\n\r\n        return k;\r\n    }\r\n\r\n    /**\r\n     * Removes entity from the storage.\r\n     * @param entity\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {boolean}\r\n     */\r\n    remove(entity, triggerEvents) {\r\n        let index = this.entities.indexOf(entity);\r\n        if (index >= 0) {\r\n            entity[isAdded] = false;\r\n            this.entities.splice(index, 1);\r\n\r\n            if (triggerEvents !== false) {\r\n                this.triggerEvent('remove', entity);\r\n                this.triggerEvent('change ~' + this.throttle);\r\n            }\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Removes all entities from the storage.\r\n     * Before they will be removed the 'isAdded' property will be set to false.\r\n     * Also triggers 'change' event on the whole storage.\r\n     * @param [triggerEvents] {boolean}\r\n     * @return {Storage}\r\n     */\r\n    removeAll(triggerEvents) {\r\n        for (let i = 0; i < this.entities.length; i++) {\r\n            this.entities[i][isAdded] = false;\r\n        }\r\n        this.entities = [];\r\n\r\n        if (triggerEvents !== false) {\r\n            this.triggerEvent('change ~' + this.throttle);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns quantity of the added entities.\r\n     * @return {Number}\r\n     * @see length\r\n     */\r\n    count() {\r\n        return this.entities.length;\r\n    }\r\n\r\n    /**\r\n     * Returns quantity of the added entities.\r\n     * @return {Number}\r\n     * @see count\r\n     */\r\n    length() {\r\n        return this.entities.length;\r\n    }\r\n\r\n    /**\r\n     * Creates new entity.\r\n     * The new entity is not added to the storage.\r\n     */\r\n    createEntity(data) {\r\n        let entity = new this.entityClass(data);\r\n\r\n        let values = {};\r\n        let storage = this;\r\n\r\n        for (let p in entity) {\r\n            if (entity.hasOwnProperty(p) && p !== isAdded) {\r\n\r\n                values[p] = entity[p];\r\n                delete entity[p];\r\n\r\n                Object.defineProperty(entity, p, {\r\n                    enumerable: true,\r\n                    set: function(value){\r\n                        values[p] = value;\r\n                        if (!entity[isAdded]) return;\r\n                        storage.triggerEvent('change ~' + storage.throttle, entity);\r\n                    },\r\n                    get: function () {\r\n                        return values[p];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(entity, isAdded, {\r\n            enumerable: false,\r\n            set: function(value){\r\n                values[isAdded] = value === true;\r\n            },\r\n            get: function () {\r\n                return values[isAdded];\r\n            }\r\n        });\r\n\r\n        entity[isAdded] = false;\r\n\r\n        return entity;\r\n    }\r\n\r\n    /**\r\n     * Few syntax sugar.\r\n     * @param handler\r\n     */\r\n    set onChange(handler) {this.on('change', handler);}\r\n    set onAdd(handler) {this.on('add', handler);}\r\n    set onRemove(handler) {this.on('remove', handler);}\r\n}\r\n\r\n// Add events methods to the storage.\r\naddEventsMethods(Storage.prototype);\r\n\r\n\r\nStorage.isEntityAdded = function (entity) {\r\n    return entity[isAdded] === true;\r\n};\r\n\r\n","import Builder from './builder';\r\nimport Layout from './core/layout';\r\nimport Animation from './core/animation';\r\nimport Color from './utils/color';\r\nimport StyleGetter from './modules/theme/style-getter';\r\nimport {error, warn, log} from './utils/logging';\r\nimport {XY, Point, Vector, Rect} from './utils/geometry';\r\nimport themesManager from './modules/theme/theme';\r\nimport {setCsrfToken} from './modules/CSRF';\r\nimport Url from './modules/url';\r\nimport URL from './utils/url';\r\nimport RouteManager from './modules/router';\r\nimport L10n from './core/localization';\r\nimport Data from './core/data';\r\nimport GlobalEvents from './core/global-events';\r\nimport Ajax from './data-providers/ajax';\r\nimport {WSData, WS} from './data-providers/ws';\r\nimport Storage from './data-providers/storage';\r\nimport extensionManager from './core/extension';\r\nimport interfaceManager from './core/interface';\r\nimport Identity from './modules/identity';\r\nimport Format from './modules/format';\r\nimport EventsChannel from './core/events-channel';\r\nimport Settings from './core/settings';\r\n\r\nimport registerThrottleEventExtension from './built-in/extensions/throttle-event.ext';\r\nimport registerPopoverExtension from './built-in/extensions/popover.ext';\r\nimport registerNumberFilterExtension from './built-in/extensions/number-filter.ext';\r\nimport registerDragExtension from './built-in/extensions/drag.ext';\r\nimport registerSortableExtension from './built-in/extensions/sortable.ext';\r\nimport registerTabExtension from './built-in/extensions/tab.ext';\r\nimport registerDropdownExtension from './built-in/extensions/dropdown.ext';\r\nimport registerLoadMoreExtension from './built-in/extensions/load-more.ext';\r\nimport registerActiveTriggerExtension from './built-in/extensions/active-trigger.ext';\r\nimport registerFormControlsInterfaces from './built-in/interfaces/form-contorls.int';\r\nimport registerComponentsInterfaces from './built-in/interfaces/components.int';\r\nimport registerHelpersInterfaces from './built-in/interfaces/helpers.int';\r\nimport registerModalUI from './built-in/ui/overlay/modal.ui';\r\nimport registerTabsUI from './built-in/ui/tabs/tabs.ui';\r\nimport registerDefaultTheme from './built-in/themes/default.theme';\r\nimport registerDarkTheme from './built-in/themes/dark.theme';\r\nimport registerLightTheme from './built-in/themes/light.theme';\r\n\r\n\r\n// ===================== EXPORTED OBJECT =======================\r\n// Add properties to the global object.\r\n\r\n// Themes module.\r\nBuilder.error = error;\r\nBuilder.warn = warn;\r\nBuilder.log = log;\r\nBuilder.Theme = themesManager;\r\nBuilder.Extension = extensionManager;\r\nBuilder.L10n = L10n;\r\nBuilder.setLanguage = L10n.setLanguage;\r\nBuilder.getLanguage = L10n.getLanguage;\r\nBuilder.Identity = Identity;\r\nBuilder.Format = Format;\r\nBuilder.Interface = interfaceManager;\r\nBuilder.Data = Data;\r\nBuilder.Ajax = Ajax;\r\nBuilder.DataWS = WSData;\r\nBuilder.WSData = WSData;\r\nBuilder.WS = WS;\r\nBuilder.XY = XY;\r\nBuilder.Point = Point;\r\nBuilder.Vector = Vector;\r\nBuilder.Rect = Rect;\r\nBuilder.Storage = Storage;\r\nBuilder.setCsrfToken = setCsrfToken;\r\nBuilder.layout = Layout;\r\nBuilder.Url = Url;\r\nBuilder.Route = RouteManager;\r\nBuilder.GlobalEvents = GlobalEvents;\r\nBuilder.Animation = Animation;\r\nBuilder.EventsChannel = EventsChannel;\r\n\r\n\r\nBuilder.enableDevMode = function(enable) {\r\n    Settings.devMode = enable !== false;\r\n};\r\n\r\n\r\n\r\nBuilder.enableLogging = function(enable) {\r\n    Settings.logging = enable !== false;\r\n};\r\n\r\n// ===================== GLOBAL VARIABLES =======================\r\n// Also export global variables.\r\n// Feel free to edit this section as you want.\r\n// If you need to use something with another alias - make changes here.\r\n\r\n// Core.\r\nwindow.UI            = Builder;\r\nwindow.Extension     = extensionManager;\r\nwindow.L10n          = L10n;\r\nwindow.Layout        = Layout;\r\nwindow.Interface     = interfaceManager;\r\nwindow.Animation     = Animation;\r\nwindow.GlobalEvents  = GlobalEvents;\r\nwindow.EventsChannel = EventsChannel;\r\n\r\n// Misc\r\nwindow.Animation = Animation;\r\n\r\n// Data providers.\r\nwindow.Data      = Data;\r\nwindow.DataAjax  = Ajax;\r\nwindow.Ajax      = Ajax;\r\nwindow.DataWS    = WSData;\r\nwindow.WS        = WS;\r\nwindow.Storage   = Storage;\r\n\r\n// Themes support.\r\nwindow.Color       = Color;\r\nwindow.StyleGetter = StyleGetter;\r\nwindow.Theme       = themesManager;\r\n\r\n// Geometry helpers.\r\nwindow.Point     = Point;\r\nwindow.Rect      = Rect;\r\nwindow.Vector    = Vector;\r\n\r\n// Modules.\r\nwindow.Identity  = Identity;\r\nwindow.Format    = Format;\r\nwindow.Route     = RouteManager;\r\nwindow.Url       = Url;\r\nwindow.URL       = URL;\r\n\r\n// Store mouse position.\r\nwindow.UI.mouseX = 0;\r\nwindow.UI.mouseY = 0;\r\n\r\nwindow.UI.isTabletScreen = function() {\r\n    return window.innerWidth > 800 && window.innerWidth < 1024;\r\n};\r\n\r\nwindow.UI.isPhoneScreen = function() {\r\n    return window.innerWidth > 240 && window.innerWidth < 640;\r\n};\r\n\r\ndocument.addEventListener('mousemove', function(e) {\r\n    window.UI.mouseX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n    window.UI.mouseY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n});\r\n\r\n\r\n// ===================== BUILT-IN =======================\r\n// To add some built-in - add them below.\r\n\r\n// UI.\r\nregisterModalUI();\r\nregisterTabsUI();\r\n\r\n// Themes\r\nregisterDarkTheme();\r\nregisterDefaultTheme();\r\nregisterLightTheme();\r\n\r\n// Interfaces.\r\nregisterFormControlsInterfaces();\r\nregisterComponentsInterfaces();\r\nregisterHelpersInterfaces();\r\n\r\n// Extensions.\r\nregisterActiveTriggerExtension();\r\nregisterThrottleEventExtension();\r\nregisterPopoverExtension();\r\nregisterNumberFilterExtension();\r\nregisterDragExtension();\r\nregisterSortableExtension();\r\nregisterTabExtension();\r\nregisterLoadMoreExtension();\r\nregisterDropdownExtension();\r\n\r\n","export default function () {\r\n\r\n    /**\r\n     * Add some localization.\r\n     * Any localization can be replaced using L10n.updateTranslation() or L10n.addTranslation() method one more time.\r\n     */\r\n    L10n.addTranslation('modal', {\r\n        ru: {\r\n            'To top': '',\r\n            'To bottom': '',\r\n            'Loading...': '...'\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Simple modal UI.\r\n     * Styles can be set in the extending UI.\r\n     * Basic styles such as position and size will be set in this UI\r\n     * but can be changed by rendering modal with different parameters.\r\n     * To process custom parameters please redefine applyParams() or onRender() event handler.\r\n     */\r\n    UI.register({\r\n        name : 'Modal',\r\n\r\n        localization: 'modal',\r\n\r\n        translations: {\r\n            label: 'Loading...'\r\n        },\r\n\r\n        scheme : {\r\n            wrap : {\r\n                scrollingButtons : {\r\n                    scrollTopButton : '(text = a)',\r\n                    scrollBottomButton : '(text = b)'\r\n                },\r\n                overlay : {\r\n                    closeButton : '(html = )',\r\n                    progressBar: {\r\n                        label: '',\r\n                        track: {\r\n                            bar: ''\r\n                        }\r\n                    },\r\n                    skeleton: '',\r\n                    content : ''\r\n                }\r\n            }\r\n        },\r\n\r\n        params : {\r\n            width : '15rem',\r\n            height : '6rem',\r\n            scrollingButtons : true, // If true - scrolling buttons will be shown.\r\n            closeOnBlur : true,      // If true - modal will be closed when user clicks outside the modal.\r\n            closeButton : true,      // If true - closing button (cross icon in the top right corner) will be shown.\r\n            skeleton: ''             // Name of the UI that will be displayed during loading process.\r\n        },\r\n\r\n        methods : {\r\n            /**\r\n             * Applies parameters of the modal.\r\n             * May be redefined in the extending UI to implement custom parameters.\r\n             * @param p {Object}\r\n             * @return {Instance}\r\n             */\r\n            applyParams(p) {\r\n                this.overlay.css({\r\n                    width: p.width,\r\n                    minHeight: p.height\r\n                });\r\n                if(!p.closeButton){\r\n                    this.closeButton.hide();\r\n                }\r\n\r\n                if(!p.scrollingButtons){\r\n                    this.scrollingButtons.hide();\r\n                }else{\r\n                    this.content.on('load', function () {\r\n                        this.UII().updateScrollingButtons();\r\n                    });\r\n\r\n                    this.content.on('renderInside', () => {\r\n                        setTimeout(() => {\r\n                            this.updateScrollingButtons();\r\n                        }, 1000,)\r\n                    });\r\n                }\r\n\r\n                if(p.closeOnBlur === true){\r\n                    this.wrap.on('mousedown', (inst, event) => {\r\n                        modalVeilHandler._x = event.clientX;\r\n                        modalVeilHandler._y = event.clientY;\r\n                    });\r\n                    this.wrap.on('click', modalVeilHandler);\r\n                }\r\n\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Sets name of the skeleton UI.\r\n             * @param name {string}\r\n             */\r\n            setSkeleton(name) {\r\n                this.params().skeleton = name;\r\n            },\r\n\r\n            /**\r\n             * Renders skeleton UI and shows skeleton container.\r\n             * @return {Instance}\r\n             */\r\n            showSkeleton() {\r\n                let ui = UI(this.params().skeleton);\r\n                if (ui !== null && this.skeleton.children().length === 0) {\r\n                    ui.renderTo(this.skeleton);\r\n                }\r\n                this.skeleton.fadeIn(150, 'flex');\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Hides skeleton container.\r\n             * @return {Instance}\r\n             */\r\n            hideSkeleton() {\r\n                this.skeleton.fadeOut();\r\n                return this;\r\n            },\r\n\r\n            trackProgress(ajax) {\r\n                // Show progress bar and set initial value.\r\n                this.bar.css({width: '10%'});\r\n\r\n                this.progressBar.css({display: 'flex', opacity: 1});\r\n\r\n                // Set handler to update progress bar on.\r\n                ajax.on('progress', percents => {\r\n                    let w = percents / 100 * this.track.outerWidth();\r\n                    this.bar.animate({width: w + 'px'}, 100);\r\n                });\r\n\r\n                this.showSkeleton();\r\n\r\n                this.content.css({maxHeight: this.skeleton.outerHeight() + 'px'});\r\n\r\n                // Hide progress bar and show content when request will be completed.\r\n                ajax.on('complete', () => {\r\n                    this.bar.css({boxShadow: '0 0 15px ' + Theme('colors.secondary').alpha(0.25).getValue()});\r\n                    setTimeout(() => {\r\n                        this.progressBar.fadeOut(500);\r\n                        this.content.css({maxHeight: 'initial'});\r\n                        this.hideSkeleton();\r\n                        setTimeout(() => {\r\n                            this.progressBar.hide();\r\n                        }, 500);\r\n                    }, 250);\r\n                });\r\n\r\n                // Handle ajax errors to properly inform user about it.\r\n                ajax.on('error', (code, event) => {\r\n                    if(event.defaultPrevented){\r\n                        return;\r\n                    }\r\n                    event.preventDefault();\r\n                    this.content.removeChildren();\r\n                    if(code === 404) {\r\n                        UI('Not found message').renderTo(this.content);\r\n                    }else if(code === 403){\r\n                        UI('Forbidden message').renderTo(this.content);\r\n                    }else if(code === 500){\r\n                        UI('Server error message').renderTo(this.content);\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Hides overlay and removes it after animation ends.\r\n             * @return {Instance}\r\n             */\r\n            hide() {\r\n                this.overlay.css({\r\n                    transform: 'scale(1)'\r\n                });\r\n                this.wrap.css({\r\n                    transition: '0.15s'\r\n                });\r\n                setTimeout(() => {\r\n                    this.wrap.removeClass('shown');\r\n                    this.overlay.css({transform: 'scale(1.2)'});\r\n                    this.triggerEvent('hide');\r\n                    this.triggerEvent('close');\r\n                    setTimeout(() => {\r\n                        this.remove();\r\n                    }, 150);\r\n                }, 25);\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Synonym of hide() method.\r\n             * @return {Instance}\r\n             * @see hide()\r\n             */\r\n            close() {\r\n                this.hide();\r\n            },\r\n\r\n            /**\r\n             * Scrolls modal to the bottom.\r\n             * @return {Instance}\r\n             */\r\n            scrollBottom() {\r\n                let p = this.params(),\r\n                    inst = this,\r\n                    initial = this.wrap.scrollTop();\r\n                if(p.ani !== undefined) p.ani.stop();\r\n                p.ani = new Animation({duration: 1000});\r\n                p.ani.run(function (k) {\r\n                    inst.wrap.scrollTop( initial + (inst.wrap.scrollHeight() - inst.wrap.outerHeight() - initial) * k);\r\n                });\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Scrolls modal to the top.\r\n             * @return {Instance}\r\n             */\r\n            scrollTop() {\r\n                let p = this.params(),\r\n                    inst = this,\r\n                    initial = this.wrap.scrollTop();\r\n                if(p.ani !== undefined) p.ani.stop();\r\n                p.ani = new Animation({duration: 1000});\r\n\r\n                p.ani.run(function (k) {\r\n                    inst.wrap.scrollTop(initial + (0 - initial)*k);\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Updates buttons depending on the modal height.\r\n             * @return {Instance}\r\n             */\r\n            updateScrollingButtons() {\r\n                if(this.wrap.scrollHeight() <= this.wrap.outerHeight()){\r\n                    this.scrollingButtons.hide();\r\n                }else{\r\n                    this.scrollingButtons.show('flex');\r\n                }\r\n                return this;\r\n            }\r\n        },\r\n\r\n        onRender(inst, params) {\r\n            // Apply given parameters.\r\n            inst.applyParams(params);\r\n\r\n            // Keep transform origin in center according to the scroll position.\r\n            inst.wrap.addEventListener('scroll', function(inst){\r\n                let p = this.__.node.scrollTop / (this.__.node.scrollHeight - this.__.node.offsetHeight) * 100;\r\n                inst.overlay.css({transformOrigin : 'center ' + parseInt(p) + '%'});\r\n            });\r\n\r\n            // Reset transform to the initial value to prevent invalid\r\n            // positioning of the elements inside modal (fixed position works as absolute\r\n            // inside transformed container).\r\n            setTimeout(function(){\r\n                inst.wrap.addClass('shown');\r\n                setTimeout(function(){\r\n                    inst.overlay.css({transform: 'initial'});\r\n                }, 250);\r\n            }, 50);\r\n\r\n            inst.closeButton.on('click', modalCloseBtnHandler);\r\n            inst.scrollTopButton.on('click', inst => inst.scrollTop());\r\n            inst.scrollBottomButton.on('click', inst => inst.scrollBottom());\r\n        },\r\n\r\n        // Force to load data directly into the content element.\r\n        onLoad(inst, data, event) {\r\n            event.preventDefault();\r\n            inst.content.load(data);\r\n        },\r\n\r\n        // Some basic styles.\r\n        styles : {\r\n            '@media print': {\r\n                '.overlay': {\r\n                    boxShadow: 'none'\r\n                }\r\n            },\r\n\r\n            wrap : {\r\n                display : 'flex',\r\n                position : 'fixed',\r\n                flexDirection : 'column',\r\n                top : 0,\r\n                left : 0,\r\n                width : '100%',\r\n                height : '100%',\r\n                backgroundColor : 'transparent',\r\n                justifyContent : 'flex-start',\r\n                alignItems : 'center',\r\n                overflowY : 'scroll',\r\n                zIndex : 1000,\r\n                transition : '0.75s',\r\n\r\n                '::-webkit-scrollbar-track' : {\r\n                    'backgroundColor' : '#fff'\r\n                },\r\n\r\n                '::-webkit-scrollbar' : {\r\n                    width : '8px',\r\n                    'backgroundColor' : 'transparent'\r\n                },\r\n\r\n                '::-webkit-scrollbar-thumb' : {\r\n                    backgroundColor: Theme('colors.primary').default('#000')\r\n                },\r\n\r\n                '.shown' : {\r\n                    backgroundColor : 'rgba(0,0,0,0.25)'\r\n                },\r\n\r\n                '.shown > div' : {\r\n                    opacity : 1,\r\n                    transform : 'scale(1)'\r\n                },\r\n\r\n                scrollingButtons : {\r\n                    display: 'none',\r\n                    flexDirection: 'column',\r\n                    width: '50%',\r\n                    height: '100%',\r\n                    position: 'fixed',\r\n                    right: '9px',\r\n                    top: 0,\r\n\r\n                    ' > *' : {\r\n                        display: 'flex',\r\n                        width: '100%',\r\n                        height: '50%',\r\n                        justifyContent: 'flex-end',\r\n                        color: 'rgba(255,255,255,0.75)',\r\n                        padding: '0.5rem 1rem',\r\n                        fontSize: '1.8rem',\r\n                        fontWeight: 600,\r\n                        fontFamily: 'Icons, sans-serif',\r\n                        transition: '0.25s'\r\n                    },\r\n\r\n                    scrollTopButton : {\r\n                        cursor: 'default',\r\n                        alignItems: 'flex-end',\r\n                        backgroundImage: 'linear-gradient(-45deg, rgba(0, 0, 0, 0.15) 7%, rgba(0, 0, 0, 0.05) 7%, rgba(0, 0, 0, 0.05) 10%, transparent 10%)'\r\n                    },\r\n\r\n                    scrollBottomButton : {\r\n                        cursor: 'default',\r\n                        backgroundImage: 'linear-gradient(-135deg, rgba(0, 0, 0, 0.15) 7%, rgba(0, 0, 0, 0.05) 7%, rgba(0, 0, 0, 0.05) 10%, transparent 10%)'\r\n                    },\r\n\r\n                    ' > *:hover' : {\r\n                        backgroundColor: 'rgba(0,0,0,0.12)'\r\n                    }\r\n                },\r\n\r\n                overlay : {\r\n                    display : 'flex',\r\n                    flexDirection : 'column',\r\n                    minWidth : '10rem',\r\n                    maxWidth : 'calc(100% - 2rem)',\r\n                    minHeight : '6rem',\r\n                    backgroundColor : '#ffffff',\r\n                    borderRadius: Theme('overlay.borderRadius').default('0.15rem'),\r\n                    margin : '1rem 0',\r\n                    flexShrink : 0,\r\n                    flexGrow : 0,\r\n                    transform : 'scale(1.2)',\r\n                    opacity : 0,\r\n                    transition : '0.15s',\r\n                    boxShadow : '0 0 1rem rgba(0,0,0,0.25)',\r\n                    position : 'relative',\r\n                    transformOrigin : 'center top',\r\n                    overflow: 'hidden',\r\n\r\n                    progressBar: {\r\n                        display: 'none',\r\n                        flexDirection: 'column',\r\n                        justifyContent: 'flex-start',\r\n                        alignItems: 'center',\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        position: 'absolute',\r\n                        left: 0,\r\n                        top: 0,\r\n                        zIndex: 100000,\r\n\r\n                        label: {\r\n                            fontWeight: 300,\r\n                            marginBottom: '0.5rem',\r\n                            color: '#555',\r\n                            fontSize: '0.85rem',\r\n                            marginTop: '3rem',\r\n                            display: 'none'\r\n                        },\r\n\r\n                        track: {\r\n                            width: '100%',\r\n                            height: '0.25rem',\r\n                            backgroundColor: '#ddd',\r\n\r\n                            bar: {\r\n                                width: 0,\r\n                                height: '0.25rem',\r\n                                backgroundColor: Theme('colors.secondary'),\r\n                                transition: '0.15s'\r\n                            }\r\n                        }\r\n                    },\r\n\r\n                    '> .buttons' : {\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-end',\r\n                        padding: '0.6rem',\r\n                        backgroundColor: Theme('colors.lightestGray')\r\n                    },\r\n\r\n                    skeleton: {\r\n                        width: '100%',\r\n                        display: 'none',\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        backgroundColor: '#fff',\r\n                        minWidth: '20rem',\r\n                        zIndex: 99999\r\n                    },\r\n\r\n                    content : {\r\n                        display : 'flex',\r\n                        flexDirection : 'column',\r\n                        overflow : 'hidden',\r\n                        transition : '0.15s'\r\n                    },\r\n\r\n                    closeButton : {\r\n                        display : 'flex',\r\n                        justifyContent : 'center',\r\n                        alignItems : 'center',\r\n                        width : '2.5rem',\r\n                        lineHeight : '2.5rem',\r\n                        height : '2.5rem',\r\n                        position : 'absolute',\r\n                        top : 0,\r\n                        right : 0,\r\n                        cursor : 'default',\r\n                        zIndex: 5000,\r\n\r\n                        ':hover' : {\r\n                            backgroundColor : 'rgba(0,0,0,0.05)'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    function modalCloseBtnHandler(overlay) {\r\n        overlay.close();\r\n    }\r\n\r\n    function modalVeilHandler(overlay, e) {\r\n        if ( Math.abs(e.clientX - modalVeilHandler._x) > 50 || Math.abs(e.clientY - modalVeilHandler._y) > 50) {\r\n            return;\r\n        }\r\n        if(e.target !== overlay.wrap.__.node) return;\r\n        overlay.close();\r\n    }\r\n\r\n    modalVeilHandler._x = 0;\r\n    modalVeilHandler._y = 0;\r\n}\r\n","export default function () {\r\n\r\n    /**\r\n     * Simple tabs UI.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs',\r\n\r\n        scheme: {\r\n            wrap: {\r\n                labels: '|Tabs / Label',\r\n                contents: '|Tabs / Content'\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            /**\r\n             * Adds new tab with given label.\r\n             * @param label {string}\r\n             * @param [content] {Element}\r\n             * @return {Instance}\r\n             */\r\n            addTab(label, content) {\r\n                if (content === undefined) {\r\n                    content = this.contents.addOne().getRootElement();\r\n                }\r\n                let tab = this.labels.addOne({label: label});\r\n                tab.getRootElement().applyExtension('Tab', {\r\n                    label: label,\r\n                    content: content\r\n                });\r\n                this.activateTab(0);\r\n                return tab;\r\n            },\r\n\r\n            /**\r\n             * Removes tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            removeTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab === null) return this;\r\n                tab.getLabel().removeExtension('Tab');\r\n                if (tab.getLabel().hasClass('active')) {\r\n                    this.activateTab(0);\r\n                }\r\n                tab.remove();\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Hides tab with given label.\r\n             * If tab was active - activates first tab.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            hideTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                let nextTabIndex = 0;\r\n                if (this.getTabByIndex(0) === tab) {\r\n                    nextTabIndex = 1;\r\n                }\r\n                if (tab === null) return this;\r\n                if (tab.getLabel().hasClass('active')) {\r\n                    this.activateTab(nextTabIndex);\r\n                }\r\n                tab.getLabel().hide();\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Shows tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            showTab(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab === null) return this;\r\n                tab.getLabel.show('flex');\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Returns content element for the tab with given label.\r\n             * If tab with this label is absent - null will be returned.\r\n             * @param label {string}\r\n             * @return {Element|null}\r\n             */\r\n            getContentFor(label) {\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab !== null) {\r\n                    return tab.getContent();\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Hides all contents without any animation.\r\n             */\r\n            hideAllContents() {\r\n                let items = this.contents.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].getRootElement().hide();\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Removes active class from the all tabs labels.\r\n             */\r\n            deactivateAllLabels() {\r\n                let items = this.labels.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].getRootElement().removeClass('active');\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Returns tab with the given label.\r\n             * If tab with this label is absent - null will be returned.\r\n             * @param label {string}\r\n             * @return {Instance|null}\r\n             */\r\n            getTabByLabel(label) {\r\n                let tabs = this.labels.children();\r\n                for (let i = 0; i < tabs.length; i++) {\r\n                    if (tabs[i].params().label === label) {\r\n                        return tabs[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Returns tab with given index.\r\n             * @param index\r\n             * @return {null}\r\n             */\r\n            getTabByIndex(index) {\r\n                let tabs = this.labels.children();\r\n                for (let i = 0; i < tabs.length; i++) {\r\n                    if (i === index) {\r\n                        return tabs[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Returns tab with the given label/index.\r\n             * @param labelOrIndex {string|number}\r\n             * @return {Instance|null}\r\n             */\r\n            getTab(labelOrIndex) {\r\n                let tab = this.getTabByLabel(labelOrIndex);\r\n                if (tab === null) {\r\n                    tab = this.getTabByIndex(labelOrIndex);\r\n                }\r\n                return tab;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with given label.\r\n             * @param label {string}\r\n             * @return {Instance}\r\n             */\r\n            activateTabByLabel(label) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTabByLabel(label);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with given index.\r\n             * Indexing begins from zero.\r\n             * @param index {number}\r\n             * @return {Instance}\r\n             */\r\n            activateTabByIndex(index) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTabByIndex(index);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Activates tab with the given label or index without any animation.\r\n             * Indexing begins from zero.\r\n             * @param labelOrIndex {string|number}\r\n             * @return {Instance}\r\n             */\r\n            activateTab(labelOrIndex) {\r\n                this.hideAllContents();\r\n                this.deactivateAllLabels();\r\n                let tab = this.getTab(labelOrIndex);\r\n                if (tab !== null) {\r\n                    tab.getLabel().addClass('active');\r\n                    tab.getContent().addClass('active').show();\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * Removes all tabs with their contents.\r\n             * @return {Instance}\r\n             */\r\n            removeAllTabs() {\r\n                let items = this.contents.children();\r\n                for (let i = 0; i < items.length; i++) {\r\n                    items[i].remove();\r\n                }\r\n                return this;\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Label represents handle for the tab content.\r\n     * Contains two methods: getLabel() and getContent() that returns elements for label and content.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs / Label',\r\n\r\n        scheme: {\r\n            wrap: ''\r\n        },\r\n\r\n        params: {\r\n            label: ''\r\n        },\r\n\r\n        methods: {\r\n            /**\r\n             * Returns label element.\r\n             * @return {Element}\r\n             */\r\n            getLabel() {\r\n                return this.wrap;\r\n            },\r\n\r\n            /**\r\n             * Returns content element.\r\n             * @return {Element}\r\n             */\r\n            getContent() {\r\n                return this.wrap.extension('Tab').params.content;\r\n            }\r\n        },\r\n\r\n        onRender(inst, params) {\r\n            inst.wrap.text(params.label);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Label represents content of the tab.\r\n     * Styles may be set in the extending UI.\r\n     */\r\n    UI.register({\r\n        name: 'Tabs / Content',\r\n\r\n        scheme: {\r\n            wrap: ''\r\n        }\r\n    });\r\n\r\n}","export default function registerDarkTheme() {\r\n\r\n    Theme.register('Dark', {\r\n        colors: {\r\n\r\n        },\r\n        fonts: {\r\n\r\n        }\r\n    });\r\n\r\n}\r\n\r\n","export default function registerDefaultTheme() {\r\n\r\n    Theme.register('Default', {\r\n        colors: {\r\n\r\n        },\r\n        fonts: {\r\n\r\n        }\r\n    });\r\n\r\n}","export default function registerLightTheme() {\r\n\r\n    Theme.register('Light', {\r\n        colors: {},\r\n        fonts: {}\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    Interface.register('Form', [\r\n        'validate()',\r\n        'requireField(field)',\r\n        'submit()',\r\n        'reset()'\r\n    ]);\r\n\r\n    Interface.register('Input', [\r\n        'val(value)',\r\n        'disable()',\r\n        'enable()',\r\n        'focus()',\r\n        'blur()',\r\n        'name(value)',\r\n        'placeholder(value)',\r\n        'required(value)'\r\n    ]);\r\n\r\n    Interface.register('Button', [\r\n        'text(value)',\r\n        'disable()',\r\n        'enable()',\r\n        'focus()',\r\n        'blur()',\r\n        'onClick(handler)'\r\n    ]);\r\n\r\n    Interface.register('Labeled', [\r\n        'label(value)'\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    Interface.register('Spinner', [\r\n        'show()',\r\n        'hide()'\r\n    ]);\r\n\r\n    Interface.register('Calendar', [\r\n        'outputFormat(template)',\r\n        'valueFormat(template)',\r\n        'format(template)',\r\n        'year(value)',\r\n        'month(value)',\r\n        'day(value)',\r\n        'daysInMonth(monthIndex)'\r\n    ]);\r\n\r\n    Interface.register('Tabs', [\r\n        'localization(category)',\r\n        'addTab(label, target)',\r\n        'activeTab(label)',\r\n        'tabByLabel(label)',\r\n        'hideTab(label)',\r\n        'showTab(label)'\r\n    ]);\r\n\r\n    Interface.register('Overlay', [\r\n        'trackProgress(ajax)',\r\n        'setSkeleton(name)',\r\n        'showSkeleton()',\r\n        'hideSkeleton()',\r\n        'close()'\r\n    ]);\r\n\r\n    Interface.register('Alert', [\r\n        'info(title, message, image)',\r\n        'warn(title, message, image)',\r\n        'error(title, message, image)'\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    Interface.register('Identified', [\r\n        'getId()',\r\n        'setId(id)'\r\n    ]);\r\n\r\n    Interface.register('Translated', [\r\n        'translation(field, lang)'\r\n    ]);\r\n\r\n    Interface.register('Progressive', [\r\n        'getProgress()',\r\n        'onComplete(callback)'\r\n    ]);\r\n\r\n    Interface.register('Yes/No', [\r\n        'yes()',\r\n        'no()',\r\n        'onYes(callback)',\r\n        'onNo(callback)',\r\n        'onAnswer(callback)'\r\n    ]);\r\n\r\n    Interface.register('Draggable', [\r\n        'getHandle()',\r\n    ]);\r\n\r\n}","export default function () {\r\n\r\n    Extension.register('Active trigger', {\r\n        params: {\r\n            activeClass: 'active'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                activeClass = params.activeClass;\r\n\r\n            params.handler = function(inst, event){\r\n                let node = event.target,\r\n                    targetNode = target.node();\r\n\r\n                while(node.parentNode !== targetNode && node !== document.body && node !== null){\r\n                    node = node.parentNode;\r\n                }\r\n\r\n                if(node.parentNode === targetNode){\r\n                    let items = targetNode.childNodes;\r\n                    for(let i = 0; i < items.length; i++){\r\n                        items[i].classList.remove(activeClass);\r\n                    }\r\n                    node.classList.add(activeClass);\r\n                }\r\n            };\r\n\r\n            target.on('click', params.handler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', ext.params.handler);\r\n        }\r\n    });\r\n\r\n}\r\n\r\n","export default function() {\r\n\r\n    /**\r\n     * Throttles event handler with given delay.\r\n     * [this] variable and arguments will be saved for the callback.\r\n     *\r\n     * Example of usage:\r\n     *\r\n     * inst.input.applyExtension('Throttle event', {\r\n     *     event: 'input',\r\n     *     delay: 150,\r\n     *     handler: function() { ... }\r\n     * });\r\n     */\r\n    Extension.register('Throttle event', {\r\n        params: {\r\n            delay: 0,\r\n            event: 'input',\r\n            callback: null\r\n        },\r\n\r\n        onApply(ext) { // Define handler and add it as event listener.\r\n            let p = ext.params;\r\n            let to = null;\r\n            let handler = p.callback || p.handler;\r\n\r\n            function callback(_this, args) {\r\n                handler.apply(_this, args);\r\n            }\r\n\r\n            p.newCallback = function() {\r\n                clearTimeout(to);\r\n                to = setTimeout(callback, p.delay, this, arguments);\r\n            };\r\n\r\n            ext.target.on(p.event, p.newCallback);\r\n        },\r\n\r\n\r\n        onUpdate(ext, newParams) { // Remove old handler and add new one to apply new parameters.\r\n            let params = ext.params;\r\n            let to = null;\r\n\r\n            // Remove old handler.\r\n            ext.target.off(params.event, params.newCallback);\r\n\r\n            // Copy new parameters.\r\n            for (let p in newParams) {\r\n                if (newParams.hasOwnProperty(p) && params.hasOwnProperty(p)) {\r\n                    params[p] = newParams[p];\r\n                }\r\n            }\r\n\r\n            // Define new handler.\r\n            let handler = params.callback || params.handler;\r\n\r\n            function callback(_this, args) {\r\n                handler.apply(_this, args);\r\n            }\r\n\r\n            params.newCallback = function() {\r\n                clearTimeout(to);\r\n                to = setTimeout(callback, params.delay, this, arguments);\r\n            };\r\n\r\n            ext.target.on(params.event, params.newCallback);\r\n        },\r\n\r\n\r\n        onRemove(ext) { // Remove event handler on extension removing.\r\n            let p = ext.params;\r\n            ext.target.off(p.event, p.newCallback);\r\n        }\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    /**\r\n     * This extension accepts one element as target and another as popover\r\n     * and adds popover behavior for the last one.\r\n     * If popover is not given a new element will be created as the popover.\r\n     * To get automatically created element call [getPopover()] method.\r\n     * The popover will be displayed aside the target (first element).\r\n     *\r\n     * Options:\r\n     *\r\n     * // Apply extension.\r\n     * let ext = Extension('Popover').applyTo(target, {\r\n     *     side: 'top',\r\n     *     hideOnBlur: true,\r\n     *     fadingTime: 150,\r\n     *     popover: inst.popover\r\n     * });\r\n     *\r\n     * // Get popover element.\r\n     * let popover = ext.getPopover();\r\n     *\r\n     * // Getting popover when extension was already applied.\r\n     * let popoverElement = target.getExtension('Popover').getPopover();\r\n     */\r\n    Extension.register('Popover', {\r\n\r\n        params: {\r\n            side: 'top',\r\n            hideOnBlur: true,\r\n            fadingTime: 150,\r\n            popover: null\r\n        },\r\n\r\n        onApply(ext, target, params) {\r\n\r\n            // Check if popover is given. If not - create new popover.\r\n            if (params.popover === null) {\r\n                params.popover = document.createElement('div');\r\n                // TODO Implement popover creation.\r\n            }\r\n\r\n            // Add events handlers for the target.\r\n            // TODO Implement events handlers and make their attachments.\r\n        }\r\n\r\n    });\r\n\r\n}","export default function() {\r\n\r\n    /**\r\n     * Adds events handlers to the input element or instance to filter input value.\r\n     *\r\n     * Example:\r\n     * inst.price.applyExtension('Number filter', {precision: 2, negative: false});\r\n     */\r\n    Extension.register('Number filter', {\r\n        params: {\r\n            fractional: true,\r\n            negative: true,\r\n            precision: 4,\r\n            min: false,\r\n            max: false\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params;\r\n\r\n            if (!UI.isElement(target) && (UI.isInstance(target) && !target.isImplementationOf('Input'))) {\r\n                UI.error('Extension \"' + ext.name + '\": target doesn\\'t implement \"Input\" interface:', \"\\n\\n\", Interface('Input').toString(), \"\\n \");\r\n                return;\r\n            }\r\n\r\n            params.inputHandler = function() {\r\n                let val = this.val().trim().replace(',', '.').replace(/[^\\d.-]/gi, '');\r\n\r\n                if (val.length === 0) {\r\n                    this.val('');\r\n                    return;\r\n                }\r\n\r\n                let arr = val.split('.');\r\n\r\n\r\n                if (arr.length > 2) {\r\n                    arr = arr.slice(0, 2);\r\n                }\r\n\r\n                if (params.fractional && params.precision > 0) {\r\n                    if (arr.length > 1) {\r\n                        arr[1] = arr[1].slice(0, params.precision - 1);\r\n                    }\r\n                }else {\r\n                    arr = [arr[0]];\r\n                }\r\n\r\n                if (arr[0][0] === '.') {\r\n                    arr[0] = '0' + arr[0];\r\n                }\r\n\r\n                if (params.negative && arr[0][0] === '-') {\r\n                    arr[0] = '-' + arr[0].slice(1).replace(/[^\\d]/g, '');\r\n                }else{\r\n                    arr[0] = arr[0].replace('-', '');\r\n                }\r\n\r\n                if (arr[0] !== '-') {\r\n                    val = parseFloat(arr.join('.'));\r\n\r\n                    if (isNaN(val) || (params.min !== false && val < params.min)) {\r\n                        val = params.min;\r\n                    }\r\n\r\n                    if (params.max !== false && val > params.max) {\r\n                        val = params.max;\r\n                    }\r\n                } else {\r\n                    val = arr.join('.');\r\n                }\r\n\r\n\r\n                this.val(val);\r\n                this.focus();\r\n            };\r\n\r\n            params.changeHandler = function () {\r\n                let val = this.val().trim().replace(',', '.').replace(/[^\\d.-]/gi, '');\r\n                if (val[val.length - 1] === '.') {\r\n                    val = val.slice(0, -1);\r\n                    this.val(val);\r\n                }\r\n            };\r\n            target.on('input', params.inputHandler);\r\n            target.on('change', params.changeHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('input', ext.params.inputHandler);\r\n            ext.target.off('change', ext.params.changeHandler);\r\n        }\r\n    });\r\n\r\n}","export default function registerDragExtension()\r\n{\r\n    /**\r\n     * Drag extension.\r\n     *\r\n     * Allows to simply drag items within the parent container or globally.\r\n     * Example of usage:\r\n     *\r\n     * inst.knob.applyExtension('Drag', {x: true, y: false, withinParent: true});\r\n     */\r\n    Extension.register('Drag', {\r\n        params: {\r\n            x: true,\r\n            y: true,\r\n            withinParent: true,\r\n            useBoundaries: false,\r\n            handle: null\r\n        },\r\n\r\n        onApply(ext) {\r\n            // Note that target can be an instance or an element.\r\n            let target = ext.target,\r\n                params = ext.params;\r\n\r\n            // Element that will be moved.\r\n            params.targetElement = UI.isElement(target) ? target : target.getRootElement();\r\n\r\n            // Set handle if it's not given.\r\n            if (params.handle === null) {\r\n                let inst = target;\r\n                if (UI.isElement(target)) {\r\n                    inst = target.instance();\r\n                }\r\n\r\n                // Ensure that we've got an instance.\r\n                if (!UI.isInstance(inst)) {\r\n                    UI.error('Target for the \"Drag\" extension must be an instance or an element.');\r\n                    return;\r\n                }\r\n\r\n                // Draggable interface allows us to get handle for dragging.\r\n                if (inst.isImplementationOf('Draggable')) {\r\n                    params.handle = inst.getHandle();\r\n                } else {\r\n                    params.handle = params.targetElement;\r\n                }\r\n            }\r\n\r\n\r\n            params.handle.__.extensions['Drag'] = ext;\r\n\r\n            params.handle.on('mousedown', dragStartHandler);\r\n            params.handle.on('touchstart', dragStartHandler);\r\n        },\r\n\r\n        onUpdate(ext, newParams) {\r\n            let params = ext.params;\r\n            for (let p in newParams) {\r\n                if (newParams.hasOwnProperty(p) && params.hasOwnProperty(p)) {\r\n                    params[p] = newParams[p];\r\n                }\r\n            }\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('mousedown', dragStartHandler);\r\n            ext.target.off('touchstart', dragStartHandler);\r\n        },\r\n\r\n        getDragged() {\r\n            return dragged;\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Private variables that store intermediate values.\r\n     */\r\n    let dragged = null,\r\n        draggedExt = null,\r\n        initialX = 0,\r\n        initialY = 0,\r\n        initialTop = 0,\r\n        initialLeft = 0,\r\n        initialParentTop = 0,\r\n        initialParentLeft = 0,\r\n\r\n        x = true,\r\n        y = true,\r\n        withinParent = true,\r\n        useBoundaries = false;\r\n\r\n    /**\r\n     * Event handler.\r\n     * Function that will be used as event handler when draggable behavior\r\n     * is applied to the element.\r\n     * @this {Element}\r\n     * @param inst {Instance}\r\n     * @param e {MouseEvent}\r\n     */\r\n    function dragStartHandler(inst, e) {\r\n        e.preventDefault();\r\n\r\n        let ext = this.extension('Drag');\r\n        if (ext === null) ext = this.instance().extension('Drag');\r\n        if (ext === null) return;\r\n\r\n\r\n        let target = ext.target,\r\n            targetElement = ext.params.targetElement;\r\n\r\n        let event = new Event('dragStart', {cancelable: true});\r\n        target.triggerEvent('dragStart', inst, event);\r\n\r\n        if (target !== this) {\r\n            this.triggerEvent('dragStart', inst, event);\r\n        }\r\n\r\n        // Don't do anything if user interrupts dragging.\r\n        if(event.defaultPrevented) return;\r\n\r\n        // Copy properties from the extension parameters to the static variables.\r\n        x = ext.params.x;\r\n        y = ext.params.y;\r\n        withinParent = ext.params.withinParent;\r\n        useBoundaries = ext.params.useBoundaries;\r\n\r\n        // Apply relative position to the parent container it position is not set.\r\n        let pos = targetElement.node().parentNode.style.position;\r\n        if(withinParent && (pos === 'static' || pos === '')) {\r\n            targetElement.node().parentNode.style.position = 'relative';\r\n        }\r\n\r\n        // Store initial mouse position.\r\n        initialX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n        initialY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n\r\n        // Store initial position of the dragged element.\r\n        let box = targetElement.clientRect();\r\n\r\n        initialTop = box.top;\r\n        initialLeft = box.left;\r\n\r\n        // Store parent node initial position.\r\n        box = targetElement.node().parentNode.getBoundingClientRect();\r\n\r\n        // Get border width of the top and left sides.\r\n        let style = getComputedStyle(targetElement.node().parentNode);\r\n        let borderLeft = parseInt((style.borderLeftWidth + '').replace('px', ''));\r\n        let borderTop = parseInt((style.borderTopWidth + '').replace('px', ''));\r\n\r\n        // Exclude border width from position delta by adding border to the parent coordinates.\r\n        initialParentTop = box.top + borderTop;\r\n        initialParentLeft = box.left + borderLeft;\r\n\r\n        // Set element as dragged.\r\n        dragged = this;\r\n        draggedExt = ext;\r\n        targetElement.addClass('dragged');\r\n    }\r\n\r\n\r\n    /**\r\n     * Event handler.\r\n     * Called on each mouse move.\r\n     * @param e\r\n     */\r\n    function draggingHandler(e)\r\n    {\r\n        if(dragged === null) return;\r\n\r\n        let ext = dragged.extension('Drag');\r\n        if (ext === null) ext = dragged.instance().extension('Drag');\r\n        if (ext === null) return;\r\n\r\n        let target = ext.target,\r\n            targetElement = ext.params.targetElement;\r\n\r\n        let mX = e.touches !== undefined ? e.touches[0].clientX : e.clientX;\r\n        let mY = e.touches !== undefined ? e.touches[0].clientY : e.clientY;\r\n\r\n        let deltaX = mX - initialX;\r\n        let deltaY = mY - initialY;\r\n\r\n        let iTop = withinParent ? initialTop - initialParentTop  : initialTop;\r\n        let iLeft = withinParent ? initialLeft - initialParentLeft : initialLeft;\r\n\r\n        let newLeft = iLeft + deltaX;\r\n        let newTop = iTop + deltaY;\r\n\r\n        if (useBoundaries) {\r\n            // Prevent from dragging outside along X.\r\n            if(newLeft < 0) newLeft = 0;\r\n            if(withinParent){\r\n                let myW = targetElement.__.node.clientWidth;\r\n                let parentW = targetElement.__.node.parentNode.clientWidth;\r\n                if(newLeft > parentW - myW){\r\n                    newLeft = parentW - myW;\r\n                }\r\n            }\r\n\r\n            // Prevent from dragging outside along Y.\r\n            if(newTop < 0) newTop = 0;\r\n            if(withinParent){\r\n                let myH = targetElement.__.node.clientHeight;\r\n                let parentH = targetElement.__.node.parentNode.clientHeight;\r\n                if(newTop > parentH - myH){\r\n                    newTop = parentH - myH;\r\n                }\r\n            }\r\n        }\r\n\r\n        let event = new Event('drag', {cancelable: true});\r\n\r\n        let initialPoint = new Point(iLeft, iTop);\r\n        let newPoint     = new Point(newLeft, newTop);\r\n        let deltaPoint   = new Point(deltaX, deltaY);\r\n\r\n\r\n        target.triggerEvent('drag', targetElement.instance(), initialPoint, deltaPoint, event);\r\n\r\n        if (target !== targetElement) {\r\n            targetElement.triggerEvent('drag', targetElement.instance(), initialPoint, deltaPoint, event);\r\n        }\r\n\r\n\r\n        // If event's default is not prevented - apply new position.\r\n        if(event.defaultPrevented){\r\n            return;\r\n        }\r\n\r\n        let cssObj = {position: withinParent ? 'absolute' : 'fixed'};\r\n        if(x){\r\n            cssObj.left = newPoint.x + 'px';\r\n        }\r\n        if(y){\r\n            cssObj.top = newPoint.y + 'px';\r\n        }\r\n        targetElement.css(cssObj);\r\n    }\r\n\r\n    /**\r\n     * Event listener.\r\n     * Called each time user releases mouse.\r\n     * Terminates current dragging and triggers necessary events.\r\n     * @param e\r\n     */\r\n    function dragEndHandler(e)\r\n    {\r\n        if(dragged !== null && draggedExt !== null){\r\n            let target = draggedExt.target,\r\n                targetElement = draggedExt.params.targetElement;\r\n\r\n            target.triggerEvent('dragEnd', targetElement.instance(), e);\r\n            targetElement.triggerEvent('dragEnd', targetElement.instance(), e);\r\n            targetElement.removeClass('dragged');\r\n        }\r\n        dragged = null;\r\n        draggedExt = null;\r\n    }\r\n\r\n    document.addEventListener('mousemove', draggingHandler);\r\n    document.addEventListener('touchmove', draggingHandler);\r\n    document.addEventListener('mouseup', dragEndHandler);\r\n    document.addEventListener('touchend', dragEndHandler);\r\n}\r\n\r\n\r\n\r\n\r\n","export default function() {\r\n\r\n    Extension.register('Sortable', {\r\n        params: {\r\n            x: true,\r\n            y: true,\r\n            placeholderClass: 'placeholder'\r\n        },\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                dummy = null,\r\n                placeIndex = 0,\r\n                placeholder = null,\r\n                initialOpacity = 1;\r\n\r\n            function createDummy(el) {\r\n                let node = document.createElement('div');\r\n                node.className = params.placeholderClass;\r\n                node.style.width = el.outerWidth() + 'px';\r\n                node.style.height = el.outerHeight() + 'px';\r\n                node.style.position = 'fixed';\r\n                node.style.cursor = 'default !important';\r\n                node.style.zIndex = 1000000;\r\n                document.body.appendChild(node);\r\n                node.innerHTML = el.node().outerHTML;\r\n                node.firstChild.style.opacity = initialOpacity;\r\n\r\n                let src = el.node().getElementsByTagName('input');\r\n                let dst = node.getElementsByTagName('input');\r\n                for (let i = 0; i < src.length; i++) {\r\n                    dst[i].value = src[i].value;\r\n                }\r\n\r\n                return node;\r\n            }\r\n\r\n            params.downHandler = function(inst, initialPoint, deltaPoint, event) {\r\n                event.preventDefault();\r\n            };\r\n\r\n            // Add transparency to the dragged element to indicate dragging.\r\n            params.dragStartHandler = function (inst) {\r\n                if (UI.isInstance(this)) inst = this;\r\n                let el = inst.getRootElement();\r\n                initialOpacity = el.node().style.opacity === '' ? initialOpacity : el.node().style.opacity;\r\n                el.css({opacity: 0.25});\r\n            };\r\n\r\n            // Snap dummy to the cursor and set placeholder in the proper place.\r\n            params.dragHandler = function(inst, initialPoint, deltaPoint, event) {\r\n                event.preventDefault();\r\n\r\n                if (UI.isInstance(this)) inst = this;\r\n\r\n                let draggedElement = UI.isElement(this) ? this : inst.getRootElement();\r\n\r\n                if (dummy === null) {\r\n                    dummy = createDummy(inst.getRootElement());\r\n                }\r\n                let newX = initialPoint.x + deltaPoint.x;\r\n                let newY = initialPoint.y + deltaPoint.y;\r\n                dummy.style.top = newY + 'px';\r\n\r\n                if (params.x) {\r\n                    dummy.style.left = newX + 'px';\r\n                } else {\r\n                    dummy.style.left = initialPoint.x + 'px';\r\n                }\r\n\r\n                let items = target.children();\r\n                for (let i = 0, len = items.length; i < len; i++) {\r\n                    let item = items[i].getRootElement();\r\n\r\n                    // Remove placeholder if it exists.\r\n                    if (placeholder !== null) {\r\n                        target.node().removeChild(placeholder);\r\n                        placeholder = null;\r\n                    }\r\n\r\n                    let rect = item.clientRect();\r\n                    let halfH = rect.height/2;\r\n\r\n                    // Skip dragged element.\r\n                    if (item === draggedElement) continue;\r\n\r\n\r\n                    // Before.\r\n                    if ((item.node().previousSibling === null && newY < rect.top + halfH) || (newY < rect.top + halfH && newY > rect.top - halfH)) {\r\n                        if (item.node().previousSibling === draggedElement.node()) continue;\r\n                        placeholder = document.createElement('div');\r\n                        placeholder.style.height = item.outerHeight() + 'px';\r\n                        placeholder.style.width = '1px';\r\n                        target.node().insertBefore(placeholder, item.node());\r\n                        placeIndex = i === 0 ? 0 : i - 1;\r\n                        return;\r\n\r\n                    // After.\r\n                    } else if ((item.node().nextSibling === null && newY > rect.top + halfH) || (newY > rect.top + halfH && newY < rect.top + rect.height + halfH)) {\r\n                        if (item.node().nextSibling === draggedElement.node()) continue;\r\n                        placeholder = document.createElement('div');\r\n                        placeholder.style.height = item.outerHeight() + 'px';\r\n                        placeholder.style.width = '1px';\r\n                        if(item.node().nextSibling === null) {\r\n                            target.node().appendChild(placeholder);\r\n                        }\r\n                        target.node().insertBefore(placeholder, item.node().nextSibling);\r\n                        placeIndex = i + 1;\r\n                        return;\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Removes dummy and placeholder when dragging stops.\r\n            params.dropHandler = function(inst) {\r\n\r\n                if (UI.isInstance(this)) inst = this;\r\n\r\n                let draggedElement = UI.isElement(this) ? this : inst.getRootElement();\r\n\r\n                if (dummy !== null && dummy.parentNode !== null) {\r\n                    dummy.parentNode.removeChild(dummy);\r\n                    dummy = null;\r\n                }\r\n                if (placeholder !== null) {\r\n                    draggedElement.node().parentNode.removeChild(draggedElement.node());\r\n                    target.node().replaceChild(draggedElement.node(), placeholder);\r\n                    placeholder = null;\r\n                    target.triggerEvent('sort', draggedElement);\r\n                }\r\n\r\n                inst.getRootElement().css({opacity: initialOpacity || 1});\r\n            };\r\n\r\n            // Applies \"Drag\" extension to all children.\r\n            let items = target.children();\r\n            for (let i = 0; i < items.length; i++) {\r\n                let item = items[i];\r\n\r\n                Extension('Drag').applyTo(item, {\r\n                    withinParent: false,\r\n                    x: params.x,\r\n                    y: params.y\r\n                });\r\n\r\n                item.on('dragStart', params.dragStartHandler);\r\n                item.on('drag', params.dragHandler);\r\n                item.on('dragEnd', params.dropHandler);\r\n            }\r\n\r\n            // Add events handlers to the newly added items.\r\n            target.on('add', inst => {\r\n                let item = inst.getRootElement();\r\n\r\n                item.applyExtension('Drag', {\r\n                    withinParent: false,\r\n                    x: params.x,\r\n                    y: params.y\r\n                });\r\n\r\n                item.on('dragStart', params.dragStartHandler);\r\n                item.on('drag', params.dragHandler);\r\n                item.on('dragEnd', params.dropHandler);\r\n            });\r\n        },\r\n        onRemove(ext) {\r\n\r\n        },\r\n        onUpdate(ext, newParams) {\r\n\r\n        }\r\n    });\r\n\r\n}\r\n","export default function () {\r\n\r\n    /**\r\n     * Tab extension.\r\n     * Implements tabs behavior to the element and linked content.\r\n     * All tabs and their contents in the container will be toggled.\r\n     */\r\n    Extension.register('Tab', {\r\n        params: {\r\n            label: '',\r\n            content: null,\r\n            activeClass: 'active'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let p = ext.params;\r\n            if (p.content === null) {\r\n                UI.warn('No content specified for the extension \"Tab\".');\r\n                return;\r\n            }\r\n\r\n            if (p.label === '') {\r\n                p.label = tabCounter++ + '';\r\n                if (tabCounter > 10000000) tabCounter = 0;\r\n            }\r\n\r\n            ext.target.on('click', clickHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', clickHandler);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Click handler that toggles active tab.\r\n     * @param event {Event}\r\n     */\r\n    function clickHandler(event) {\r\n        let ext = this.extension('Tab');\r\n        let tabsContainer = this.parent();\r\n        let contentsContainer = ext.params.content.parent();\r\n        let items = tabsContainer.children();\r\n        let activeClass = ext.params.activeClass;\r\n        let linkedContent = ext.params.content;\r\n\r\n        // Remove active class from all tabs and add it to the clicked one.\r\n        for (let i = 0; i < items.length; i++) {\r\n            let el = items[i].getRootElement();\r\n            // Skip elements that don't have \"Tab\" extension.\r\n            if (el.extension('Tab') === null) continue;\r\n            el.removeClass(activeClass);\r\n        }\r\n        this.addClass(activeClass);\r\n\r\n        // Hide all contents and show linked with selected tab.\r\n        // Also change toggles active class.\r\n        items = contentsContainer.children();\r\n        for (let i = 0; i < items.length; i++) {\r\n            let el = items[i].getRootElement();\r\n            if (el !== linkedContent) {\r\n                el.removeClass(activeClass).fadeOut(150);\r\n            }\r\n        }\r\n        setTimeout(function () {\r\n            linkedContent.addClass(activeClass).fadeIn(150, 'flex');\r\n        }, 160);\r\n        this.triggerEvent('ext:tab.click', event);\r\n    }\r\n\r\n\r\n    /**\r\n     * Static counter.\r\n     * Used for the naming tabs without label.\r\n     * @type {number}\r\n     */\r\n    let tabCounter = 0;\r\n\r\n}","export default function () {\r\n\r\n    /**\r\n     *\r\n     */\r\n    Extension.register('Load more', {\r\n        params: {\r\n            url: '/load-more',\r\n            method: 'GET',\r\n            form: null,\r\n            type: 'from',\r\n            scrollThreshold: 100,\r\n            dummies: 10,\r\n            dummyClass: 'dummy'\r\n        },\r\n\r\n        onApply(ext) {\r\n            let cont = ext.target,\r\n                params = ext.params,\r\n                form = params.form,\r\n                type = params.type,\r\n                lastTime = 0,\r\n                lastItemWithNoMore = null,\r\n                dummies = params.dummies || 0,\r\n                dummyClass = params.dummyClass || 'dummy';\r\n\r\n            // Create ajax data provider.\r\n            let ajax = new Ajax({\r\n                url: params.url,\r\n                method: params.method,\r\n                allowMultiple: false\r\n            });\r\n\r\n            // Flag if it's possible to send request at the moment.\r\n            let ready = true;\r\n            ajax.on('complete', () => ready = true);\r\n\r\n            // Remove dummies before loading.\r\n            params.loadHandler = data => {\r\n                if (Array.isArray(data) && data.length > 0) {\r\n                    let dummies = cont.node().getElementsByClassName(dummyClass);\r\n                    for(let i = 0, len = dummies.length; i < len; i++){\r\n                        cont.node().removeChild(dummies[0]);\r\n                    }\r\n                }\r\n            };\r\n            cont.on('load', params.loadHandler);\r\n\r\n            // Render new dummies after loading will be finished.\r\n            params.afterLoadHandler = data => {\r\n                // Render dummies.\r\n                if( Array.isArray(data) && data.length > 0 && dummies > 0 ){\r\n                    // Trigger event.\r\n                    cont.triggerEvent('loadMore', data);\r\n                    if(cont.children().length > 0){\r\n                        for(let i = 0; i < dummies; i++){\r\n                            let dummy = document.createElement('div');\r\n                            dummy.className = dummyClass;\r\n                            cont.node().appendChild(dummy);\r\n                        }\r\n                    }\r\n                } else {\r\n                    // If no array loaded - toggle event with empty array to allow user\r\n                    // properly handle this situation: show some message or something else.\r\n                    cont.triggerEvent('loadMore', []);\r\n                }\r\n            };\r\n            cont.on('afterLoad', params.afterLoadHandler);\r\n\r\n            params.handler = () => {\r\n                // Calculate percents of the scroll position.\r\n                let percents = cont.scrollTop() / (cont.scrollHeight() - cont.outerHeight()) * 100;\r\n\r\n                // Get last item in the target.\r\n                let items = cont.children();\r\n                let lastItem = items[items.length - 1];\r\n\r\n                // If scroll position percents exceeds threshold - try to load more.\r\n                if (ready && percents >= params.scrollThreshold && (percents >= 1 || isNaN(percents)) && Date.now() - lastTime >= 250 && lastItemWithNoMore !== lastItem) {\r\n\r\n                    // Gather form data.\r\n                    let params = form === null || form === undefined ? {} : form.gatherData(true);\r\n\r\n                    if(type === 'from'){\r\n                        // Last item must implement \"Identified\" interface in the \"from\" mode.\r\n                        if (lastItem.isImplementationOf('Identified')) {\r\n                            params.from = lastItem.getId();\r\n                        }else{\r\n                            UI.error('Extension \"' + ext.name + '\": Last item doesn\\'t implement \"Identified\" interface:', \"\\n\\n\", Interface('Identified').toString(), \"\\n \");\r\n                            return;\r\n                        }\r\n                    }else{\r\n                        params.offset = cont.children().length;\r\n                    }\r\n\r\n                    ready = false;\r\n                    lastTime = Date.now();\r\n\r\n                    // Load data.\r\n                    ajax.params(params).fetch(response => {\r\n                        lastTime = Date.now();\r\n                        if( ! Array.isArray(response) ) return;\r\n                        if(response.length === 0){\r\n                            lastItemWithNoMore = lastItem;\r\n                        }\r\n                        cont.load(response, false, false);\r\n                    });\r\n                }\r\n            };\r\n            cont.on('scroll', params.handler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('scroll', ext.params.handler);\r\n            ext.target.off('scroll', ext.params.loadHandler);\r\n            ext.target.off('scroll', ext.params.afterLoadHandler);\r\n        },\r\n\r\n        onUpdate(ext, newParams) {\r\n\r\n        }\r\n    });\r\n\r\n}","export default function () {\r\n\r\n    Extension.register('Dropdown', {\r\n        params: {\r\n            side: 'auto',\r\n            target: null\r\n        },\r\n\r\n        onApply(ext) {\r\n            let target = ext.target,\r\n                params = ext.params,\r\n                content = params.target;\r\n\r\n            target.__._dropdownContent = content;\r\n\r\n            content.css({display: 'none'});\r\n\r\n            params.clickHandler = function() {\r\n                let expand = !this.hasClass('dropdown-expanded');\r\n\r\n\r\n                let event = new Event('blur', {cancelable: true});\r\n                /*\r\n                content.triggerEvent('blur', target, event);\r\n\r\n                // Stop do anything if event is canceled.\r\n                if(event.defaultPrevented){\r\n                    return;\r\n                }\r\n                */\r\n\r\n                if (expand) {\r\n                    target.addClass('dropdown-expanded');\r\n                    content.addClass('dropdown-expanded');\r\n                    event = new Event('expand', {cancelable: true});\r\n                    content.triggerEvent('expand', this, event);\r\n                    // Use default expanding animation if event is canceled.\r\n                    if(!event.defaultPrevented){\r\n                        content.slideDown(100, () => content.css({display: 'flex'}));\r\n                    }\r\n                } else {\r\n                    target.removeClass('dropdown-expanded');\r\n                    content.removeClass('dropdown-expanded');\r\n                    event = new Event('collapse', {cancelable: true});\r\n                    content.triggerEvent('collapse', this, event);\r\n                    // Use default collapsing animation if event is canceled.\r\n                    if(!event.defaultPrevented){\r\n                        content.slideUp(100, () => content.css({display: 'none'}));\r\n                    }\r\n                }\r\n            };\r\n\r\n            target.on('click', params.clickHandler);\r\n        },\r\n\r\n        onRemove(ext) {\r\n            ext.target.off('click', ext.params.clickHandler);\r\n            delete ext.target.__._dropdownContent;\r\n        }\r\n    });\r\n\r\n\r\n    // Handle dropdown collapsing.\r\n    document.addEventListener('mousedown', function(e){\r\n        let target = e.target;\r\n\r\n        // Loop through parents to check if user clicked on the expanded.\r\n        while (target !== null) {\r\n            if (UI.isElement(target.element) && target.element.hasClass('dropdown-expanded')) {\r\n                target = target.element.node();\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        let items = document.getElementsByClassName('dropdown-expanded');\r\n        items = Array.prototype.slice.call(items, 0);\r\n\r\n        for (let i = 0, len = items.length; i < len; i++) {\r\n            if (items[i] === target) continue;\r\n\r\n\r\n            if (UI.isElement(items[i].element) && UI.isElement(items[i].element.__._dropdownContent)) {\r\n                let label = items[i].element;\r\n                let content = label.__._dropdownContent;\r\n\r\n                if(content.node() === target || label.node() === target) continue;\r\n\r\n                label.removeClass('dropdown-expanded');\r\n                content.removeClass('dropdown-expanded');\r\n\r\n                // Collapse dropdown.\r\n                let event = new Event('collapse', {cancelable: true});\r\n                content.triggerEvent('collapse', content, event);\r\n                if(!event.defaultPrevented){\r\n                    content.slideUp(100, function(){\r\n                        content.css({display: 'none'});\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n}"],"names":["splitByUpperCase","str","replace","split","makeClassName","join","toLowerCase","Exception","message","UIRegistrationException","call","name","InvalidSchemeException","RenderingException","log","args","Array","prototype","slice","arguments","Settings","logging","console","apply","msgFormatter","warn","error","addEventsMethods","target","hasOwnProperty","__","events","dispatchers","eventsTimeouts","listen","eventName","handler","port","arr","length","trim","EventsDispatcher","on","addEventListener","portNumber","EventException","onPort","isArray","indexOf","push","removeEventListener","index","splice","off","triggerEvent","delay","parseInt","i","len","clearTimeout","setTimeout","_this","runHandlers","interruptEvent","offPort","offAllPorts","trigger","cloneSimpleObject","obj","clone","constructor","Object","cloneObjectTo","src","dst","p","extendObject","extensionsManager","extensions","defaultCollector","callback","cache","runElementHandlers","e","handlers","uielement","type","uiinstance","createValueHolder","ValueHolder","_value","value","isEmpty","gatherElementData","data","curData","propName","gatherChildNodes","children","hasAttr","attr","event","Event","tagName","prop","val","hasInclusion","tmp","gatherInstanceData","inclusion","keys","hasChildUI","res","getRootElement","root","childNodes","node","element","elName","instance","result","scheme","ui","cancelable","defaultPrevented","v","addGatheredData","k","s","compactData","tabClickHandler","isTab","c","getAllNearbyElements","removeClass","tabContainer","fadeOut","hide","addClass","container","fadeIn","cloneSchemeLinear","rules","parseParameters","_result","parameters","prm","match","regexp_params","attributes","att","regexp_attribute","properties","pr","regexp_property","tag","regexp_tagName","id","regexp_id","class","regexp_class","child","regexp_childUI","include","regexp_include","buildScheme","atStart","params","targetNode","elementName","devMode","childUI","uiRegistry","get","dependencies","deps","isImplementationOf","uiClass","Element","inclusionUI","add","localization","translations","setAttribute","T","t","L10n","getTranslations","text","parent","document","querySelector","first","firstChild","appendChild","insertBefore","filterUIParameterValue","numberRegexp","test","checkUIParameters","Instance","defineProperty","configurable","enumerable","writeable","generateCSS","parentSelector","parentEl","styles","cssText","selector","elements","rootSelector","rootClass","styleName","style","getValue","interfaceManager","interfaces","createResetStyles","resetStyles","styleTag","createElement","head","getElementsByTagName","innerHTML","cssGenerator","generateSimpleStyles","Builder","getLayout","layouts","Layout","LayoutUI","Color","attachValues","toColorObject","colorNames","colorHexes","x","y","typ","arrLength","opacity","a","hue","sat","rgb","colorTrim","substr","toUpperCase","isNaN","emptyObject","r","g","b","hslToRgb","hwbToRgb","ncolToRgb","cmykToRgb","ncsToRgb","getColorArr","isHex","colorObject","m","ncol","white","black","letter","percent","h","rgbArr","tot","toFixed","ncs","chroma","bc","black1","chroma1","factor1","blue1","red1","red2","green2","blue2","max","factor2","grey","green1","hsl","hwb","cmyk","color","rgbToHsl","rgbToHwb","rgbToCmyk","hueToNcol","red","green","blue","lightness","l","whiteness","w","blackness","cyan","magenta","yellow","valid","roundDecimals","bl","min","light","t1","t2","hueToRgb","maxColor","toHex","n","hex","toString","XY","Point","Rect","Vector","themesManager","StyleGetter","setCsrfToken","token","csrfToken","csrfParam","Url","route","urlRefiners","URL","url","path","paramsArr","pArr","decodeURIComponent","RouteManager","routes","placeholders","cutRoute","Route","switchLanguageTo","lang","language","curTranslation","en","category","translate","loadTranslations","defaultTranslationsLoader","ajax","DataAjax","localizationsPath","method","fetch","addTranslation","GlobalEvents","ajaxCollector","permanentRedirections","_uidata","xhttp","XMLHttpRequest","onprogress","lengthComputable","Math","ceil","loaded","total","onreadystatechange","readyState","status","newUrl","getResponseHeader","triggerErrorEvents","triggerRedirectionEvents","preventDefault","redirectionUrl","window","location","contentType","JSON","parse","responseText","cacheLifetime","hasError","Ajax","lastFetchTime","Date","now","ready","_prameters","FormData","_parameters","encodeURIComponent","stringify","open","headers","setRequestHeader","useCsrf","append","send","UIWebSocketCollector","ws","WS","WebSocket","formats","FORMAT_JSON","FORMAT_TOKENIZED_JSON","FORMAT_RAW","format","authRequestMessage","authSuccessMessage","authFailMessage","conn","authorized","reconnectionInterval","tokens","randomId","possible","charAt","floor","random","Message","Identity","currentUser","User","userData","role","firstName","secondName","email","phone","photo","Photo","sign","position","companyId","companyName","photoData","small","medium","large","Format","date","formatDate","dt","Y","getFullYear","d","getLanguage","monthShortName","getMonth","getDate","ordinal","EventsChannel","channelsManager","Selection","channels","channel","round","asin","abs","sqrt","pow","sin","cos","PI","setParsingRule","subjectOrRules","regularExpression","SettingsException","RegExp","enableLogging","enable","navigator","userAgent","vendor","unshift","_extendings","extendingsRegistry","extending","delete","_uis","extend","getAll","remove","ports","context","Extension","options","applyTo","ext","ExtensionInstance","removeFrom","extension","vars","update","register","Animation","duration","start","end","f","stopped","run","t_start","performance","dur","step","state","requestAnimationFrame","stop","default","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","Data","allowMultiple","collector","UIDataException","waitingLimit","timeElapsed","childParams","draggable","dragX","dragY","isDragging","dragWithinParent","dragBoundaries","translation","animation","fx","className","applyExtension","removeExtension","updateExtension","applyLocalization","scrollTop","scrollHeight","setChildUI","render","getChildUI","findTopLocalParent","UII","parentUII","parentInstance","getAllChildElements","parentNode","nativeEvents","removeAllEventListeners","removeChildren","removeChild","addOne","addOneAfter","addAfter","addOneBefore","addBefore","renderTo","item","_uibuilder","InvalidParamException","prepare","lastElement","getLastRootElement","appendAfter","firstElement","getFirstRootElement","appendBefore","html","textContent","hasAttribute","getAttribute","removeAttr","removeAttribute","href","getContext","width","height","outerWidth","offsetWidth","outerHeight","offsetHeight","display","oldDisplay","show","showAs","offsetParent","isHidden","computedStyle","isVisible","visibility","contentHeight","getComputedStyle","getPropertyValue","slideDown","css","overflow","animate","slideUp","slideToggle","clientHeight","hasClass","classList","contains","hasClasses","classNames","toggleClass","toggle","parseFloat","clientRect","getBoundingClientRect","displayAs","hideOnEnd","el","fadeToggle","props","startValues","endValues","units","stopAnimation","ani","isEnd","cssObj","diff","load","response","bind","deleteContent","exception","resetValues","gatherData","compact","newEl","oldNode","newNode","cloneNode","makeTabFor","siblings","interfaceName","implements","UI","loadLocalization","L","incRoot","topLevel","lastKey","appendTo","next","nextSibling","generateUIStyles","Interface","methods","methodsQuantity","Method","implementedBy","checkSignature","signatureRegexp","signature","func","interfacesUIs","getImplementation","addImplementation","detectInterfacesFor","uis","inter","implementations","uiiConstructor","UIExtending","extendingUI","extendedUIName","extendedUI","cssLoaded","styleNode","AnotherInstance","create","namespace","prefix","items","assign","containerNode","createStyles","extends","Extending","isInstance","subject","isElement","currentLayoutName","currentLayoutInst","getInstance","toRgbString","toRgbaString","alpha","toHwbString","toHwbStringDecimal","toHwbaString","toHslString","toHslStringDecimal","toHslaString","toCmykString","toCmykStringDecimal","toNcolString","toNcolStringDecimal","toNcolaString","toName","colorhexs","toHexString","toRgb","toHsl","toHwb","toCmyk","toNcol","isDark","saturate","desaturate","lighter","darker","_darker","_lighter","_alpha","_default","Theme","getStyle","amount","subtract","multiply","divide","inRect","rect","fit","k1","k2","copyValuesFrom","normalize","themes","currentTheme","updateIfExists","updateStyles","switchTo","pop","theme","shift","components","getThemeName","addSection","newStyles","urlParsers","setRefiner","refiner","setParser","parser","matches","query","origin","queryParameters","gatherParams","$","find","each","queryArr","removeParams","curRoute","curRouteParams","prevRoute","current","previous","currentParams","urlData","newParams","applyChain","curUrlData","pathname","curUrlArray","routeArray","history","pushState","runParentRoute","parentRoute","revert","setLanguage","ru","es","de","pt","br","it","fr","jp","ko","zh","translators","translationsLoader","setLocalizationsPath","getLocalizationsPath","currentlyLoading","translationsLoadingCallbacks","cat","callbacks","to","registerTranslationsLoader","loader","CategoryTranslator","querySelectorAll","innerText","statusCode","WSData","connect","ti","onopen","clearInterval","onclose","onmessage","Token","dataWrapper","isAdded","Symbol","Storage","entityClass","throttle","entities","entity","triggerEvents","createEntity","addMultiple","removeAll","count","values","storage","set","onChange","onAdd","onRemove","isEntityAdded","isGuest","getUser","fullName","changeUser","newUser","month","time","money","currency","extensionManager","DataWS","layout","enableDevMode","mouseX","mouseY","isTabletScreen","innerWidth","isPhoneScreen","touches","clientX","clientY","modalCloseBtnHandler","overlay","close","modalVeilHandler","_x","_y","wrap","label","scrollingButtons","scrollTopButton","scrollBottomButton","closeButton","progressBar","track","bar","skeleton","content","closeOnBlur","applyParams","minHeight","updateScrollingButtons","inst","setSkeleton","showSkeleton","hideSkeleton","trackProgress","percents","maxHeight","boxShadow","code","transform","transition","scrollBottom","initial","onRender","transformOrigin","onLoad","flexDirection","top","left","backgroundColor","justifyContent","alignItems","overflowY","zIndex","right","padding","fontSize","fontWeight","fontFamily","cursor","backgroundImage","minWidth","maxWidth","borderRadius","margin","flexShrink","flexGrow","marginBottom","marginTop","lineHeight","labels","contents","addTab","tab","activateTab","removeTab","getTabByLabel","getLabel","hideTab","nextTabIndex","getTabByIndex","showTab","getContentFor","getContent","hideAllContents","deactivateAllLabels","tabs","getTab","labelOrIndex","activateTabByLabel","activateTabByIndex","removeAllTabs","colors","fonts","activeClass","onApply","body","newCallback","onUpdate","side","hideOnBlur","fadingTime","popover","fractional","negative","precision","inputHandler","focus","changeHandler","dragStartHandler","targetElement","withinParent","useBoundaries","pos","initialX","initialY","box","initialTop","initialLeft","borderLeft","borderLeftWidth","borderTop","borderTopWidth","initialParentTop","initialParentLeft","dragged","draggedExt","draggingHandler","mX","mY","deltaX","deltaY","iTop","iLeft","newLeft","newTop","myW","clientWidth","parentW","myH","parentH","initialPoint","newPoint","deltaPoint","dragEndHandler","handle","getHandle","getDragged","placeholderClass","createDummy","outerHTML","initialOpacity","dummy","placeholder","downHandler","dragHandler","draggedElement","newX","newY","halfH","previousSibling","dropHandler","replaceChild","clickHandler","tabsContainer","contentsContainer","linkedContent","tabCounter","form","scrollThreshold","dummies","dummyClass","cont","lastTime","lastItemWithNoMore","loadHandler","getElementsByClassName","afterLoadHandler","lastItem","offset","from","getId","_dropdownContent","expand"],"mappings":"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"}